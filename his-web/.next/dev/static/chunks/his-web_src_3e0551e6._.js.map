{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/Icons.tsx"],"sourcesContent":["'use client';\n\nimport {\n  LayoutDashboard,\n  Activity,\n  Users,\n  UserPlus,\n  Calendar,\n  BedDouble,\n  Stethoscope,\n  Pill,\n  FlaskConical,\n  CreditCard,\n  BarChart3,\n  Settings,\n  Search,\n  Bell,\n  Menu,\n  X,\n  ChevronDown,\n  ChevronRight,\n  ChevronLeft,\n  Sun,\n  Moon,\n  Heart,\n  TrendingUp,\n  TrendingDown,\n  List,\n  Plus,\n  FileText,\n  Package,\n  PanelLeft,\n  AlignJustify,\n  LogOut,\n  User,\n  Lock,\n  Eye,\n  EyeOff,\n  AlertCircle,\n  Loader2,\n  Home,\n  FolderOpen,\n  ClipboardList,\n  Syringe,\n  Microscope,\n  Receipt,\n  FileBarChart,\n  Cog,\n  Shield,\n  UserCog,\n  Building,\n  type LucideIcon,\n} from 'lucide-react';\n\n// Icon mapping for dynamic usage\nexport const Icons: Record<string, LucideIcon> = {\n  dashboard: LayoutDashboard,\n  home: Home,\n  emergency: Activity,\n  users: Users,\n  userPlus: UserPlus,\n  user: User,\n  userCog: UserCog,\n  calendar: Calendar,\n  bed: BedDouble,\n  stethoscope: Stethoscope,\n  pill: Pill,\n  flask: FlaskConical,\n  microscope: Microscope,\n  syringe: Syringe,\n  creditCard: CreditCard,\n  receipt: Receipt,\n  chart: BarChart3,\n  fileBarChart: FileBarChart,\n  settings: Settings,\n  cog: Cog,\n  search: Search,\n  bell: Bell,\n  menu: Menu,\n  close: X,\n  chevronDown: ChevronDown,\n  chevronRight: ChevronRight,\n  chevronLeft: ChevronLeft,\n  sun: Sun,\n  moon: Moon,\n  heart: Heart,\n  trendingUp: TrendingUp,\n  trendingDown: TrendingDown,\n  list: List,\n  clipboardList: ClipboardList,\n  plus: Plus,\n  file: FileText,\n  folder: FolderOpen,\n  box: Package,\n  sidebar: PanelLeft,\n  horizontal: AlignJustify,\n  logout: LogOut,\n  lock: Lock,\n  eye: Eye,\n  eyeOff: EyeOff,\n  alertCircle: AlertCircle,\n  loader: Loader2,\n  shield: Shield,\n  building: Building,\n};\n\n// Get icon by name (case-insensitive)\nexport const getIcon = (name: string): LucideIcon => {\n  // Try exact match first\n  if (Icons[name]) return Icons[name];\n\n  // Try lowercase\n  const lowerName = name.toLowerCase();\n  const found = Object.keys(Icons).find((key) => key.toLowerCase() === lowerName);\n\n  return found ? Icons[found] : FileText;\n};\n\n// Re-export commonly used icons\nexport {\n  LayoutDashboard,\n  Activity,\n  Users,\n  UserPlus,\n  Calendar,\n  BedDouble,\n  Stethoscope,\n  Pill,\n  FlaskConical,\n  CreditCard,\n  BarChart3,\n  Settings,\n  Search,\n  Bell,\n  Menu,\n  X,\n  ChevronDown,\n  ChevronRight,\n  ChevronLeft,\n  Sun,\n  Moon,\n  Heart,\n  TrendingUp,\n  TrendingDown,\n  List,\n  Plus,\n  FileText,\n  Package,\n  PanelLeft,\n  AlignJustify,\n  LogOut,\n  User,\n  Lock,\n  Eye,\n  EyeOff,\n  AlertCircle,\n  Loader2,\n};\n\nexport type IconName = keyof typeof Icons;"],"names":[],"mappings":";;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;AAuDO,MAAM,QAAoC;IAC/C,WAAW,gQAAe;IAC1B,MAAM,4NAAI;IACV,WAAW,uOAAQ;IACnB,OAAO,8NAAK;IACZ,UAAU,2OAAQ;IAClB,MAAM,2NAAI;IACV,SAAS,wOAAO;IAChB,UAAU,uOAAQ;IAClB,KAAK,8OAAS;IACd,aAAa,gPAAW;IACxB,MAAM,2NAAI;IACV,OAAO,uPAAY;IACnB,YAAY,6OAAU;IACtB,SAAS,oOAAO;IAChB,YAAY,iPAAU;IACtB,SAAS,oOAAO;IAChB,OAAO,gPAAS;IAChB,cAAc,4QAAY;IAC1B,UAAU,uOAAQ;IAClB,KAAK,wNAAG;IACR,QAAQ,iOAAM;IACd,MAAM,2NAAI;IACV,MAAM,2NAAI;IACV,OAAO,kNAAC;IACR,aAAa,oPAAW;IACxB,cAAc,uPAAY;IAC1B,aAAa,oPAAW;IACxB,KAAK,wNAAG;IACR,MAAM,2NAAI;IACV,OAAO,8NAAK;IACZ,YAAY,iPAAU;IACtB,cAAc,uPAAY;IAC1B,MAAM,2NAAI;IACV,eAAe,0PAAa;IAC5B,MAAM,2NAAI;IACV,MAAM,2OAAQ;IACd,QAAQ,iPAAU;IAClB,KAAK,oOAAO;IACZ,SAAS,8OAAS;IAClB,YAAY,+PAAY;IACxB,QAAQ,qOAAM;IACd,MAAM,2NAAI;IACV,KAAK,wNAAG;IACR,QAAQ,qOAAM;IACd,aAAa,oPAAW;IACxB,QAAQ,6OAAO;IACf,QAAQ,iOAAM;IACd,UAAU,uOAAQ;AACpB;AAGO,MAAM,UAAU,CAAC;IACtB,wBAAwB;IACxB,IAAI,KAAK,CAAC,KAAK,EAAE,OAAO,KAAK,CAAC,KAAK;IAEnC,gBAAgB;IAChB,MAAM,YAAY,KAAK,WAAW;IAClC,MAAM,QAAQ,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,MAAQ,IAAI,WAAW,OAAO;IAErE,OAAO,QAAQ,KAAK,CAAC,MAAM,GAAG,2OAAQ;AACxC"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/ToggleSwitch.tsx"],"sourcesContent":["'use client';\n\nimport { FC } from 'react';\n\ninterface ToggleSwitchProps {\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  leftLabel?: string;\n  rightLabel?: string;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n  size?: 'sm' | 'md';\n}\n\nexport const ToggleSwitch: FC<ToggleSwitchProps> = ({\n  checked,\n  onChange,\n  leftLabel,\n  rightLabel,\n  leftIcon,\n  rightIcon,\n  size = 'md',\n}) => {\n  const sizes = {\n    sm: {\n      switch: 'h-5 w-9',\n      thumb: 'h-4 w-4',\n      translate: 'translate-x-4',\n    },\n    md: {\n      switch: 'h-6 w-11',\n      thumb: 'h-5 w-5',\n      translate: 'translate-x-5',\n    },\n  };\n\n  const s = sizes[size];\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      {leftIcon && <span className=\"text-slate-500 dark:text-slate-400\">{leftIcon}</span>}\n      {leftLabel && (\n        <span className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n          {leftLabel}\n        </span>\n      )}\n      \n      <button\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        onClick={() => onChange(!checked)}\n        className={`\n          relative inline-flex shrink-0 cursor-pointer rounded-full\n          border-2 border-transparent transition-colors duration-200 ease-in-out\n          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2\n          ${s.switch}\n          ${checked ? 'bg-primary-500' : 'bg-slate-300 dark:bg-slate-600'}\n        `}\n      >\n        <span\n          className={`\n            pointer-events-none inline-block transform rounded-full\n            bg-white shadow-lg ring-0 transition duration-200 ease-in-out\n            ${s.thumb}\n            ${checked ? s.translate : 'translate-x-0'}\n          `}\n        />\n      </button>\n\n      {rightLabel && (\n        <span className=\"text-xs font-medium text-slate-500 dark:text-slate-400\">\n          {rightLabel}\n        </span>\n      )}\n      {rightIcon && <span className=\"text-slate-500 dark:text-slate-400\">{rightIcon}</span>}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;AAcO,MAAM,eAAsC,CAAC,EAClD,OAAO,EACP,QAAQ,EACR,SAAS,EACT,UAAU,EACV,QAAQ,EACR,SAAS,EACT,OAAO,IAAI,EACZ;IACC,MAAM,QAAQ;QACZ,IAAI;YACF,QAAQ;YACR,OAAO;YACP,WAAW;QACb;QACA,IAAI;YACF,QAAQ;YACR,OAAO;YACP,WAAW;QACb;IACF;IAEA,MAAM,IAAI,KAAK,CAAC,KAAK;IAErB,qBACE,2MAAC;QAAI,WAAU;;YACZ,0BAAY,2MAAC;gBAAK,WAAU;0BAAsC;;;;;;YAClE,2BACC,2MAAC;gBAAK,WAAU;0BACb;;;;;;0BAIL,2MAAC;gBACC,MAAK;gBACL,MAAK;gBACL,gBAAc;gBACd,SAAS,IAAM,SAAS,CAAC;gBACzB,WAAW,CAAC;;;;UAIV,EAAE,EAAE,MAAM,CAAC;UACX,EAAE,UAAU,mBAAmB,iCAAiC;QAClE,CAAC;0BAED,cAAA,2MAAC;oBACC,WAAW,CAAC;;;YAGV,EAAE,EAAE,KAAK,CAAC;YACV,EAAE,UAAU,EAAE,SAAS,GAAG,gBAAgB;UAC5C,CAAC;;;;;;;;;;;YAIJ,4BACC,2MAAC;gBAAK,WAAU;0BACb;;;;;;YAGJ,2BAAa,2MAAC;gBAAK,WAAU;0BAAsC;;;;;;;;;;;;AAG1E;KAhEa"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/Dropdown.tsx"],"sourcesContent":["'use client';\n\nimport { FC, useState, useRef, useEffect, ReactNode } from 'react';\nimport { ChevronDown } from 'lucide-react';\n\ninterface DropdownItem {\n  id: string;\n  label: string;\n  href?: string;\n  onClick?: () => void;\n}\n\ninterface DropdownProps {\n  trigger: ReactNode;\n  items: DropdownItem[];\n  align?: 'left' | 'right';\n}\n\nexport const Dropdown: FC<DropdownProps> = ({ trigger, items, align = 'left' }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Close on escape key\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen]);\n\n  return (\n    <div ref={dropdownRef} className=\"relative\">\n      {/* Trigger */}\n      <div onClick={() => setIsOpen(!isOpen)} className=\"cursor-pointer\">\n        {trigger}\n      </div>\n\n      {/* Menu */}\n      <div\n        className={`\n          dropdown-menu\n          ${align === 'right' ? 'right-0 left-auto' : 'left-0'}\n          ${isOpen ? 'open' : ''}\n        `}\n      >\n        {items.map((item) => (\n          <a\n            key={item.id}\n            href={item.href || '#'}\n            className=\"dropdown-item\"\n            onClick={(e) => {\n              if (item.onClick) {\n                e.preventDefault();\n                item.onClick();\n              }\n              setIsOpen(false);\n            }}\n          >\n            {item.label}\n          </a>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Navigation Dropdown specifically for horizontal menu\ninterface NavDropdownProps {\n  label: string;\n  icon?: ReactNode;\n  items: DropdownItem[];\n  badge?: string | number;\n  badgeColor?: 'primary' | 'success' | 'warning' | 'critical';\n}\n\nexport const NavDropdown: FC<NavDropdownProps> = ({\n  label,\n  icon,\n  items,\n  badge,\n  badgeColor = 'primary',\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const badgeColors = {\n    primary: 'bg-primary-500 text-white',\n    success: 'bg-success-500 text-white',\n    warning: 'bg-warning-500 text-slate-900',\n    critical: 'bg-critical-500 text-white',\n  };\n\n  return (\n    <div ref={dropdownRef} className=\"relative\">\n      {/* Trigger Button */}\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className={`\n          nav-item-horizontal\n          ${isOpen ? 'bg-slate-100 dark:bg-slate-800' : ''}\n        `}\n      >\n        {icon && <span className=\"w-4 h-4\">{icon}</span>}\n        <span>{label}</span>\n        {badge && (\n          <span className={`px-1.5 py-0.5 text-[10px] font-semibold rounded-full ${badgeColors[badgeColor]}`}>\n            {badge}\n          </span>\n        )}\n        <ChevronDown\n          size={12}\n          className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n        />\n      </button>\n\n      {/* Dropdown Menu */}\n      <div\n        className={`\n          dropdown-menu min-w-44\n          ${isOpen ? 'open' : ''}\n        `}\n      >\n        {items.map((item) => (\n          <a\n            key={item.id}\n            href={item.href || '#'}\n            className=\"dropdown-item\"\n            onClick={(e) => {\n              if (item.onClick) {\n                e.preventDefault();\n                item.onClick();\n              }\n              setIsOpen(false);\n            }}\n          >\n            {item.label}\n          </a>\n        ))}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAkBO,MAAM,WAA8B,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,MAAM,EAAE;;IAC5E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uLAAQ,EAAC;IACrC,MAAM,cAAc,IAAA,qLAAM,EAAiB;IAE3C,uCAAuC;IACvC,IAAA,wLAAS;8BAAC;YACR,MAAM;yDAAqB,CAAC;oBAC1B,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAC9E,UAAU;oBACZ;gBACF;;YAEA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,aAAa;YACzC;YAEA;sCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;6BAAG;QAAC;KAAO;IAEX,sBAAsB;IACtB,IAAA,wLAAS;8BAAC;YACR,MAAM;mDAAe,CAAC;oBACpB,IAAI,MAAM,GAAG,KAAK,UAAU;wBAC1B,UAAU;oBACZ;gBACF;;YAEA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,WAAW;YACvC;YAEA;sCAAO;oBACL,SAAS,mBAAmB,CAAC,WAAW;gBAC1C;;QACF;6BAAG;QAAC;KAAO;IAEX,qBACE,2MAAC;QAAI,KAAK;QAAa,WAAU;;0BAE/B,2MAAC;gBAAI,SAAS,IAAM,UAAU,CAAC;gBAAS,WAAU;0BAC/C;;;;;;0BAIH,2MAAC;gBACC,WAAW,CAAC;;UAEV,EAAE,UAAU,UAAU,sBAAsB,SAAS;UACrD,EAAE,SAAS,SAAS,GAAG;QACzB,CAAC;0BAEA,MAAM,GAAG,CAAC,CAAC,qBACV,2MAAC;wBAEC,MAAM,KAAK,IAAI,IAAI;wBACnB,WAAU;wBACV,SAAS,CAAC;4BACR,IAAI,KAAK,OAAO,EAAE;gCAChB,EAAE,cAAc;gCAChB,KAAK,OAAO;4BACd;4BACA,UAAU;wBACZ;kCAEC,KAAK,KAAK;uBAXN,KAAK,EAAE;;;;;;;;;;;;;;;;AAiBxB;GAxEa;KAAA;AAmFN,MAAM,cAAoC,CAAC,EAChD,KAAK,EACL,IAAI,EACJ,KAAK,EACL,KAAK,EACL,aAAa,SAAS,EACvB;;IACC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uLAAQ,EAAC;IACrC,MAAM,cAAc,IAAA,qLAAM,EAAiB;IAE3C,uCAAuC;IACvC,IAAA,wLAAS;iCAAC;YACR,MAAM;4DAAqB,CAAC;oBAC1B,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAC9E,UAAU;oBACZ;gBACF;;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC;yCAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;gCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,SAAS;QACT,SAAS;QACT,SAAS;QACT,UAAU;IACZ;IAEA,qBACE,2MAAC;QAAI,KAAK;QAAa,WAAU;;0BAE/B,2MAAC;gBACC,MAAK;gBACL,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAW,CAAC;;UAEV,EAAE,SAAS,mCAAmC,GAAG;QACnD,CAAC;;oBAEA,sBAAQ,2MAAC;wBAAK,WAAU;kCAAW;;;;;;kCACpC,2MAAC;kCAAM;;;;;;oBACN,uBACC,2MAAC;wBAAK,WAAW,CAAC,qDAAqD,EAAE,WAAW,CAAC,WAAW,EAAE;kCAC/F;;;;;;kCAGL,2MAAC,oPAAW;wBACV,MAAM;wBACN,WAAW,CAAC,kCAAkC,EAAE,SAAS,eAAe,IAAI;;;;;;;;;;;;0BAKhF,2MAAC;gBACC,WAAW,CAAC;;UAEV,EAAE,SAAS,SAAS,GAAG;QACzB,CAAC;0BAEA,MAAM,GAAG,CAAC,CAAC,qBACV,2MAAC;wBAEC,MAAM,KAAK,IAAI,IAAI;wBACnB,WAAU;wBACV,SAAS,CAAC;4BACR,IAAI,KAAK,OAAO,EAAE;gCAChB,EAAE,cAAc;gCAChB,KAAK,OAAO;4BACd;4BACA,UAAU;wBACZ;kCAEC,KAAK,KAAK;uBAXN,KAAK,EAAE;;;;;;;;;;;;;;;;AAiBxB;IA/Ea;MAAA"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/Badge.tsx"],"sourcesContent":["'use client';\n\nimport { FC, ReactNode } from 'react';\n\ninterface BadgeProps {\n  children: ReactNode;\n  variant?: 'primary' | 'success' | 'warning' | 'critical' | 'default';\n  size?: 'sm' | 'md';\n  pulse?: boolean;\n}\n\nexport const Badge: FC<BadgeProps> = ({\n  children,\n  variant = 'default',\n  size = 'sm',\n  pulse = false,\n}) => {\n  const variants = {\n    primary: 'bg-primary-500 text-white',\n    success: 'bg-success-500 text-white',\n    warning: 'bg-warning-500 text-slate-900',\n    critical: 'bg-critical-500 text-white',\n    default: 'bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300',\n  };\n\n  const sizes = {\n    sm: 'px-1.5 py-0.5 text-[10px]',\n    md: 'px-2 py-0.5 text-xs',\n  };\n\n  return (\n    <span\n      className={`\n        inline-flex items-center justify-center font-semibold rounded-full\n        ${variants[variant]}\n        ${sizes[size]}\n        ${pulse ? 'animate-pulse-subtle' : ''}\n      `}\n    >\n      {children}\n    </span>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;AAWO,MAAM,QAAwB,CAAC,EACpC,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,KAAK,EACd;IACC,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,UAAU;QACV,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,2MAAC;QACC,WAAW,CAAC;;QAEV,EAAE,QAAQ,CAAC,QAAQ,CAAC;QACpB,EAAE,KAAK,CAAC,KAAK,CAAC;QACd,EAAE,QAAQ,yBAAyB,GAAG;MACxC,CAAC;kBAEA;;;;;;AAGP;KA/Ba"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/SearchablePatientSelect.tsx"],"sourcesContent":["// src/components/ui/SearchablePatientSelect.tsx\n// Searchable patient select component with dropdown\n// Supports external updates from Smart Card reader\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { User, ChevronDown, Loader2, X, Search, AlertCircle } from 'lucide-react';\nimport { patientApi } from '@/lib/api';\nimport { PatientListItem } from '@/types/patient.types';\n\nexport interface SearchablePatientSelectProps {\n  value: string;\n  onChange: (hn: string, patient: PatientListItem | null, cardPhoto?: string | null) => void;\n  placeholder?: string;\n  disabled?: boolean;\n  initialPatient?: PatientListItem | null;\n  className?: string;\n  limit?: number;\n}\n\nconst SearchablePatientSelect: React.FC<SearchablePatientSelectProps> = ({\n  value,\n  onChange,\n  placeholder = \"พิมพ์ HN หรือชื่อเพื่อค้นหาผู้ป่วย...\",\n  disabled = false,\n  initialPatient = null,\n  className = \"\",\n  limit = 20,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [patients, setPatients] = useState<PatientListItem[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedPatient, setSelectedPatient] = useState<PatientListItem | null>(initialPatient);\n  const [focusedIndex, setFocusedIndex] = useState(-1);\n  const [dropdownPosition, setDropdownPosition] = useState<'bottom' | 'top'>('bottom');\n  const [error, setError] = useState<string | null>(null);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // ============================================\n  // Sync with external changes (Smart Card, etc.)\n  // ============================================\n  useEffect(() => {\n    // When initialPatient changes from external source (e.g., Smart Card)\n    if (initialPatient && initialPatient.hn) {\n      setSelectedPatient(initialPatient);\n      setSearchTerm(`${initialPatient.hn} - ${initialPatient.fullName}`);\n      setIsOpen(false);\n      setFocusedIndex(-1);\n    }\n  }, [initialPatient]);\n\n  // Sync when value changes externally (e.g., clear from parent)\n  useEffect(() => {\n    if (!value && selectedPatient) {\n      // Value cleared from parent\n      setSelectedPatient(null);\n      setSearchTerm('');\n    } else if (value && initialPatient && initialPatient.hn === value && selectedPatient?.hn !== value) {\n      // Value set from parent with matching initialPatient\n      setSelectedPatient(initialPatient);\n      setSearchTerm(`${initialPatient.hn} - ${initialPatient.fullName}`);\n    }\n  }, [value, initialPatient]);\n\n  // Calculate dropdown position\n  const calculateDropdownPosition = () => {\n    if (!containerRef.current) return;\n\n    const rect = containerRef.current.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const dropdownHeight = 320; // max-h-80 = 320px\n    const spaceBelow = viewportHeight - rect.bottom;\n    const spaceAbove = rect.top;\n\n    if (spaceBelow < dropdownHeight && spaceAbove > dropdownHeight) {\n      setDropdownPosition('top');\n    } else {\n      setDropdownPosition('bottom');\n    }\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n        setFocusedIndex(-1);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Calculate position when dropdown opens\n  useEffect(() => {\n    if (isOpen) {\n      calculateDropdownPosition();\n      \n      const handleReposition = () => {\n        if (isOpen) {\n          calculateDropdownPosition();\n        }\n      };\n\n      window.addEventListener('resize', handleReposition);\n      window.addEventListener('scroll', handleReposition, true);\n      \n      return () => {\n        window.removeEventListener('resize', handleReposition);\n        window.removeEventListener('scroll', handleReposition, true);\n      };\n    }\n  }, [isOpen]);\n\n  // Search patients when searchTerm changes\n  useEffect(() => {\n    const performSearch = async () => {\n      // Don't search if we have a selected patient and searchTerm matches\n      if (selectedPatient && searchTerm === `${selectedPatient.hn} - ${selectedPatient.fullName}`) {\n        return;\n      }\n\n      if (searchTerm.length < 2) {\n        setPatients([]);\n        setError(null);\n        return;\n      }\n\n      setLoading(true);\n      setError(null);\n      \n      try {\n        const result = await patientApi.search(searchTerm, limit);\n        setPatients(result);\n      } catch (err) {\n        console.error('Error searching patients:', err);\n        setError('เกิดข้อผิดพลาดในการค้นหา');\n        setPatients([]);\n      }\n      \n      setLoading(false);\n    };\n\n    const debounceTimer = setTimeout(performSearch, 300);\n    return () => clearTimeout(debounceTimer);\n  }, [searchTerm, limit, selectedPatient]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const term = e.target.value;\n    setSearchTerm(term);\n    setIsOpen(true);\n    setFocusedIndex(-1);\n    \n    // Clear selection if user modifies the input\n    if (selectedPatient && term !== `${selectedPatient.hn} - ${selectedPatient.fullName}`) {\n      setSelectedPatient(null);\n      onChange('', null);\n    }\n  };\n\n  const handlePatientSelect = (patient: PatientListItem) => {\n    setSelectedPatient(patient);\n    setSearchTerm(`${patient.hn} - ${patient.fullName}`);\n    setIsOpen(false);\n    setFocusedIndex(-1);\n    onChange(patient.hn, patient);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen || patients.length === 0) {\n      if (e.key === 'ArrowDown' || e.key === 'Enter') {\n        setIsOpen(true);\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setFocusedIndex(prev => (prev < patients.length - 1 ? prev + 1 : 0));\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setFocusedIndex(prev => (prev > 0 ? prev - 1 : patients.length - 1));\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (focusedIndex >= 0 && patients[focusedIndex]) {\n          handlePatientSelect(patients[focusedIndex]);\n        }\n        break;\n      case 'Escape':\n        setIsOpen(false);\n        setFocusedIndex(-1);\n        inputRef.current?.blur();\n        break;\n    }\n  };\n\n  const clearSelection = () => {\n    setSelectedPatient(null);\n    setSearchTerm('');\n    setPatients([]);\n    setIsOpen(false);\n    onChange('', null);\n    inputRef.current?.focus();\n  };\n\n  const getSexLabel = (sex: string | null) => {\n    if (sex === 'M' || sex === '1') return 'ชาย';\n    if (sex === 'F' || sex === '2') return 'หญิง';\n    return '';\n  };\n\n  const getSexColor = (sex: string | null) => {\n    if (sex === 'M' || sex === '1') return 'text-blue-600 dark:text-blue-400';\n    if (sex === 'F' || sex === '2') return 'text-pink-600 dark:text-pink-400';\n    return 'text-slate-500';\n  };\n\n  return (\n    <div ref={containerRef} className={`relative ${className}`}>\n      <div className=\"relative\">\n        <Search size={18} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={searchTerm}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n          onFocus={() => {\n            // Only open dropdown if not already selected or if typing\n            if (!selectedPatient && searchTerm.length >= 2 && patients.length > 0) {\n              setIsOpen(true);\n            }\n          }}\n          placeholder={placeholder}\n          disabled={disabled}\n          className={`w-full pl-10 pr-12 py-3 border rounded-xl transition-colors duration-200\n            bg-white dark:bg-slate-800 \n            border-slate-200 dark:border-slate-700 \n            text-slate-900 dark:text-white \n            placeholder-slate-400 dark:placeholder-slate-500\n            focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500\n            ${disabled ? 'opacity-50 cursor-not-allowed' : ''}\n            ${selectedPatient ? 'bg-primary-50 dark:bg-primary-500/10 border-primary-200 dark:border-primary-500/30' : ''}`}\n        />\n\n        {/* Icons */}\n        <div className=\"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1\">\n          {loading && (\n            <Loader2 className=\"w-4 h-4 animate-spin text-slate-400\" />\n          )}\n          {selectedPatient && !loading && (\n            <button\n              type=\"button\"\n              onClick={clearSelection}\n              disabled={disabled}\n              className=\"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 disabled:opacity-50\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          )}\n          {!selectedPatient && (\n            <ChevronDown className={`w-4 h-4 transition-transform duration-200 text-slate-400 ${\n              isOpen ? 'rotate-180' : ''\n            }`} />\n          )}\n        </div>\n      </div>\n\n      {/* Selected Patient Indicator */}\n      {selectedPatient && (\n        <div className=\"absolute -top-2 left-3 px-2 py-0.5 bg-primary-500 text-white text-xs rounded-full font-medium\">\n          เลือกแล้ว\n        </div>\n      )}\n\n      {/* Dropdown */}\n      {isOpen && !selectedPatient && (\n        <div \n          ref={dropdownRef}\n          className={`absolute z-50 w-full border rounded-xl shadow-xl max-h-80 overflow-auto ${\n            dropdownPosition === 'top' ? 'bottom-full mb-1' : 'top-full mt-1'\n          } bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700`}\n        >\n          {loading && (\n            <div className=\"px-4 py-6 text-center text-sm text-slate-500 dark:text-slate-400\">\n              <Loader2 className=\"w-5 h-5 animate-spin inline mr-2\" />\n              กำลังค้นหาผู้ป่วย...\n            </div>\n          )}\n\n          {error && !loading && (\n            <div className=\"px-4 py-4 text-center text-sm text-red-500 dark:text-red-400 flex items-center justify-center gap-2\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {error}\n            </div>\n          )}\n\n          {!loading && !error && patients.length === 0 && searchTerm.length >= 2 && (\n            <div className=\"px-4 py-6 text-center text-sm text-slate-500 dark:text-slate-400\">\n              <User className=\"w-8 h-8 mx-auto mb-2 text-slate-300 dark:text-slate-600\" />\n              ไม่พบผู้ป่วย &quot;{searchTerm}&quot;\n            </div>\n          )}\n\n          {!loading && !error && patients.length === 0 && searchTerm.length < 2 && (\n            <div className=\"px-4 py-6 text-center text-sm text-slate-500 dark:text-slate-400\">\n              <Search className=\"w-8 h-8 mx-auto mb-2 text-slate-300 dark:text-slate-600\" />\n              พิมพ์อย่างน้อย 2 ตัวอักษรเพื่อค้นหา\n            </div>\n          )}\n\n          {!loading && !error && patients.map((patient, index) => (\n            <button\n              key={patient.hn}\n              type=\"button\"\n              onClick={() => handlePatientSelect(patient)}\n              className={`w-full px-4 py-3 text-left transition-colors duration-150 border-b border-slate-100 dark:border-slate-700 last:border-b-0 ${\n                index === focusedIndex\n                  ? 'bg-primary-50 dark:bg-primary-500/20 text-primary-900 dark:text-primary-100'\n                  : selectedPatient?.hn === patient.hn\n                    ? 'bg-primary-100 dark:bg-primary-600/20 text-primary-900 dark:text-primary-100'\n                    : 'text-slate-900 dark:text-slate-100 hover:bg-slate-50 dark:hover:bg-slate-700/50'\n              }`}\n            >\n              <div className=\"flex items-start gap-3\">\n                <div className=\"size-10 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center shrink-0\">\n                  <User className=\"w-5 h-5 text-slate-500 dark:text-slate-400\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-medium\">{patient.fullName}</span>\n                    {patient.hasAllergy && (\n                      <span className=\"px-1.5 py-0.5 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 text-xs rounded\">\n                        แพ้ยา\n                      </span>\n                    )}\n                    {patient.isDead && (\n                      <span className=\"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300 text-xs rounded\">\n                        เสียชีวิต\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-3 text-sm mt-0.5\">\n                    <span className=\"font-mono text-slate-500 dark:text-slate-400\">\n                      HN: {patient.hn}\n                    </span>\n                    {patient.sex && (\n                      <span className={getSexColor(patient.sex)}>\n                        {getSexLabel(patient.sex)}\n                      </span>\n                    )}\n                    {patient.age && (\n                      <span className=\"text-slate-500 dark:text-slate-400\">\n                        {patient.age} ปี\n                      </span>\n                    )}\n                  </div>\n                  {patient.cid && (\n                    <div className=\"text-xs text-slate-400 dark:text-slate-500 mt-0.5\">\n                      CID: {patient.cid.replace(/(\\d{1})(\\d{4})(\\d{5})(\\d{2})(\\d{1})/, '$1-$2-$3-$4-$5')}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { SearchablePatientSelect };\nexport default SearchablePatientSelect;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1049, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/ui/index.ts"],"sourcesContent":["export * from './Icons';\nexport * from './ToggleSwitch';\nexport * from './Dropdown';\nexport * from './Badge';\nexport { default as SearchablePatientSelect } from './SearchablePatientSelect';\nexport type { SearchablePatientSelectProps } from './SearchablePatientSelect';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1189, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n\nimport { CheckCircle, XCircle, AlertCircle, Clock } from 'lucide-react';\nimport React from 'react';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat().format(num);\n}\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(amount);\n}\n\nexport function formatThaiID(value: string): string {\n  const cleanValue = value.endsWith('-') ? value.slice(0, -1) : value;\n  const numbers = cleanValue.replace(/\\D/g, '').slice(0, 13);\n  \n  let formatted = '';\n  for (let i = 0; i < numbers.length; i++) {\n    if (i === 1 || i === 5 || i === 10 || i === 12) formatted += '-';\n    formatted += numbers[i];\n  }\n  return formatted;\n}\n\nexport const formatThaiDate = (dateStr: string, showTime: boolean = false): string => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  if (isNaN(date.getTime())) return '';\n\n  const options: Intl.DateTimeFormatOptions = {\n    timeZone: 'Asia/Bangkok',\n    year: 'numeric',\n    month: 'short',\n    day: '2-digit'\n  };\n\n  if (showTime) {\n    options.hour = '2-digit';\n    options.minute = '2-digit';\n    options.hour12 = false; // Use 24-hour format\n  }\n\n  const formatted = date.toLocaleDateString('th-TH', options);\n  return formatted.replace(/(\\d{2})\\s(\\S+)\\s(\\d{4})/, '$1 $2 $3'); // Ensure consistent format\n};\n\nexport const formatDisplayDate = (dateStr: string): string => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  if (isNaN(date.getTime())) return '';\n\n  return date.toLocaleDateString('th-TH', {\n    timeZone: 'Asia/Bangkok',\n    day: '2-digit',\n    month: 'short',\n    year: 'numeric'\n  });\n};\n\nexport const getCurrentBangkokDate = (): string => {\n  return new Date().toLocaleDateString('en-CA', {\n    timeZone: 'Asia/Bangkok',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  });\n};\n\nexport const isTodayInBangkok = (dateStr: string): boolean => {\n  if (!dateStr) return false;\n  return dateStr.split('T')[0] === getCurrentBangkokDate();\n};\n\nexport const isFutureDate = (dateStr: string): boolean => {\n  if (!dateStr) return false;\n  return dateStr.split('T')[0] > getCurrentBangkokDate();\n};\n\nexport const calculateWorkMinutes = (checkIn: string, checkOut: string): number => {\n  try {\n    const inTime = new Date(`2000-01-01T${checkIn}`);\n    const outTime = new Date(`2000-01-01T${checkOut}`);\n    if (outTime < inTime) outTime.setDate(outTime.getDate() + 1);\n    const diffMs = outTime.getTime() - inTime.getTime();\n    return Math.max(0, Math.floor(diffMs / (1000 * 60)));\n  } catch {\n    return 0;\n  }\n};\n\nexport const formatWorkHours = (minutes: number): string => {\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return mins === 0 ? `${hours} ชม.` : `${hours} ชม. ${mins} น.`;\n};\n\nexport const getStatusDisplay = (status: string, isDarkMode: boolean) => {\n  const styles = {\n    Present: {\n      icon: React.createElement(CheckCircle, { className: \"w-4 h-4 text-green-600\" }),\n      text: 'เข้างาน',\n      color: isDarkMode ? 'bg-green-900/30 text-green-400' : 'bg-green-100 text-green-800'\n    },\n    Late: {\n      icon: React.createElement(AlertCircle, { className: \"w-4 h-4 text-orange-600\" }),\n      text: 'สาย',\n      color: isDarkMode ? 'bg-orange-900/30 text-orange-400' : 'bg-orange-100 text-orange-800'\n    },\n    Absent: {\n      icon: React.createElement(XCircle, { className: \"w-4 h-4 text-red-600\" }),\n      text: 'ขาด',\n      color: isDarkMode ? 'bg-red-900/30 text-red-400' : 'bg-red-100 text-red-800'\n    },\n    Incomplete: {\n      icon: React.createElement(Clock, { className: \"w-4 h-4 text-blue-600\" }),\n      text: 'ไม่สมบูรณ์',\n      color: isDarkMode ? 'bg-blue-900/30 text-blue-400' : 'bg-blue-100 text-blue-800'\n    }\n  };\n  return styles[status as keyof typeof styles] || {\n    icon: React.createElement(Clock, { className: \"w-4 h-4 text-gray-600\" }),\n    text: 'ไม่ทราบ',\n    color: isDarkMode ? 'bg-gray-700/50 text-gray-400' : 'bg-gray-100 text-gray-800'\n  };\n};\n\nexport const getDisplayValue = (val: string) => {\n  const displayMap: { [key: string]: string } = {\n    all: 'ทุกสถานะ',\n    Present: 'เข้างาน',\n    Late: 'สาย',\n    Absent: 'ขาด',\n    Incomplete: 'ไม่สมบูรณ์',\n    morning: 'เวรเช้า',\n    afternoon: 'เวรบ่าย',\n    night: 'เวรดึก'\n  };\n  return displayMap[val] || val;\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1370, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/Sidebar.tsx"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/Sidebar.tsx\n// Description: Modern Sidebar - Glassmorphism design with smooth animations\n//              Hidden scrollbar, portal tooltips, flyout menu for collapsed mode\n// =============================================================================\n\n'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { createPortal } from 'react-dom';\nimport {\n  ChevronDown,\n  ChevronRight,\n  Search,\n  X,\n  Settings,\n  Moon,\n  Sun,\n  PanelLeftClose,\n  PanelLeft,\n  Sparkles,\n  LogOut,\n} from 'lucide-react';\nimport { useMenuContext, MenuAccessItem } from '@/components/providers/MenuProvider';\nimport { getIcon } from '@/components/ui';\nimport { cn } from '@/lib/utils';\nimport { useAuth } from '../providers/AuthProvider';\n\n// ============================================\n// Types\n// ============================================\n\ninterface SidebarProps {\n  collapsed?: boolean;\n  onToggle?: () => void;\n}\n\n// ============================================\n// Flyout Menu Component (Portal-based) - For Collapsed Mode\n// ============================================\n\ninterface FlyoutMenuProps {\n  menu: MenuAccessItem;\n  show: boolean;\n  position: { top: number; left: number };\n  onClose: () => void;\n  pathname: string;\n}\n\nconst FlyoutMenu: React.FC<FlyoutMenuProps> = ({ menu, show, position, onClose, pathname }) => {\n  const [mounted, setMounted] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Close on click outside\n  useEffect(() => {\n    if (!show) return;\n    \n    const handleClickOutside = (e: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\n        onClose();\n      }\n    };\n\n    // Delay to prevent immediate close\n    const timer = setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n    }, 100);\n\n    return () => {\n      clearTimeout(timer);\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [show, onClose]);\n\n  if (!mounted || !show) return null;\n\n  const menuName = menu.menu_name_th || menu.menu_name;\n  const children = menu.children || [];\n\n  const isChildActive = (child: MenuAccessItem): boolean => {\n    if (child.route_path === pathname) return true;\n    if (child.route_path && pathname.startsWith(child.route_path + '/')) return true;\n    return false;\n  };\n\n  // Adjust position to stay within viewport\n  const adjustedTop = Math.min(position.top, window.innerHeight - 350);\n\n  return createPortal(\n    <div\n      ref={menuRef}\n      className=\"fixed z-[9999] min-w-[220px] py-2 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 animate-in fade-in-0 zoom-in-95 slide-in-from-left-2 duration-150\"\n      style={{\n        top: Math.max(8, adjustedTop),\n        left: position.left,\n      }}\n    >\n      {/* Header */}\n      <div className=\"px-4 py-2.5 border-b border-slate-100 dark:border-slate-700\">\n        <span className=\"text-sm font-semibold text-slate-800 dark:text-white\">{menuName}</span>\n      </div>\n\n      {/* Menu Items */}\n      <div className=\"py-1 max-h-[300px] overflow-y-auto\">\n        {children.map((child, idx) => {\n          const ChildIcon = getIcon(child.icon || 'file');\n          const childName = child.menu_name_th || child.menu_name;\n          const isActive = isChildActive(child);\n\n          return (\n            <Link\n              key={child.id || child.menu_code || idx}\n              href={child.route_path || '#'}\n              onClick={onClose}\n              className={cn(\n                'flex items-center gap-3 px-4 py-2.5 mx-1.5 rounded-lg text-sm transition-all',\n                isActive\n                  ? 'bg-primary-50 dark:bg-primary-500/10 text-primary-600 dark:text-primary-400 font-medium'\n                  : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white'\n              )}\n            >\n              <ChildIcon size={16} className=\"shrink-0\" />\n              <span className=\"truncate flex-1\">{childName}</span>\n              {child.badge_count && child.badge_count > 0 && (\n                <span className=\"px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded-full\">\n                  {child.badge_count > 99 ? '99+' : child.badge_count}\n                </span>\n              )}\n            </Link>\n          );\n        })}\n\n        {children.length === 0 && (\n          <div className=\"px-4 py-4 text-center text-sm text-slate-400\">\n            ไม่มีเมนูย่อย\n          </div>\n        )}\n      </div>\n    </div>,\n    document.body\n  );\n};\n\n// ============================================\n// Tooltip Component (Portal-based)\n// ============================================\n\ninterface TooltipProps {\n  content: string;\n  show: boolean;\n  position: { top: number; left: number };\n}\n\nconst Tooltip: React.FC<TooltipProps> = ({ content, show, position }) => {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted || !show) return null;\n\n  return createPortal(\n    <div\n      className=\"fixed z-[9999] px-3 py-2 bg-slate-900 dark:bg-slate-700 text-white text-sm rounded-xl shadow-xl whitespace-nowrap pointer-events-none animate-in fade-in-0 zoom-in-95 duration-150\"\n      style={{\n        top: position.top,\n        left: position.left,\n      }}\n    >\n      {content}\n      <div className=\"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 border-4 border-transparent border-r-slate-900 dark:border-r-slate-700\" />\n    </div>,\n    document.body\n  );\n};\n\n// ============================================\n// Menu Item Component\n// ============================================\n\ninterface MenuItemProps {\n  menu: MenuAccessItem;\n  level: number;\n  collapsed: boolean;\n  isActive: boolean;\n  isParentActive: boolean;\n  isExpanded: boolean;\n  hasChildren: boolean;\n  onToggle: () => void;\n  onFlyoutOpen: (menu: MenuAccessItem, position: { top: number; left: number }) => void;\n  pathname: string;\n}\n\nconst MenuItem: React.FC<MenuItemProps> = ({\n  menu,\n  level,\n  collapsed,\n  isActive,\n  isParentActive,\n  isExpanded,\n  hasChildren,\n  onToggle,\n  onFlyoutOpen,\n  pathname,\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState({ top: 0, left: 0 });\n  const itemRef = useRef<HTMLDivElement>(null);\n\n  const Icon = getIcon(menu.icon || 'file');\n  const menuName = menu.menu_name_th || menu.menu_name;\n  const badge = menu.badge_count;\n\n  const handleMouseEnter = () => {\n    if (collapsed && itemRef.current && !hasChildren) {\n      const rect = itemRef.current.getBoundingClientRect();\n      setTooltipPosition({\n        top: rect.top + rect.height / 2 - 16,\n        left: rect.right + 12,\n      });\n      setShowTooltip(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setShowTooltip(false);\n  };\n\n  const handleClick = (e: React.MouseEvent) => {\n    if (collapsed && hasChildren && itemRef.current) {\n      e.preventDefault();\n      e.stopPropagation();\n      const rect = itemRef.current.getBoundingClientRect();\n      onFlyoutOpen(menu, {\n        top: rect.top,\n        left: rect.right + 8,\n      });\n    } else if (hasChildren) {\n      onToggle();\n    }\n  };\n\n  // Base classes for all menu items\n  const baseClasses = cn(\n    'group relative flex items-center gap-3 rounded-xl transition-all duration-200',\n    'focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500/50',\n    collapsed ? 'px-3 py-3 justify-center' : 'px-3 py-2.5'\n  );\n\n  // Style based on level and state\n  const getItemClasses = () => {\n    if (isActive) {\n      if (level > 0) {\n        return 'bg-primary-50/80 dark:bg-primary-500/10 text-primary-600 dark:text-primary-400 font-medium';\n      }\n      return 'bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25';\n    }\n    \n    if (isParentActive) {\n      return 'bg-primary-50/50 dark:bg-primary-500/5 text-primary-600 dark:text-primary-400';\n    }\n    \n    return 'text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-white';\n  };\n\n  const itemContent = (\n    <>\n      {/* Active indicator for submenu */}\n      {isActive && level > 0 && !collapsed && (\n        <span className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-5 bg-primary-500 rounded-r-full\" />\n      )}\n\n      {/* Icon */}\n      <span className={cn(\n        'flex items-center justify-center transition-all duration-200 shrink-0',\n        isActive && level === 0 ? 'scale-110' : '',\n        level > 0 && 'w-5'\n      )}>\n        {level > 0 && !collapsed ? (\n          <span className={cn(\n            'w-1.5 h-1.5 rounded-full transition-colors',\n            isActive ? 'bg-primary-500' : 'bg-slate-300 dark:bg-slate-600'\n          )} />\n        ) : (\n          <Icon size={20} />\n        )}\n      </span>\n\n      {!collapsed && (\n        <>\n          <span className={cn(\n            \"flex-1 text-sm truncate transition-colors text-left\",\n            level > 0 ? 'font-normal' : 'font-medium'\n          )}>\n            {menuName}\n          </span>\n\n          {badge && badge > 0 && (\n            <span className={cn(\n              \"px-1.5 py-0.5 text-xs font-bold rounded-full min-w-[20px] text-center shrink-0\",\n              isActive && level === 0\n                ? \"bg-white/20 text-white\"\n                : \"bg-red-500 text-white\"\n            )}>\n              {badge > 99 ? '99+' : badge}\n            </span>\n          )}\n\n          {hasChildren && (\n            <ChevronDown\n              size={16}\n              className={cn(\n                'text-slate-400 transition-transform duration-300 shrink-0',\n                isExpanded && 'rotate-180',\n                isActive && level === 0 && 'text-white/70'\n              )}\n            />\n          )}\n        </>\n      )}\n\n      {/* Collapsed: badge indicator */}\n      {collapsed && badge && badge > 0 && (\n        <span className=\"absolute -top-1 -right-1 size-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center ring-2 ring-white dark:ring-slate-900\">\n          {badge > 9 ? '9+' : badge}\n        </span>\n      )}\n\n      {/* Collapsed: arrow indicator for menus with children */}\n      {collapsed && hasChildren && (\n        <span className=\"absolute -right-0.5 top-1/2 -translate-y-1/2\">\n          <ChevronRight size={12} className=\"text-slate-400\" />\n        </span>\n      )}\n\n      {/* Active glow effect */}\n      {isActive && level === 0 && !collapsed && (\n        <span className=\"absolute inset-0 rounded-xl bg-primary-500/20 blur-xl -z-10\" />\n      )}\n    </>\n  );\n\n  return (\n    <div\n      ref={itemRef}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      {hasChildren ? (\n        <button\n          onClick={handleClick}\n          className={cn(baseClasses, getItemClasses(), 'w-full')}\n        >\n          {itemContent}\n        </button>\n      ) : (\n        <Link\n          href={menu.route_path || '#'}\n          className={cn(baseClasses, getItemClasses())}\n        >\n          {itemContent}\n        </Link>\n      )}\n\n      {/* Tooltip only for items without children in collapsed mode */}\n      <Tooltip\n        content={menuName}\n        show={showTooltip && collapsed && !hasChildren}\n        position={tooltipPosition}\n      />\n    </div>\n  );\n};\n\n// ============================================\n// Main Sidebar Component\n// ============================================\n\nexport function Sidebar({ collapsed = false, onToggle }: SidebarProps) {\n  const pathname = usePathname();\n  const { menus, isLoading, error } = useMenuContext();\n\n  const [expandedMenus, setExpandedMenus] = useState<Set<number | string>>(new Set());\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [mounted, setMounted] = useState(false);\n  const [searchFocused, setSearchFocused] = useState(false);\n\n  // Flyout state\n  const [flyoutMenu, setFlyoutMenu] = useState<MenuAccessItem | null>(null);\n  const [flyoutPosition, setFlyoutPosition] = useState({ top: 0, left: 0 });\n\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const { user, logout } = useAuth();\n\n  // Mount check\n  useEffect(() => {\n    setMounted(true);\n    setIsDarkMode(document.documentElement.classList.contains('dark'));\n  }, []);\n\n  // Close flyout when sidebar expands\n  useEffect(() => {\n    if (!collapsed) {\n      setFlyoutMenu(null);\n    }\n  }, [collapsed]);\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const handleFlyoutOpen = (menu: MenuAccessItem, position: { top: number; left: number }) => {\n    // Toggle flyout - if same menu clicked, close it\n    if (flyoutMenu?.id === menu.id || flyoutMenu?.menu_code === menu.menu_code) {\n      setFlyoutMenu(null);\n    } else {\n      setFlyoutMenu(menu);\n      setFlyoutPosition(position);\n    }\n  };\n\n  const handleFlyoutClose = () => {\n    setFlyoutMenu(null);\n  };\n\n  // Auto-expand active menu on mount\n  useEffect(() => {\n    const findActiveParent = (items: MenuAccessItem[], parentIds: (number | string)[] = []): (number | string)[] => {\n      for (const item of items) {\n        if (item.route_path === pathname) {\n          return parentIds;\n        }\n        if (item.children?.length) {\n          const found = findActiveParent(item.children, [...parentIds, item.id || item.menu_code]);\n          if (found.length > parentIds.length) {\n            return found;\n          }\n        }\n      }\n      return [];\n    };\n\n    const activeParents = findActiveParent(menus);\n    if (activeParents.length > 0) {\n      setExpandedMenus((prev) => new Set([...prev, ...activeParents]));\n    }\n  }, [menus, pathname]);\n\n  // Toggle menu expand\n  const toggleExpand = useCallback((menuId: number | string) => {\n    setExpandedMenus((prev) => {\n      const next = new Set(prev);\n      if (next.has(menuId)) {\n        next.delete(menuId);\n      } else {\n        next.add(menuId);\n      }\n      return next;\n    });\n  }, []);\n\n  // Check active state\n  const isActive = useCallback((menu: MenuAccessItem): boolean => {\n    if (menu.route_path === pathname) return true;\n    if (menu.route_path && pathname.startsWith(menu.route_path + '/')) return true;\n    return false;\n  }, [pathname]);\n\n  const isParentActive = useCallback((menu: MenuAccessItem): boolean => {\n    if (isActive(menu)) return true;\n    if (menu.children?.length) {\n      return menu.children.some((child) => isParentActive(child));\n    }\n    return false;\n  }, [isActive]);\n\n  // Filter menus by search\n  const filterMenus = useCallback((items: MenuAccessItem[], query: string): MenuAccessItem[] => {\n    if (!query) return items;\n\n    const lowerQuery = query.toLowerCase();\n\n    return items.reduce<MenuAccessItem[]>((acc, item) => {\n      const matchesName = (item.menu_name_th || item.menu_name || '').toLowerCase().includes(lowerQuery);\n      const filteredChildren = item.children ? filterMenus(item.children, query) : [];\n\n      if (matchesName || filteredChildren.length > 0) {\n        acc.push({\n          ...item,\n          children: filteredChildren.length > 0 ? filteredChildren : item.children,\n        });\n      }\n\n      return acc;\n    }, []);\n  }, []);\n\n  const filteredMenus = filterMenus(menus, searchQuery);\n\n  // Get menu key\n  const getMenuKey = (menu: MenuAccessItem, index: number): string => {\n    if (menu.id) return `menu-${menu.id}`;\n    if (menu.menu_code) return `menu-${menu.menu_code}`;\n    return `menu-idx-${index}`;\n  };\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    document.documentElement.classList.toggle('dark');\n    setIsDarkMode(!isDarkMode);\n  };\n\n  // Render menu item recursively\n  const renderMenuItem = (menu: MenuAccessItem, index: number, level: number = 0) => {\n    if (menu.can_view === false) return null;\n\n    const hasChildren = menu.children && menu.children.length > 0;\n    const isExpanded = expandedMenus.has(menu.id || menu.menu_code) || !!(searchQuery && hasChildren);\n    const active = isActive(menu);\n    const parentActive = isParentActive(menu);\n    const key = getMenuKey(menu, index);\n\n    return (\n      <div key={key} className=\"mb-1\">\n        <MenuItem\n          menu={menu}\n          level={level}\n          collapsed={collapsed}\n          isActive={active}\n          isParentActive={parentActive && !active}\n          isExpanded={isExpanded}\n          hasChildren={hasChildren || false}\n          onToggle={() => toggleExpand(menu.id || menu.menu_code)}\n          onFlyoutOpen={handleFlyoutOpen}\n          pathname={pathname}\n        />\n\n        {/* Nested Children with smooth animation - Only when not collapsed */}\n        {hasChildren && !collapsed && (\n          <div\n            className={cn(\n              'grid transition-all duration-300 ease-in-out',\n              isExpanded ? 'grid-rows-[1fr] opacity-100' : 'grid-rows-[0fr] opacity-0'\n            )}\n          >\n            <div className=\"overflow-hidden\">\n              <div className=\"mt-1 ml-3 pl-3 border-l-2 border-slate-200/50 dark:border-slate-700/50 space-y-0.5\">\n                {menu.children!.map((child, childIndex) => renderMenuItem(child, childIndex, level + 1))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  if (!mounted) return null;\n\n  return (\n    <>\n      <aside\n        className={cn(\n          'fixed left-0 top-0 z-40 h-screen',\n          'flex flex-col',\n          'bg-white/80 dark:bg-slate-900/80',\n          'backdrop-blur-xl',\n          'border-r border-slate-200/50 dark:border-slate-800/50',\n          'transition-all duration-300 ease-in-out',\n          collapsed ? 'w-20' : 'w-64'\n        )}\n      >\n        {/* Logo Section */}\n        <div className={cn(\n          'h-16 flex items-center shrink-0 border-b border-slate-200/50 dark:border-slate-800/50',\n          collapsed ? 'justify-center px-2' : 'justify-between px-4'\n        )}>\n          <Link href=\"/\" className=\"flex items-center gap-3 group\">\n            <div className=\"relative\">\n              <div className=\"size-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-lg shadow-primary-500/25 group-hover:shadow-primary-500/40 transition-all group-hover:scale-105\">\n                <span className=\"text-white font-bold text-lg\">K</span>\n              </div>\n              <div className=\"absolute inset-0 rounded-xl bg-primary-500/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity\" />\n            </div>\n            {!collapsed && (\n              <div className=\"overflow-hidden\">\n                <h1 className=\"font-bold text-slate-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors\">\n                  GWT-MED\n                </h1>\n                <p className=\"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1\">\n                  <Sparkles size={10} className=\"text-amber-500\" />\n                  Smart Hospital\n                </p>\n              </div>\n            )}\n          </Link>\n        </div>\n\n        {/* Search Section */}\n        {!collapsed && (\n          <div className=\"p-3 shrink-0 border-b border-slate-200/50 dark:border-slate-800/50\">\n            <div className={cn(\n              \"relative transition-all duration-300\",\n              searchFocused && \"scale-[1.02]\"\n            )}>\n              <Search size={16} className={cn(\n                \"absolute left-3 top-1/2 -translate-y-1/2 transition-colors\",\n                searchFocused ? \"text-primary-500\" : \"text-slate-400\"\n              )} />\n              <input\n                ref={searchInputRef}\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                onFocus={() => setSearchFocused(true)}\n                onBlur={() => setSearchFocused(false)}\n                placeholder=\"ค้นหาเมนู...\"\n                className={cn(\n                  \"w-full pl-9 pr-8 py-2.5 rounded-xl text-sm transition-all duration-300\",\n                  \"bg-slate-100/80 dark:bg-slate-800/50\",\n                  \"border border-transparent\",\n                  \"placeholder:text-slate-400\",\n                  \"focus:outline-none focus:bg-white dark:focus:bg-slate-800\",\n                  \"focus:border-primary-500/50 focus:ring-2 focus:ring-primary-500/20\"\n                )}\n              />\n              {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery('')}\n                  className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-lg hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors\"\n                >\n                  <X size={14} />\n                </button>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Navigation */}\n        <nav\n          className={cn(\n            'flex-1 overflow-y-auto p-3 space-y-1',\n            '[&::-webkit-scrollbar]:hidden',\n            '[-ms-overflow-style:none]',\n            '[scrollbar-width:none]'\n          )}\n        >\n          {isLoading ? (\n            <div className=\"flex flex-col items-center justify-center py-8 gap-3\">\n              <div className=\"size-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin\" />\n              {!collapsed && (\n                <span className=\"text-sm text-slate-500\">กำลังโหลด...</span>\n              )}\n            </div>\n          ) : error ? (\n            <div className=\"p-4 bg-red-50/80 dark:bg-red-500/10 rounded-xl border border-red-200/50 dark:border-red-500/20\">\n              {!collapsed && (\n                <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n              )}\n            </div>\n          ) : filteredMenus.length === 0 ? (\n            <div className=\"text-center py-8\">\n              {!collapsed && (\n                <div className=\"space-y-2\">\n                  <div className=\"size-12 mx-auto bg-slate-100/80 dark:bg-slate-800/50 rounded-xl flex items-center justify-center\">\n                    <Search size={24} className=\"text-slate-400\" />\n                  </div>\n                  <p className=\"text-sm text-slate-500\">\n                    {searchQuery ? 'ไม่พบเมนูที่ค้นหา' : 'ไม่มีเมนูในระบบ'}\n                  </p>\n                </div>\n              )}\n            </div>\n          ) : (\n            filteredMenus.map((menu, index) => renderMenuItem(menu, index))\n          )}\n        </nav>\n\n        {/* User Section */}\n        {!collapsed && (\n          <div className=\"p-3 shrink-0 border-t border-slate-200/50 dark:border-slate-800/50\">\n            <div className=\"flex items-center gap-3 p-2.5 rounded-xl bg-slate-50/80 dark:bg-slate-800/30 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 transition-all cursor-pointer group\">\n              <div className=\"relative\">\n                <div className=\"size-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:shadow-primary-500/25 transition-all\">\n                  <span className=\"text-white font-semibold text-sm\">\n                    {user?.name?.charAt(0) || 'U'}\n                  </span>\n                </div>\n                <span className=\"absolute -bottom-0.5 -right-0.5 size-3 bg-emerald-500 border-2 border-white dark:border-slate-900 rounded-full\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-slate-900 dark:text-white truncate\">\n                  {user?.name || 'ผู้ดูแลระบบ'}\n                </p>\n                <p className=\"text-xs text-slate-500 truncate\">{user?.username || 'admin@hospital.go.th'}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Footer Actions */}\n        <div className={cn(\n          'shrink-0 border-t border-slate-200/50 dark:border-slate-800/50',\n          collapsed ? 'p-2' : 'p-3'\n        )}>\n          <div className={cn(\n            'flex items-center',\n            collapsed ? 'flex-col gap-2' : 'justify-between'\n          )}>\n            {/* Dark Mode Toggle */}\n            <button\n              onClick={toggleDarkMode}\n              className={cn(\n                \"p-2.5 rounded-xl transition-all active:scale-95\",\n                isDarkMode\n                  ? \"text-amber-500 hover:bg-amber-500/10\"\n                  : \"text-slate-400 hover:text-slate-600 hover:bg-slate-100/80 dark:hover:bg-slate-800/50\"\n              )}\n              title={isDarkMode ? 'Light Mode' : 'Dark Mode'}\n            >\n              {isDarkMode ? <Sun size={18} /> : <Moon size={18} />}\n            </button>\n\n            {/* Settings */}\n            {!collapsed && (\n              <Link\n                href=\"/settings\"\n                className=\"p-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 rounded-xl transition-all active:scale-95\"\n                title=\"ตั้งค่า\"\n              >\n                <Settings size={18} />\n              </Link>\n            )}\n\n            {/* Collapse Toggle */}\n            <button\n              onClick={onToggle}\n              className=\"p-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100/80 dark:hover:bg-slate-800/50 rounded-xl transition-all active:scale-95\"\n              title={collapsed ? 'ขยาย Sidebar' : 'ย่อ Sidebar'}\n            >\n              {collapsed ? <PanelLeft size={18} /> : <PanelLeftClose size={18} />}\n            </button>\n\n            {/* Logout */}\n            {!collapsed && (\n              <button\n                onClick={handleLogout}\n                className=\"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50/80 dark:hover:bg-red-500/10 rounded-xl transition-all active:scale-95\"\n                title=\"ออกจากระบบ\"\n              >\n                <LogOut size={18} />\n              </button>\n            )}\n          </div>\n        </div>\n      </aside>\n\n      {/* Flyout Menu Portal - For Collapsed Mode */}\n      {flyoutMenu && (\n        <FlyoutMenu\n          menu={flyoutMenu}\n          show={true}\n          position={flyoutPosition}\n          onClose={handleFlyoutClose}\n          pathname={pathname}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Sidebar;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2406, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/HorizontalNav.tsx"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/HorizontalNavModern.tsx\n// Description: Modern Horizontal Navigation for HIS - Clean medical aesthetic\n// Updated: Sky blue hover effects for better visual appeal\n// =============================================================================\n\n'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { ChevronDown, Circle } from 'lucide-react';\nimport { useMenuContext, MenuAccessItem } from '@/components/providers/MenuProvider';\nimport { getIcon } from '@/components/ui';\n\nexport function HorizontalNav() {\n  const pathname = usePathname();\n  const { menus, isLoading } = useMenuContext();\n  const [openDropdown, setOpenDropdown] = useState<number | string | null>(null);\n  const [hoveredItem, setHoveredItem] = useState<string | null>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setOpenDropdown(null);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Close dropdown on route change\n  useEffect(() => {\n    setOpenDropdown(null);\n  }, [pathname]);\n\n  const isActive = (menu: MenuAccessItem): boolean => {\n    if (menu.route_path === pathname) return true;\n    if (menu.route_path && pathname.startsWith(menu.route_path + '/')) return true;\n    return false;\n  };\n\n  const isParentActive = (menu: MenuAccessItem): boolean => {\n    if (isActive(menu)) return true;\n    if (menu.children?.length) {\n      return menu.children.some((child) => isParentActive(child));\n    }\n    return false;\n  };\n\n  const getMenuKey = (menu: MenuAccessItem, index: number): string => {\n    return menu.id ? `nav-${menu.id}` : menu.menu_code ? `nav-${menu.menu_code}` : `nav-idx-${index}`;\n  };\n\n  const getMenuId = (menu: MenuAccessItem): number | string => menu.id || menu.menu_code;\n\n  const toggleDropdown = (menuId: number | string) => {\n    setOpenDropdown((prev) => (prev === menuId ? null : menuId));\n  };\n\n  if (isLoading) {\n    return (\n      <nav className=\"hidden lg:flex items-center gap-2\">\n        {/* Skeleton loading with sky blue tint */}\n        {[1, 2, 3, 4].map((i) => (\n          <div\n            key={i}\n            className=\"h-9 w-24 rounded-lg bg-sky-100 dark:bg-sky-900/30 animate-pulse\"\n          />\n        ))}\n      </nav>\n    );\n  }\n\n  return (\n    <nav className=\"hidden lg:flex items-center gap-1\" ref={dropdownRef}>\n      {menus.map((menu, index) => {\n        const Icon = getIcon(menu.icon || 'file');\n        const hasChildren = menu.children && menu.children.length > 0;\n        const active = isActive(menu);\n        const parentActive = isParentActive(menu);\n        const key = getMenuKey(menu, index);\n        const menuId = getMenuId(menu);\n        const isHovered = hoveredItem === key;\n        const isOpen = openDropdown === menuId;\n\n        if (menu.can_view === false) return null;\n\n        // Base styles for nav items\n        const baseStyles = `\n          relative flex items-center gap-2 px-3.5 py-2 rounded-xl text-sm font-medium\n          transition-all duration-200 ease-out\n          focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500/50\n        `;\n\n        // Active state - sky blue gradient\n        const activeStyles = `\n          bg-gradient-to-r from-sky-500/15 to-sky-400/10\n          dark:from-sky-500/25 dark:to-sky-400/15\n          text-sky-700 dark:text-sky-300\n          shadow-sm shadow-sky-500/10\n        `;\n\n        // Hover state - sky blue colors\n        const inactiveStyles = `\n          text-slate-600 dark:text-slate-400\n          hover:bg-sky-50 dark:hover:bg-sky-900/40\n          hover:text-sky-700 dark:hover:text-sky-300\n          hover:shadow-sm hover:shadow-sky-500/10\n        `;\n\n        if (hasChildren) {\n          return (\n            <div key={key} className=\"relative\">\n              <button\n                onClick={() => toggleDropdown(menuId)}\n                onMouseEnter={() => setHoveredItem(key)}\n                onMouseLeave={() => setHoveredItem(null)}\n                className={`\n                  ${baseStyles}\n                  ${parentActive ? activeStyles : inactiveStyles}\n                  group\n                `}\n                aria-expanded={isOpen}\n                aria-haspopup=\"true\"\n              >\n                {/* Active indicator line - sky blue gradient */}\n                {parentActive && (\n                  <span className=\"absolute bottom-0 left-3 right-3 h-0.5 bg-gradient-to-r from-sky-500 to-sky-400 rounded-full\" />\n                )}\n\n                {/* Icon with hover animation */}\n                <span className={`\n                  transition-transform duration-200\n                  ${isHovered ? 'scale-110' : 'scale-100'}\n                `}>\n                  <Icon size={18} strokeWidth={parentActive ? 2.5 : 2} />\n                </span>\n\n                <span className=\"whitespace-nowrap\">\n                  {menu.menu_name_th || menu.menu_name}\n                </span>\n\n                {/* Chevron with rotation */}\n                <ChevronDown\n                  size={14}\n                  className={`\n                    transition-transform duration-200 ease-out\n                    ${isOpen ? 'rotate-180' : ''}\n                    opacity-60\n                  `}\n                />\n\n                {/* Notification badge */}\n                {menu.badge_count && menu.badge_count > 0 && (\n                  <span className=\"absolute -top-1 -right-1 min-w-5 h-5 px-1.5 flex items-center justify-center text-xs font-bold text-white bg-red-500 rounded-full animate-pulse\">\n                    {menu.badge_count > 99 ? '99+' : menu.badge_count}\n                  </span>\n                )}\n              </button>\n\n              {/* Dropdown Menu with Animation */}\n              <div\n                className={`\n                  absolute top-full left-0 mt-2 min-w-56 z-50\n                  transition-all duration-200 ease-out origin-top-left\n                  ${isOpen\n                    ? 'opacity-100 scale-100 translate-y-0'\n                    : 'opacity-0 scale-95 -translate-y-2 pointer-events-none'\n                  }\n                `}\n              >\n                <div className=\"\n                  bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl\n                  border border-sky-100 dark:border-sky-800/50\n                  rounded-2xl shadow-xl shadow-sky-900/10 dark:shadow-black/30\n                  py-2 overflow-hidden\n                \">\n                  {/* Dropdown header */}\n                  <div className=\"px-4 py-2 border-b border-sky-50 dark:border-sky-900/50\">\n                    <p className=\"text-xs font-medium text-sky-500 dark:text-sky-400 uppercase tracking-wider\">\n                      {menu.menu_name_th || menu.menu_name}\n                    </p>\n                  </div>\n\n                  {/* Dropdown items */}\n                  <div className=\"py-1\">\n                    {menu.children!.map((child, childIndex) => {\n                      const ChildIcon = getIcon(child.icon || 'file');\n                      const childActive = isActive(child);\n                      const childKey = getMenuKey(child, childIndex);\n\n                      if (child.can_view === false) return null;\n\n                      return (\n                        <Link\n                          key={childKey}\n                          href={child.route_path || '#'}\n                          onClick={() => setOpenDropdown(null)}\n                          className={`\n                            flex items-center gap-3 px-4 py-2.5 mx-2 rounded-xl\n                            text-sm transition-all duration-150 group/item\n                            ${childActive\n                              ? 'bg-sky-50 dark:bg-sky-500/20 text-sky-700 dark:text-sky-300'\n                              : 'text-slate-600 dark:text-slate-400 hover:bg-sky-50/80 dark:hover:bg-sky-900/50 hover:text-sky-700 dark:hover:text-sky-300'\n                            }\n                          `}\n                        >\n                          {/* Icon container with sky blue */}\n                          <span className={`\n                            flex items-center justify-center w-8 h-8 rounded-lg\n                            transition-all duration-150\n                            ${childActive\n                              ? 'bg-sky-100 dark:bg-sky-500/25 text-sky-600 dark:text-sky-400'\n                              : 'bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-500 group-hover/item:bg-sky-100 dark:group-hover/item:bg-sky-900/60 group-hover/item:text-sky-600 dark:group-hover/item:text-sky-400'\n                            }\n                          `}>\n                            <ChildIcon size={16} />\n                          </span>\n\n                          <span className=\"flex-1 font-medium\">\n                            {child.menu_name_th || child.menu_name}\n                          </span>\n\n                          {/* Status indicator */}\n                          {child.is_new && (\n                            <span className=\"px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide text-sky-700 dark:text-sky-400 bg-sky-100 dark:bg-sky-500/20 rounded-full\">\n                              New\n                            </span>\n                          )}\n\n                          {/* Arrow indicator on hover */}\n                          <span className=\"opacity-0 group-hover/item:opacity-100 transition-opacity text-sky-500\">\n                            →\n                          </span>\n                        </Link>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n            </div>\n          );\n        }\n\n        // Menu item without children\n        return (\n          <Link\n            key={key}\n            href={menu.route_path || '#'}\n            onMouseEnter={() => setHoveredItem(key)}\n            onMouseLeave={() => setHoveredItem(null)}\n            className={`\n              ${baseStyles}\n              ${active ? activeStyles : inactiveStyles}\n              group\n            `}\n          >\n            {/* Active indicator line - sky blue */}\n            {active && (\n              <span className=\"absolute bottom-0 left-3 right-3 h-0.5 bg-gradient-to-r from-sky-500 to-sky-400 rounded-full\" />\n            )}\n\n            {/* Icon with hover animation */}\n            <span className={`\n              transition-transform duration-200\n              ${isHovered ? 'scale-110' : 'scale-100'}\n            `}>\n              <Icon size={18} strokeWidth={active ? 2.5 : 2} />\n            </span>\n\n            <span className=\"whitespace-nowrap\">\n              {menu.menu_name_th || menu.menu_name}\n            </span>\n\n            {/* Status dot for important modules */}\n            {menu.has_notification && (\n              <Circle\n                size={8}\n                className=\"fill-sky-500 text-sky-500 animate-pulse\"\n              />\n            )}\n          </Link>\n        );\n      })}\n    </nav>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2804, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/MobileMenu.tsx"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/MobileMenu.tsx\n// Description: Mobile Menu - Slide-out menu from LEFT with dynamic menus from API\n//              Shows on mobile and tablet (below xl: 1280px)\n// =============================================================================\n\n'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { X, ChevronDown, ChevronRight, LogOut, Moon, Sun } from 'lucide-react';\nimport { useMenuContext, MenuAccessItem } from '@/components/providers/MenuProvider';\nimport { useAuth } from '@/components/providers/AuthProvider';\nimport { useTheme } from '@/components/providers/ThemeProvider';\nimport { getIcon } from '@/components/ui';\n\ninterface MobileMenuProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function MobileMenu({ isOpen, onClose }: MobileMenuProps) {\n  const pathname = usePathname();\n  const { menus, isLoading } = useMenuContext();\n  const { user, logout } = useAuth();\n  const { theme, toggleTheme } = useTheme();\n  const [expandedMenus, setExpandedMenus] = useState<Set<number | string>>(new Set());\n\n  const toggleExpand = (menuId: number | string) => {\n    setExpandedMenus((prev) => {\n      const next = new Set(prev);\n      if (next.has(menuId)) {\n        next.delete(menuId);\n      } else {\n        next.add(menuId);\n      }\n      return next;\n    });\n  };\n\n  const isActive = (menu: MenuAccessItem): boolean => {\n    if (menu.route_path === pathname) return true;\n    if (menu.route_path && pathname.startsWith(menu.route_path + '/')) return true;\n    return false;\n  };\n\n  const getMenuKey = (menu: MenuAccessItem, index: number): string => {\n    if (menu.id) return `mobile-${menu.id}`;\n    if (menu.menu_code) return `mobile-${menu.menu_code}`;\n    return `mobile-idx-${index}`;\n  };\n\n  const getMenuId = (menu: MenuAccessItem): number | string => {\n    return menu.id || menu.menu_code;\n  };\n\n  const handleLogout = () => {\n    logout();\n    onClose();\n  };\n\n  const renderMenuItem = (menu: MenuAccessItem, index: number) => {\n    const Icon = getIcon(menu.icon || 'file');\n    const hasChildren = menu.children && menu.children.length > 0;\n    const menuId = getMenuId(menu);\n    const isExpanded = expandedMenus.has(menuId);\n    const active = isActive(menu);\n    const key = getMenuKey(menu, index);\n\n    // Skip if menu is not viewable\n    if (menu.can_view === false) return null;\n\n    if (hasChildren) {\n      return (\n        <div key={key} className=\"mb-1\">\n          <button\n            onClick={() => toggleExpand(menuId)}\n            className={`\n              w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-colors\n              ${active\n                ? 'bg-primary-50 dark:bg-primary-500/10 text-primary-600 dark:text-primary-400'\n                : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800'\n              }\n            `}\n          >\n            <Icon size={20} />\n            <span className=\"flex-1 text-left font-medium\">\n              {menu.menu_name_th || menu.menu_name}\n            </span>\n            {isExpanded ? (\n              <ChevronDown size={18} className=\"text-slate-400\" />\n            ) : (\n              <ChevronRight size={18} className=\"text-slate-400\" />\n            )}\n          </button>\n\n          {/* Children */}\n          {isExpanded && (\n            <div className=\"mt-1 ml-6 pl-4 border-l-2 border-slate-200 dark:border-slate-700 space-y-1\">\n              {menu.children!.map((child, childIndex) => {\n                const ChildIcon = getIcon(child.icon || 'file');\n                const childActive = isActive(child);\n                const childKey = getMenuKey(child, childIndex);\n\n                if (child.can_view === false) return null;\n\n                return (\n                  <Link\n                    key={childKey}\n                    href={child.route_path || '#'}\n                    onClick={onClose}\n                    className={`\n                      flex items-center gap-3 px-4 py-2.5 rounded-xl transition-colors\n                      ${childActive\n                        ? 'bg-primary-500 text-white'\n                        : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800'\n                      }\n                    `}\n                  >\n                    <ChildIcon size={18} />\n                    <span className=\"font-medium\">{child.menu_name_th || child.menu_name}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    // Menu item without children\n    return (\n      <Link\n        key={key}\n        href={menu.route_path || '#'}\n        onClick={onClose}\n        className={`\n          flex items-center gap-3 px-4 py-3 rounded-xl transition-colors mb-1\n          ${active\n            ? 'bg-primary-500 text-white'\n            : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800'\n          }\n        `}\n      >\n        <Icon size={20} />\n        <span className=\"font-medium\">{menu.menu_name_th || menu.menu_name}</span>\n      </Link>\n    );\n  };\n\n  return (\n    <>\n      {/* Backdrop - Shows below xl breakpoint */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 xl:hidden\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* Menu Panel - LEFT SIDE - Shows below xl breakpoint */}\n      <div\n        className={`\n          fixed top-0 left-0 h-full w-80 max-w-[85vw] bg-white dark:bg-slate-900 shadow-2xl z-50 \n          transform transition-transform duration-300 ease-in-out xl:hidden\n          ${isOpen ? 'translate-x-0' : '-translate-x-full'}\n        `}\n      >\n        {/* Header with Logo */}\n        <div className=\"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800\">\n          <Link href=\"/\" onClick={onClose} className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-lg shadow-primary-500/25\">\n              <span className=\"text-white font-bold text-lg\">M</span>\n            </div>\n            <div>\n              <h1 className=\"font-bold text-slate-900 dark:text-white\">Korat</h1>\n              <p className=\"text-xs text-slate-500 dark:text-slate-400\">HIS Platform</p>\n            </div>\n          </Link>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {/* User Info */}\n        {user && (\n          <div className=\"p-4 border-b border-slate-200 dark:border-slate-800\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 rounded-full bg-primary-100 dark:bg-primary-500/20 flex items-center justify-center\">\n                <span className=\"text-primary-600 dark:text-primary-400 font-semibold text-lg\">\n                  {user.name?.charAt(0) || 'U'}\n                </span>\n              </div>\n              <div>\n                <p className=\"font-medium text-slate-900 dark:text-white\">{user.name}</p>\n                <p className=\"text-sm text-slate-500\">{user.role}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto p-4 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\" style={{ maxHeight: 'calc(100vh - 220px)' }}>\n          {isLoading ? (\n            <div className=\"flex flex-col items-center justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin\" />\n              <span className=\"text-sm text-slate-500 mt-2\">Loading menus...</span>\n            </div>\n          ) : menus.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-sm text-slate-500\">No menus available</p>\n            </div>\n          ) : (\n            <div className=\"space-y-1\">\n              {menus.map((menu, index) => renderMenuItem(menu, index))}\n            </div>\n          )}\n        </nav>\n\n        {/* Footer Actions */}\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900\">\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={toggleTheme}\n              className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors\"\n            >\n              {theme === 'dark' ? <Sun size={18} /> : <Moon size={18} />}\n              <span className=\"text-sm font-medium\">\n                {theme === 'dark' ? 'Light' : 'Dark'}\n              </span>\n            </button>\n            <button\n              onClick={handleLogout}\n              className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 text-critical-600 dark:text-critical-400 hover:bg-critical-50 dark:hover:bg-critical-500/10 rounded-xl transition-colors\"\n            >\n              <LogOut size={18} />\n              <span className=\"text-sm font-medium\">Logout</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3310, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/Header.tsx"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/Header.tsx\n// Description: Header - Modern glassmorphism top navigation bar\n//              Using xl breakpoint (1280px) for desktop\n// =============================================================================\n\n'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { \n  Menu, \n  Bell, \n  Sun, \n  Moon, \n  User, \n  Settings, \n  LogOut, \n  ChevronDown, \n  Search,\n  PanelLeft,\n  PanelTop,\n  Command,\n  Sparkles\n} from 'lucide-react';\nimport { useAuth } from '@/components/providers/AuthProvider';\nimport { useTheme } from '@/components/providers/ThemeProvider';\n\ntype LayoutMode = 'sidebar' | 'horizontal';\n\ninterface HeaderProps {\n  onMenuClick?: () => void;\n  layoutMode?: LayoutMode;\n  onLayoutModeChange?: (mode: LayoutMode) => void;\n}\n\nexport function Header({ onMenuClick, layoutMode = 'sidebar', onLayoutModeChange }: HeaderProps) {\n  const { user, logout } = useAuth();\n  const { theme, toggleTheme } = useTheme();\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n  const [searchFocused, setSearchFocused] = useState(false);\n  const userMenuRef = useRef<HTMLDivElement>(null);\n\n  // Close user menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\n        setUserMenuOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n    setUserMenuOpen(false);\n  };\n\n  const toggleLayoutMode = () => {\n    const newMode = layoutMode === 'sidebar' ? 'horizontal' : 'sidebar';\n    onLayoutModeChange?.(newMode);\n  };\n\n  return (\n    <header className=\"sticky top-0 z-30 h-16 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-800/50\">\n      <div className=\"h-full px-4 flex items-center justify-between gap-4\">\n        {/* Left Section */}\n        <div className=\"flex items-center gap-4\">\n          {/* Mobile Menu Button - Shows below xl (1280px) */}\n          <button\n            onClick={onMenuClick}\n            className=\"xl:hidden p-2.5 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-100/80 dark:hover:bg-slate-800/80 rounded-xl transition-all active:scale-95\"\n          >\n            <Menu size={22} />\n          </button>\n\n          {/* Logo - Show on mobile/tablet OR when in horizontal mode on desktop */}\n          <Link \n            href=\"/\" \n            className={`flex items-center gap-3 group ${\n              layoutMode === 'horizontal' ? 'flex' : 'xl:hidden flex'\n            }`}\n          >\n            <div className=\"relative\">\n              <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-lg shadow-primary-500/25 group-hover:shadow-primary-500/40 transition-shadow\">\n                <span className=\"text-white font-bold text-lg\">K</span>\n              </div>\n              {/* Glow effect on hover */}\n              <div className=\"absolute inset-0 rounded-xl bg-primary-500/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity -z-10\" />\n            </div>\n            <div className=\"hidden sm:block\">\n              <h1 className=\"font-bold text-slate-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors\">Korat</h1>\n              <p className=\"text-xs text-slate-500 dark:text-slate-400\">HIS Platform</p>\n            </div>\n          </Link>\n\n          {/* Divider - Only in horizontal mode on desktop */}\n          {layoutMode === 'horizontal' && (\n            <div className=\"hidden xl:block h-8 w-px bg-gradient-to-b from-transparent via-slate-300 dark:via-slate-700 to-transparent mx-2\" />\n          )}\n\n          {/* Search Bar - Tablet and Desktop */}\n          <div className=\"hidden md:flex items-center\">\n            <div className={`relative transition-all duration-300 ${searchFocused ? 'w-80' : 'w-64'}`}>\n              <Search size={18} className={`absolute left-3 top-1/2 -translate-y-1/2 transition-colors ${searchFocused ? 'text-primary-500' : 'text-slate-400'}`} />\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                onFocus={() => setSearchFocused(true)}\n                onBlur={() => setSearchFocused(false)}\n                className=\"w-full pl-10 pr-20 py-2.5 bg-slate-100/80 dark:bg-slate-800/80 border border-transparent hover:border-slate-200 dark:hover:border-slate-700 focus:border-primary-500/50 focus:bg-white dark:focus:bg-slate-800 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 transition-all\"\n              />\n              {/* Keyboard shortcut hint */}\n              <div className=\"absolute right-3 top-1/2 -translate-y-1/2 hidden lg:flex items-center gap-1 text-xs text-slate-400\">\n                <kbd className=\"px-1.5 py-0.5 bg-slate-200/80 dark:bg-slate-700/80 rounded text-[10px] font-medium\">⌘</kbd>\n                <kbd className=\"px-1.5 py-0.5 bg-slate-200/80 dark:bg-slate-700/80 rounded text-[10px] font-medium\">K</kbd>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Section */}\n        <div className=\"flex items-center gap-1.5\">\n          {/* Layout Mode Toggle - Desktop Only (xl+) */}\n          {onLayoutModeChange && (\n            <div className=\"hidden xl:flex items-center bg-slate-100/80 dark:bg-slate-800/80 rounded-xl p-1 border border-slate-200/50 dark:border-slate-700/50\">\n              <button\n                onClick={() => onLayoutModeChange('sidebar')}\n                className={`p-2 rounded-lg transition-all ${\n                  layoutMode === 'sidebar'\n                    ? 'bg-white dark:bg-slate-700 text-primary-500 shadow-sm'\n                    : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\n                }`}\n                title=\"Sidebar Layout\"\n              >\n                <PanelLeft size={18} />\n              </button>\n              <button\n                onClick={() => onLayoutModeChange('horizontal')}\n                className={`p-2 rounded-lg transition-all ${\n                  layoutMode === 'horizontal'\n                    ? 'bg-white dark:bg-slate-700 text-primary-500 shadow-sm'\n                    : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\n                }`}\n                title=\"Horizontal Layout\"\n              >\n                <PanelTop size={18} />\n              </button>\n            </div>\n          )}\n\n          {/* Divider */}\n          <div className=\"hidden sm:block h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1\" />\n\n          {/* Theme Toggle */}\n          <button\n            onClick={toggleTheme}\n            className=\"p-2.5 text-slate-500 hover:text-amber-500 dark:hover:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-500/10 rounded-xl transition-all active:scale-95\"\n            title={theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n          >\n            {theme === 'dark' ? <Sun size={20} /> : <Moon size={20} />}\n          </button>\n\n          {/* Notifications */}\n          <button\n            className=\"relative p-2.5 text-slate-500 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-500/10 rounded-xl transition-all active:scale-95\"\n            title=\"Notifications\"\n          >\n            <Bell size={20} />\n            {/* Notification badge with pulse animation */}\n            <span className=\"absolute top-1.5 right-1.5 flex h-2.5 w-2.5\">\n              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n              <span className=\"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500\"></span>\n            </span>\n          </button>\n\n          {/* Divider */}\n          <div className=\"hidden sm:block h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1\" />\n\n          {/* User Menu */}\n          <div className=\"relative\" ref={userMenuRef}>\n            <button\n              onClick={() => setUserMenuOpen(!userMenuOpen)}\n              className={`flex items-center gap-2.5 p-1.5 pl-3 rounded-xl transition-all active:scale-[0.98] ${\n                userMenuOpen \n                  ? 'bg-primary-50 dark:bg-primary-500/10' \n                  : 'hover:bg-slate-100/80 dark:hover:bg-slate-800/80'\n              }`}\n            >\n              <div className=\"hidden sm:block text-right\">\n                <p className=\"text-sm font-medium text-slate-700 dark:text-slate-200\">{user?.name || 'User'}</p>\n                <p className=\"text-xs text-slate-500 dark:text-slate-400\">{user?.role || 'Guest'}</p>\n              </div>\n              <div className=\"relative\">\n                <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-md\">\n                  <span className=\"text-white font-semibold text-sm\">\n                    {user?.name?.charAt(0) || 'U'}\n                  </span>\n                </div>\n                {/* Online indicator */}\n                <span className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-900 rounded-full\" />\n              </div>\n              <ChevronDown\n                size={16}\n                className={`hidden sm:block text-slate-400 transition-transform duration-200 ${userMenuOpen ? 'rotate-180' : ''}`}\n              />\n            </button>\n\n            {/* Dropdown Menu */}\n            {userMenuOpen && (\n              <div className=\"absolute right-0 top-full mt-2 w-64 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-xl shadow-slate-900/10 dark:shadow-slate-900/50 py-2 z-50 overflow-hidden\">\n                {/* User Info Header */}\n                <div className=\"px-4 py-3 bg-gradient-to-r from-primary-500/10 to-primary-600/5 dark:from-primary-500/20 dark:to-primary-600/10 border-b border-slate-200/50 dark:border-slate-700/50\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center shadow-lg shadow-primary-500/25 shrink-0\">\n                      <span className=\"text-white font-bold text-sm\">\n                        {user?.name?.charAt(0) || 'U'}\n                      </span>\n                    </div>\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"font-medium text-sm text-slate-900 dark:text-white truncate\">{user?.name}</p>\n                      <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate\">{user?.username}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Menu Items */}\n                <div className=\"py-2\">\n                  <Link\n                    href=\"/profile\"\n                    onClick={() => setUserMenuOpen(false)}\n                    className=\"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/80 hover:text-slate-900 dark:hover:text-white transition-colors group\"\n                  >\n                    <div className=\"p-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 group-hover:bg-primary-100 dark:group-hover:bg-primary-500/20 transition-colors\">\n                      <User size={16} className=\"group-hover:text-primary-500 transition-colors\" />\n                    </div>\n                    <span>Profile</span>\n                  </Link>\n                  <Link\n                    href=\"/settings\"\n                    onClick={() => setUserMenuOpen(false)}\n                    className=\"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/80 hover:text-slate-900 dark:hover:text-white transition-colors group\"\n                  >\n                    <div className=\"p-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 group-hover:bg-primary-100 dark:group-hover:bg-primary-500/20 transition-colors\">\n                      <Settings size={16} className=\"group-hover:text-primary-500 transition-colors\" />\n                    </div>\n                    <span>Settings</span>\n                  </Link>\n                </div>\n\n                {/* Layout Toggle - Tablet and Mobile (below xl) */}\n                {onLayoutModeChange && (\n                  <div className=\"xl:hidden border-t border-slate-200/50 dark:border-slate-700/50 py-2\">\n                    <button\n                      onClick={toggleLayoutMode}\n                      className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-100/80 dark:hover:bg-slate-800/80 hover:text-slate-900 dark:hover:text-white transition-colors group\"\n                    >\n                      <div className=\"p-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 group-hover:bg-primary-100 dark:group-hover:bg-primary-500/20 transition-colors\">\n                        {layoutMode === 'sidebar' ? (\n                          <PanelTop size={16} className=\"group-hover:text-primary-500 transition-colors\" />\n                        ) : (\n                          <PanelLeft size={16} className=\"group-hover:text-primary-500 transition-colors\" />\n                        )}\n                      </div>\n                      <span>{layoutMode === 'sidebar' ? 'Horizontal Layout' : 'Sidebar Layout'}</span>\n                    </button>\n                  </div>\n                )}\n\n                {/* Logout */}\n                <div className=\"border-t border-slate-200/50 dark:border-slate-700/50 pt-2\">\n                  <button\n                    onClick={handleLogout}\n                    className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors group\"\n                  >\n                    <div className=\"p-1.5 rounded-lg bg-red-50 dark:bg-red-500/10 group-hover:bg-red-100 dark:group-hover:bg-red-500/20 transition-colors\">\n                      <LogOut size={16} />\n                    </div>\n                    <span>Logout</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3998, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/AdminLayout.tsx"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/AdminLayout.tsx\n// Description: Admin Layout - Main layout wrapper with sidebar/horizontal toggle\n//              Using xl breakpoint (1280px) for desktop, below uses mobile menu\n// =============================================================================\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Sidebar } from './Sidebar';\nimport { Header } from './Header';\nimport { HorizontalNav } from './HorizontalNav';\nimport { MobileMenu } from './MobileMenu';\n\ntype LayoutMode = 'sidebar' | 'horizontal';\n\ninterface AdminLayoutProps {\n  children: React.ReactNode;\n}\n\nexport function AdminLayout({ children }: AdminLayoutProps) {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [layoutMode, setLayoutMode] = useState<LayoutMode>('sidebar');\n\n  // Load layout preference from localStorage\n  useEffect(() => {\n    const savedMode = localStorage.getItem('layoutMode') as LayoutMode;\n    if (savedMode && (savedMode === 'sidebar' || savedMode === 'horizontal')) {\n      setLayoutMode(savedMode);\n    }\n  }, []);\n\n  // Save layout preference to localStorage\n  const handleLayoutModeChange = (mode: LayoutMode) => {\n    setLayoutMode(mode);\n    localStorage.setItem('layoutMode', mode);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-cyan-50/30 dark:from-slate-950 dark:via-blue-950/20 dark:to-slate-900\">\n      {/* Background Decorations */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl\" />\n        <div className=\"absolute top-1/2 left-1/2 w-96 h-96 bg-indigo-500/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2\" />\n      </div>\n\n      {/* Sidebar - Desktop only (xl: 1280px+) in sidebar mode */}\n      {layoutMode === 'sidebar' && (\n        <div className=\"hidden xl:block\">\n          <Sidebar\n            collapsed={sidebarCollapsed}\n            onToggle={() => setSidebarCollapsed(!sidebarCollapsed)}\n          />\n        </div>\n      )}\n\n      {/* Mobile Menu - Shows on tablet and mobile (below xl) */}\n      <MobileMenu\n        isOpen={mobileMenuOpen}\n        onClose={() => setMobileMenuOpen(false)}\n      />\n\n      {/* Main Content Area */}\n      <div\n        className={`\n          relative z-10\n          transition-all duration-300 ease-in-out\n          ${layoutMode === 'sidebar' \n            ? (sidebarCollapsed ? 'xl:ml-20' : 'xl:ml-64')\n            : 'xl:ml-0'\n          }\n        `}\n      >\n        {/* Header */}\n        <Header \n          onMenuClick={() => setMobileMenuOpen(true)} \n          layoutMode={layoutMode}\n          onLayoutModeChange={handleLayoutModeChange}\n        />\n\n        {/* Horizontal Navigation - Desktop (xl+) in horizontal mode */}\n        {layoutMode === 'horizontal' && (\n          <div className=\"hidden xl:block sticky top-16 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-800/50\">\n            <div className=\"px-4 py-2\">\n              <HorizontalNav />\n            </div>\n          </div>\n        )}\n\n        {/* Page Content */}\n        <main className=\"p-4 xl:p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,gFAAgF;AAChF,8CAA8C;AAC9C,iFAAiF;AACjF,gFAAgF;AAChF,gFAAgF;;;;;;AAIhF;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAcO,SAAS,YAAY,EAAE,QAAQ,EAAoB;;IACxD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,uLAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,uLAAQ,EAAC;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,uLAAQ,EAAa;IAEzD,2CAA2C;IAC3C,IAAA,wLAAS;iCAAC;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,aAAa,CAAC,cAAc,aAAa,cAAc,YAAY,GAAG;gBACxE,cAAc;YAChB;QACF;gCAAG,EAAE;IAEL,yCAAyC;IACzC,MAAM,yBAAyB,CAAC;QAC9B,cAAc;QACd,aAAa,OAAO,CAAC,cAAc;IACrC;IAEA,qBACE,2MAAC;QAAI,WAAU;;0BAEb,2MAAC;gBAAI,WAAU;;kCACb,2MAAC;wBAAI,WAAU;;;;;;kCACf,2MAAC;wBAAI,WAAU;;;;;;kCACf,2MAAC;wBAAI,WAAU;;;;;;;;;;;;YAIhB,eAAe,2BACd,2MAAC;gBAAI,WAAU;0BACb,cAAA,2MAAC,mKAAO;oBACN,WAAW;oBACX,UAAU,IAAM,oBAAoB,CAAC;;;;;;;;;;;0BAM3C,2MAAC,yKAAU;gBACT,QAAQ;gBACR,SAAS,IAAM,kBAAkB;;;;;;0BAInC,2MAAC;gBACC,WAAW,CAAC;;;UAGV,EAAE,eAAe,YACZ,mBAAmB,aAAa,aACjC,UACH;QACH,CAAC;;kCAGD,2MAAC,iKAAM;wBACL,aAAa,IAAM,kBAAkB;wBACrC,YAAY;wBACZ,oBAAoB;;;;;;oBAIrB,eAAe,8BACd,2MAAC;wBAAI,WAAU;kCACb,cAAA,2MAAC;4BAAI,WAAU;sCACb,cAAA,2MAAC,+KAAa;;;;;;;;;;;;;;;kCAMpB,2MAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX;GA9EgB;KAAA"}},
    {"offset": {"line": 4163, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/layout/index.ts"],"sourcesContent":["// =============================================================================\n// File: src/components/layout/index.ts\n// Description: Export all layout components\n// =============================================================================\n\nexport * from './Sidebar';\nexport * from './HorizontalNav';\nexport * from './MobileMenu';\nexport * from './AdminLayout';\nexport * from './Header';"],"names":[],"mappings":"AAAA,gFAAgF;AAChF,uCAAuC;AACvC,4CAA4C;AAC5C,gFAAgF;;AAEhF;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4185, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/dashboard/StatCard.tsx"],"sourcesContent":["'use client';\n\nimport { FC, useState, useEffect } from 'react';\nimport { TrendingUp, TrendingDown, Minus, Activity, RefreshCw } from 'lucide-react';\nimport { getIcon } from '@/components/ui';\nimport { StatCard as StatCardType } from '@/types';\n\n// Extended stat type for HIS\ninterface HISStatCard extends StatCardType {\n  // Real-time indicator\n  isLive?: boolean;\n  lastUpdated?: Date | string;\n  \n  // Trend data for sparkline\n  sparklineData?: number[];\n  \n  // Additional HIS info\n  subtitle?: string;\n  target?: number;\n  unit?: string;\n  \n  // Visual options\n  variant?: 'default' | 'gradient' | 'outline' | 'glass';\n  size?: 'sm' | 'md' | 'lg';\n  \n  // Actions\n  onClick?: () => void;\n  onRefresh?: () => void;\n}\n\ninterface StatCardProps {\n  stat: HISStatCard;\n  delay?: number;\n}\n\n// Mini Sparkline Component\nconst Sparkline: FC<{ data: number[]; color: string; height?: number }> = ({ \n  data, \n  color,\n  height = 32 \n}) => {\n  if (!data || data.length < 2) return null;\n  \n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const range = max - min || 1;\n  \n  const points = data\n    .map((value, index) => {\n      const x = (index / (data.length - 1)) * 100;\n      const y = height - ((value - min) / range) * height;\n      return `${x},${y}`;\n    })\n    .join(' ');\n  \n  return (\n    <svg \n      viewBox={`0 0 100 ${height}`} \n      className=\"w-full h-8 opacity-60\"\n      preserveAspectRatio=\"none\"\n    >\n      <defs>\n        <linearGradient id={`sparkline-${color}`} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor={color} stopOpacity=\"0.3\" />\n          <stop offset=\"100%\" stopColor={color} stopOpacity=\"0\" />\n        </linearGradient>\n      </defs>\n      {/* Area fill */}\n      <polygon\n        points={`0,${height} ${points} 100,${height}`}\n        fill={`url(#sparkline-${color})`}\n      />\n      {/* Line */}\n      <polyline\n        points={points}\n        fill=\"none\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        vectorEffect=\"non-scaling-stroke\"\n      />\n    </svg>\n  );\n};\n\n// Live Indicator\nconst LiveIndicator: FC<{ isLive?: boolean }> = ({ isLive }) => {\n  if (!isLive) return null;\n  \n  return (\n    <div className=\"flex items-center gap-1.5\">\n      <span className=\"relative flex h-2 w-2\">\n        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\" />\n        <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\" />\n      </span>\n      <span className=\"text-[10px] font-medium text-emerald-600 dark:text-emerald-400 uppercase tracking-wider\">\n        Live\n      </span>\n    </div>\n  );\n};\n\n// Progress Ring for target\nconst ProgressRing: FC<{ progress: number; color: string; size?: number }> = ({ \n  progress, \n  color,\n  size = 44 \n}) => {\n  const strokeWidth = 4;\n  const radius = (size - strokeWidth) / 2;\n  const circumference = radius * 2 * Math.PI;\n  const offset = circumference - (Math.min(progress, 100) / 100) * circumference;\n  \n  return (\n    <div className=\"relative\" style={{ width: size, height: size }}>\n      <svg className=\"transform -rotate-90\" width={size} height={size}>\n        {/* Background circle */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke=\"currentColor\"\n          strokeWidth={strokeWidth}\n          fill=\"none\"\n          className=\"text-slate-200 dark:text-slate-700\"\n        />\n        {/* Progress circle */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          stroke={color}\n          strokeWidth={strokeWidth}\n          fill=\"none\"\n          strokeLinecap=\"round\"\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          className=\"transition-all duration-500 ease-out\"\n        />\n      </svg>\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <span className=\"text-xs font-bold text-slate-700 dark:text-slate-300\">\n          {Math.round(progress)}%\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport const StatCardModern: FC<StatCardProps> = ({ stat, delay = 0 }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const Icon = getIcon(stat.icon);\n  \n  // Extended color palette for HIS\n  const colorClasses = {\n    primary: {\n      bg: 'bg-blue-100 dark:bg-blue-500/20',\n      bgGradient: 'bg-gradient-to-br from-blue-500 to-blue-600',\n      text: 'text-blue-600 dark:text-blue-400',\n      border: 'border-blue-200 dark:border-blue-500/30',\n      hex: '#3b82f6',\n    },\n    success: {\n      bg: 'bg-emerald-100 dark:bg-emerald-500/20',\n      bgGradient: 'bg-gradient-to-br from-emerald-500 to-emerald-600',\n      text: 'text-emerald-600 dark:text-emerald-400',\n      border: 'border-emerald-200 dark:border-emerald-500/30',\n      hex: '#10b981',\n    },\n    warning: {\n      bg: 'bg-amber-100 dark:bg-amber-500/20',\n      bgGradient: 'bg-gradient-to-br from-amber-500 to-amber-600',\n      text: 'text-amber-600 dark:text-amber-400',\n      border: 'border-amber-200 dark:border-amber-500/30',\n      hex: '#f59e0b',\n    },\n    critical: {\n      bg: 'bg-red-100 dark:bg-red-500/20',\n      bgGradient: 'bg-gradient-to-br from-red-500 to-red-600',\n      text: 'text-red-600 dark:text-red-400',\n      border: 'border-red-200 dark:border-red-500/30',\n      hex: '#ef4444',\n    },\n    // Additional HIS colors\n    info: {\n      bg: 'bg-cyan-100 dark:bg-cyan-500/20',\n      bgGradient: 'bg-gradient-to-br from-cyan-500 to-cyan-600',\n      text: 'text-cyan-600 dark:text-cyan-400',\n      border: 'border-cyan-200 dark:border-cyan-500/30',\n      hex: '#06b6d4',\n    },\n    purple: {\n      bg: 'bg-purple-100 dark:bg-purple-500/20',\n      bgGradient: 'bg-gradient-to-br from-purple-500 to-purple-600',\n      text: 'text-purple-600 dark:text-purple-400',\n      border: 'border-purple-200 dark:border-purple-500/30',\n      hex: '#8b5cf6',\n    },\n    neutral: {\n      bg: 'bg-slate-100 dark:bg-slate-500/20',\n      bgGradient: 'bg-gradient-to-br from-slate-500 to-slate-600',\n      text: 'text-slate-600 dark:text-slate-400',\n      border: 'border-slate-200 dark:border-slate-500/30',\n      hex: '#64748b',\n    },\n  };\n\n  const colors = colorClasses[stat.color as keyof typeof colorClasses] || colorClasses.primary;\n  const variant = stat.variant || 'default';\n  const size = stat.size || 'md';\n  \n  // Change calculation\n  const change = stat.change;\n  const isPositive = change !== undefined && change > 0;\n  const isNegative = change !== undefined && change < 0;\n  const isNeutral = change !== undefined && change === 0;\n  \n  // Target progress\n  const targetProgress = stat.target && typeof stat.value === 'number' \n    ? (stat.value / stat.target) * 100 \n    : undefined;\n\n  // Handle refresh\n  const handleRefresh = async () => {\n    if (stat.onRefresh) {\n      setIsRefreshing(true);\n      await stat.onRefresh();\n      setTimeout(() => setIsRefreshing(false), 500);\n    }\n  };\n\n  // Size classes\n  const sizeClasses = {\n    sm: 'p-3',\n    md: 'p-4 lg:p-5',\n    lg: 'p-5 lg:p-6',\n  };\n\n  // Variant classes\n  const getVariantClasses = () => {\n    switch (variant) {\n      case 'gradient':\n        return `${colors.bgGradient} text-white border-0 shadow-lg shadow-${stat.color}-500/25`;\n      case 'outline':\n        return `bg-transparent border-2 ${colors.border}`;\n      case 'glass':\n        return 'bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl border border-white/20 dark:border-slate-700/50';\n      default:\n        return 'bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800';\n    }\n  };\n\n  const isGradient = variant === 'gradient';\n\n  return (\n    <div\n      className={`\n        relative overflow-hidden rounded-2xl\n        transition-all duration-300 ease-out\n        ${sizeClasses[size]}\n        ${getVariantClasses()}\n        ${stat.onClick ? 'cursor-pointer' : ''}\n        ${isHovered ? 'scale-[1.02] shadow-xl' : 'shadow-sm'}\n        animate-slide-up\n      `}\n      style={{ animationDelay: `${delay}ms` }}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={stat.onClick}\n    >\n      {/* Background decoration */}\n      {!isGradient && (\n        <div \n          className={`\n            absolute -right-8 -top-8 w-32 h-32 rounded-full opacity-[0.07]\n            transition-transform duration-500\n            ${colors.bgGradient}\n            ${isHovered ? 'scale-150' : 'scale-100'}\n          `} \n        />\n      )}\n\n      {/* Header: Live indicator & Refresh */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <LiveIndicator isLive={stat.isLive} />\n        \n        {stat.onRefresh && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              handleRefresh();\n            }}\n            className={`\n              p-1 rounded-lg transition-all\n              ${isGradient \n                ? 'hover:bg-white/20 text-white/80' \n                : 'hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400'\n              }\n            `}\n          >\n            <RefreshCw \n              size={14} \n              className={isRefreshing ? 'animate-spin' : ''} \n            />\n          </button>\n        )}\n      </div>\n\n      {/* Main content */}\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex-1 min-w-0\">\n          {/* Label */}\n          <p className={`\n            text-xs lg:text-sm font-medium truncate\n            ${isGradient ? 'text-white/80' : 'text-slate-500 dark:text-slate-400'}\n          `}>\n            {stat.label}\n          </p>\n          \n          {/* Value */}\n          <div className=\"mt-1 flex items-baseline gap-1.5\">\n            <p className={`\n              text-2xl lg:text-3xl font-bold tracking-tight\n              ${isGradient ? 'text-white' : 'text-slate-900 dark:text-white'}\n            `}>\n              {stat.value}\n            </p>\n            {stat.unit && (\n              <span className={`\n                text-sm font-medium\n                ${isGradient ? 'text-white/70' : 'text-slate-400'}\n              `}>\n                {stat.unit}\n              </span>\n            )}\n          </div>\n\n          {/* Subtitle */}\n          {stat.subtitle && (\n            <p className={`\n              mt-0.5 text-xs\n              ${isGradient ? 'text-white/60' : 'text-slate-400'}\n            `}>\n              {stat.subtitle}\n            </p>\n          )}\n\n          {/* Change indicator */}\n          {change !== undefined && (\n            <div className=\"mt-2 lg:mt-3 flex items-center gap-1.5\">\n              {isPositive && (\n                <div className={`\n                  flex items-center gap-1 px-1.5 py-0.5 rounded-full\n                  ${isGradient ? 'bg-white/20' : 'bg-emerald-100 dark:bg-emerald-500/20'}\n                `}>\n                  <TrendingUp size={12} className={isGradient ? 'text-white' : 'text-emerald-600 dark:text-emerald-400'} />\n                  <span className={`text-xs font-semibold ${isGradient ? 'text-white' : 'text-emerald-600 dark:text-emerald-400'}`}>\n                    +{change}%\n                  </span>\n                </div>\n              )}\n              {isNegative && (\n                <div className={`\n                  flex items-center gap-1 px-1.5 py-0.5 rounded-full\n                  ${isGradient ? 'bg-white/20' : 'bg-red-100 dark:bg-red-500/20'}\n                `}>\n                  <TrendingDown size={12} className={isGradient ? 'text-white' : 'text-red-600 dark:text-red-400'} />\n                  <span className={`text-xs font-semibold ${isGradient ? 'text-white' : 'text-red-600 dark:text-red-400'}`}>\n                    {change}%\n                  </span>\n                </div>\n              )}\n              {isNeutral && (\n                <div className={`\n                  flex items-center gap-1 px-1.5 py-0.5 rounded-full\n                  ${isGradient ? 'bg-white/20' : 'bg-slate-100 dark:bg-slate-500/20'}\n                `}>\n                  <Minus size={12} className={isGradient ? 'text-white' : 'text-slate-500'} />\n                  <span className={`text-xs font-semibold ${isGradient ? 'text-white' : 'text-slate-500'}`}>\n                    0%\n                  </span>\n                </div>\n              )}\n              {stat.changeLabel && (\n                <span className={`\n                  text-xs\n                  ${isGradient ? 'text-white/60' : 'text-slate-400'}\n                `}>\n                  {stat.changeLabel}\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Icon or Progress Ring */}\n        <div className=\"shrink-0\">\n          {targetProgress !== undefined ? (\n            <ProgressRing \n              progress={targetProgress} \n              color={colors.hex}\n              size={size === 'lg' ? 52 : 44}\n            />\n          ) : (\n            <div\n              className={`\n                flex items-center justify-center rounded-xl\n                transition-all duration-300\n                ${size === 'lg' ? 'w-14 h-14' : 'w-11 h-11 lg:w-12 lg:h-12'}\n                ${isGradient \n                  ? 'bg-white/20' \n                  : colors.bg\n                }\n                ${isHovered ? 'scale-110 rotate-3' : ''}\n              `}\n            >\n              <Icon \n                size={size === 'lg' ? 24 : 20} \n                className={isGradient ? 'text-white' : colors.text}\n                strokeWidth={2}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Sparkline */}\n      {stat.sparklineData && stat.sparklineData.length > 1 && (\n        <div className=\"mt-3 -mx-1\">\n          <Sparkline \n            data={stat.sparklineData} \n            color={isGradient ? 'rgba(255,255,255,0.8)' : colors.hex}\n            height={28}\n          />\n        </div>\n      )}\n\n      {/* Hover shine effect */}\n      <div \n        className={`\n          absolute inset-0 opacity-0 transition-opacity duration-300\n          bg-gradient-to-r from-transparent via-white/10 to-transparent\n          -translate-x-full\n          ${isHovered ? 'opacity-100 translate-x-full' : ''}\n        `}\n        style={{ \n          transition: 'transform 0.6s ease-out, opacity 0.3s',\n          transform: isHovered ? 'translateX(100%)' : 'translateX(-100%)'\n        }}\n      />\n    </div>\n  );\n};\n\n// Export the original for backward compatibility\nexport { StatCardModern as StatCard };"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4847, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/dashboard/QuickActions.tsx"],"sourcesContent":["'use client';\n\nimport { FC, useState, useCallback } from 'react';\nimport { getIcon } from '@/components/ui';\nimport { QuickAction } from '@/types';\nimport { Command } from 'lucide-react';\n\n// Extended QuickAction type\ninterface HISQuickAction extends QuickAction {\n  badge?: number;\n  badgeType?: 'default' | 'warning' | 'danger';\n  shortcut?: string;\n  description?: string;\n  disabled?: boolean;\n  isNew?: boolean;\n}\n\ninterface QuickActionsProps {\n  actions: HISQuickAction[];\n  title?: string;\n  variant?: 'grid' | 'list' | 'compact';\n  columns?: 3 | 4 | 6;\n}\n\n// Keyboard shortcut display\nconst ShortcutKey: FC<{ shortcut: string }> = ({ shortcut }) => (\n  <div className=\"flex items-center gap-0.5 text-[10px] font-medium text-slate-400 dark:text-slate-500\">\n    {shortcut.split('+').map((key, i) => (\n      <span key={i} className=\"flex items-center\">\n        {i > 0 && <span className=\"mx-0.5\">+</span>}\n        {key.toLowerCase() === 'cmd' || key.toLowerCase() === 'ctrl' ? (\n          <Command size={10} />\n        ) : (\n          <kbd className=\"px-1 py-0.5 bg-slate-100 dark:bg-slate-800 rounded text-[10px]\">\n            {key}\n          </kbd>\n        )}\n      </span>\n    ))}\n  </div>\n);\n\n// Badge component\nconst ActionBadge: FC<{ count: number; type?: 'default' | 'warning' | 'danger' }> = ({ \n  count, \n  type = 'default' \n}) => {\n  if (count <= 0) return null;\n  \n  const colors = {\n    default: 'bg-primary-500 text-white',\n    warning: 'bg-amber-500 text-white',\n    danger: 'bg-red-500 text-white animate-pulse',\n  };\n  \n  return (\n    <span className={`\n      absolute -top-1 -right-1 min-w-5 h-5 px-1.5\n      flex items-center justify-center\n      text-[10px] font-bold rounded-full\n      ${colors[type]}\n    `}>\n      {count > 99 ? '99+' : count}\n    </span>\n  );\n};\n\nexport const QuickActionsModern: FC<QuickActionsProps> = ({ \n  actions, \n  title = 'Quick Actions',\n  variant = 'grid',\n  columns = 6,\n}) => {\n  const [hoveredId, setHoveredId] = useState<string | null>(null);\n  const [pressedId, setPressedId] = useState<string | null>(null);\n\n  // Extended color palette\n  const colorConfig: Record<string, { \n    bg: string; \n    bgHover: string;\n    text: string; \n    border: string;\n    gradient: string;\n  }> = {\n    primary: {\n      bg: 'bg-blue-50 dark:bg-blue-500/10',\n      bgHover: 'hover:bg-blue-100 dark:hover:bg-blue-500/20',\n      text: 'text-blue-600 dark:text-blue-400',\n      border: 'border-blue-200 dark:border-blue-500/30',\n      gradient: 'from-blue-500 to-blue-600',\n    },\n    success: {\n      bg: 'bg-emerald-50 dark:bg-emerald-500/10',\n      bgHover: 'hover:bg-emerald-100 dark:hover:bg-emerald-500/20',\n      text: 'text-emerald-600 dark:text-emerald-400',\n      border: 'border-emerald-200 dark:border-emerald-500/30',\n      gradient: 'from-emerald-500 to-emerald-600',\n    },\n    warning: {\n      bg: 'bg-amber-50 dark:bg-amber-500/10',\n      bgHover: 'hover:bg-amber-100 dark:hover:bg-amber-500/20',\n      text: 'text-amber-600 dark:text-amber-400',\n      border: 'border-amber-200 dark:border-amber-500/30',\n      gradient: 'from-amber-500 to-amber-600',\n    },\n    critical: {\n      bg: 'bg-red-50 dark:bg-red-500/10',\n      bgHover: 'hover:bg-red-100 dark:hover:bg-red-500/20',\n      text: 'text-red-600 dark:text-red-400',\n      border: 'border-red-200 dark:border-red-500/30',\n      gradient: 'from-red-500 to-red-600',\n    },\n    purple: {\n      bg: 'bg-purple-50 dark:bg-purple-500/10',\n      bgHover: 'hover:bg-purple-100 dark:hover:bg-purple-500/20',\n      text: 'text-purple-600 dark:text-purple-400',\n      border: 'border-purple-200 dark:border-purple-500/30',\n      gradient: 'from-purple-500 to-purple-600',\n    },\n    cyan: {\n      bg: 'bg-cyan-50 dark:bg-cyan-500/10',\n      bgHover: 'hover:bg-cyan-100 dark:hover:bg-cyan-500/20',\n      text: 'text-cyan-600 dark:text-cyan-400',\n      border: 'border-cyan-200 dark:border-cyan-500/30',\n      gradient: 'from-cyan-500 to-cyan-600',\n    },\n    slate: {\n      bg: 'bg-slate-50 dark:bg-slate-500/10',\n      bgHover: 'hover:bg-slate-100 dark:hover:bg-slate-500/20',\n      text: 'text-slate-600 dark:text-slate-400',\n      border: 'border-slate-200 dark:border-slate-500/30',\n      gradient: 'from-slate-500 to-slate-600',\n    },\n  };\n\n  const getColumnClass = () => {\n    switch (columns) {\n      case 3: return 'grid-cols-3';\n      case 4: return 'grid-cols-2 lg:grid-cols-4';\n      case 6: return 'grid-cols-3 lg:grid-cols-6';\n      default: return 'grid-cols-3 lg:grid-cols-6';\n    }\n  };\n\n  // Grid variant (default)\n  const renderGridAction = (action: HISQuickAction) => {\n    const colors = colorConfig[action.color] || colorConfig.primary;\n    const Icon = getIcon(action.icon);\n    const isHovered = hoveredId === action.id;\n    const isPressed = pressedId === action.id;\n\n    return (\n      <button\n        key={action.id}\n        onClick={action.onClick}\n        disabled={action.disabled}\n        onMouseEnter={() => setHoveredId(action.id)}\n        onMouseLeave={() => setHoveredId(null)}\n        onMouseDown={() => setPressedId(action.id)}\n        onMouseUp={() => setPressedId(null)}\n        className={`\n          relative flex flex-col items-center gap-2 p-4 lg:p-5\n          rounded-2xl border transition-all duration-200\n          ${colors.bg} ${colors.bgHover} ${colors.border}\n          ${action.disabled \n            ? 'opacity-50 cursor-not-allowed' \n            : 'cursor-pointer'\n          }\n          ${isPressed ? 'scale-95' : isHovered ? 'scale-105 shadow-lg' : ''}\n          group\n        `}\n      >\n        {/* Badge */}\n        <ActionBadge count={action.badge || 0} type={action.badgeType} />\n        \n        {/* New indicator */}\n        {action.isNew && (\n          <span className=\"absolute top-2 left-2 px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wide bg-emerald-500 text-white rounded-full\">\n            New\n          </span>\n        )}\n\n        {/* Icon */}\n        <div className={`\n          w-10 h-10 lg:w-12 lg:h-12 rounded-xl\n          flex items-center justify-center\n          bg-gradient-to-br ${colors.gradient}\n          text-white shadow-lg\n          transition-transform duration-200\n          ${isHovered ? 'scale-110 rotate-3' : ''}\n        `}>\n          <Icon size={20} className=\"lg:w-6 lg:h-6\" />\n        </div>\n\n        {/* Label */}\n        <span className={`text-xs lg:text-sm font-semibold ${colors.text} text-center`}>\n          {action.label}\n        </span>\n\n        {/* Shortcut */}\n        {action.shortcut && (\n          <div className=\"opacity-0 group-hover:opacity-100 transition-opacity\">\n            <ShortcutKey shortcut={action.shortcut} />\n          </div>\n        )}\n      </button>\n    );\n  };\n\n  // List variant\n  const renderListAction = (action: HISQuickAction) => {\n    const colors = colorConfig[action.color] || colorConfig.primary;\n    const Icon = getIcon(action.icon);\n    const isHovered = hoveredId === action.id;\n\n    return (\n      <button\n        key={action.id}\n        onClick={action.onClick}\n        disabled={action.disabled}\n        onMouseEnter={() => setHoveredId(action.id)}\n        onMouseLeave={() => setHoveredId(null)}\n        className={`\n          relative flex items-center gap-4 p-4 w-full\n          rounded-xl border transition-all duration-200\n          ${colors.bg} ${colors.bgHover} ${colors.border}\n          ${action.disabled ? 'opacity-50 cursor-not-allowed' : ''}\n          ${isHovered ? 'shadow-md translate-x-1' : ''}\n          group\n        `}\n      >\n        {/* Icon */}\n        <div className={`\n          w-10 h-10 rounded-xl flex items-center justify-center shrink-0\n          bg-gradient-to-br ${colors.gradient} text-white\n        `}>\n          <Icon size={18} />\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 text-left min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <span className={`text-sm font-semibold ${colors.text}`}>\n              {action.label}\n            </span>\n            {action.badge && action.badge > 0 && (\n              <span className={`\n                px-2 py-0.5 text-xs font-bold rounded-full\n                ${action.badgeType === 'danger' ? 'bg-red-100 text-red-600 dark:bg-red-500/20 dark:text-red-400' : ''}\n                ${action.badgeType === 'warning' ? 'bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-400' : ''}\n                ${!action.badgeType || action.badgeType === 'default' ? 'bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300' : ''}\n              `}>\n                {action.badge}\n              </span>\n            )}\n            {action.isNew && (\n              <span className=\"px-1.5 py-0.5 text-[9px] font-bold uppercase bg-emerald-500 text-white rounded-full\">\n                New\n              </span>\n            )}\n          </div>\n          {action.description && (\n            <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate mt-0.5\">\n              {action.description}\n            </p>\n          )}\n        </div>\n\n        {/* Shortcut & Arrow */}\n        <div className=\"flex items-center gap-3 shrink-0\">\n          {action.shortcut && <ShortcutKey shortcut={action.shortcut} />}\n          <span className=\"text-slate-300 dark:text-slate-600 group-hover:text-slate-400 dark:group-hover:text-slate-500 transition-colors\">\n            →\n          </span>\n        </div>\n      </button>\n    );\n  };\n\n  // Compact variant\n  const renderCompactAction = (action: HISQuickAction) => {\n    const colors = colorConfig[action.color] || colorConfig.primary;\n    const Icon = getIcon(action.icon);\n    const isHovered = hoveredId === action.id;\n\n    return (\n      <button\n        key={action.id}\n        onClick={action.onClick}\n        disabled={action.disabled}\n        onMouseEnter={() => setHoveredId(action.id)}\n        onMouseLeave={() => setHoveredId(null)}\n        title={action.label}\n        className={`\n          relative w-12 h-12 rounded-xl\n          flex items-center justify-center\n          border transition-all duration-200\n          ${colors.bg} ${colors.bgHover} ${colors.border}\n          ${action.disabled ? 'opacity-50 cursor-not-allowed' : ''}\n          ${isHovered ? 'scale-110 shadow-lg' : ''}\n        `}\n      >\n        <ActionBadge count={action.badge || 0} type={action.badgeType} />\n        <Icon size={20} className={colors.text} />\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden\">\n      {/* Header */}\n      <div className=\"px-5 py-4 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between\">\n        <h3 className=\"font-semibold text-slate-900 dark:text-white\">\n          {title}\n        </h3>\n        <span className=\"text-xs text-slate-400\">\n          {actions.length} actions\n        </span>\n      </div>\n\n      {/* Actions */}\n      <div className=\"p-4 lg:p-5\">\n        {variant === 'grid' && (\n          <div className={`grid ${getColumnClass()} gap-3`}>\n            {actions.map(renderGridAction)}\n          </div>\n        )}\n\n        {variant === 'list' && (\n          <div className=\"flex flex-col gap-2\">\n            {actions.map(renderListAction)}\n          </div>\n        )}\n\n        {variant === 'compact' && (\n          <div className=\"flex flex-wrap gap-2\">\n            {actions.map(renderCompactAction)}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Export original name for compatibility\nexport { QuickActionsModern as QuickActions };"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5334, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/dashboard/AppointmentsTable.tsx"],"sourcesContent":["'use client';\n\nimport { FC, useState, useMemo } from 'react';\nimport { \n  Search, MoreHorizontal, Phone, Calendar,\n  Clock, CheckCircle2, XCircle, Loader2,\n  ChevronDown, ChevronUp, Stethoscope,\n  RefreshCw, Download, Eye, Edit, Trash2,\n  MapPin, CreditCard, FileText, ChevronRight\n} from 'lucide-react';\nimport { Appointment } from '@/types';\n\n// Extended Appointment type for HIS\ninterface HISAppointment extends Appointment {\n  patientPhone?: string;\n  patientAvatar?: string;\n  priority?: 'normal' | 'urgent' | 'emergency';\n  waitTime?: number;\n  room?: string;\n  notes?: string;\n  insurance?: string;\n}\n\ninterface AppointmentsTableProps {\n  appointments: HISAppointment[];\n  title?: string;\n  isLoading?: boolean;\n  isLive?: boolean;\n  onRefresh?: () => void;\n  onViewAll?: () => void;\n  onRowClick?: (appointment: HISAppointment) => void;\n  onEdit?: (appointment: HISAppointment) => void;\n  onDelete?: (appointment: HISAppointment) => void;\n  onCall?: (appointment: HISAppointment) => void;\n  showSearch?: boolean;\n  showFilters?: boolean;\n  maxRows?: number;\n}\n\n// Status configuration\nconst statusConfig = {\n  scheduled: { \n    label: 'นัดหมาย', \n    icon: Calendar,\n    color: 'text-slate-600 dark:text-slate-400',\n    bg: 'bg-slate-100 dark:bg-slate-800',\n    border: 'border-slate-200 dark:border-slate-700',\n    animate: false,\n  },\n  waiting: { \n    label: 'รอตรวจ', \n    icon: Clock,\n    color: 'text-amber-600 dark:text-amber-400',\n    bg: 'bg-amber-50 dark:bg-amber-500/10',\n    border: 'border-amber-200 dark:border-amber-500/30',\n    animate: false,\n  },\n  'in-progress': { \n    label: 'กำลังตรวจ', \n    icon: Loader2,\n    color: 'text-blue-600 dark:text-blue-400',\n    bg: 'bg-blue-50 dark:bg-blue-500/10',\n    border: 'border-blue-200 dark:border-blue-500/30',\n    animate: true,\n  },\n  completed: { \n    label: 'เสร็จสิ้น', \n    icon: CheckCircle2,\n    color: 'text-emerald-600 dark:text-emerald-400',\n    bg: 'bg-emerald-50 dark:bg-emerald-500/10',\n    border: 'border-emerald-200 dark:border-emerald-500/30',\n    animate: false,\n  },\n  cancelled: { \n    label: 'ยกเลิก', \n    icon: XCircle,\n    color: 'text-red-600 dark:text-red-400',\n    bg: 'bg-red-50 dark:bg-red-500/10',\n    border: 'border-red-200 dark:border-red-500/30',\n    animate: false,\n  },\n};\n\n// Priority configuration\nconst priorityConfig = {\n  normal: null,\n  urgent: { \n    label: 'ด่วน', \n    class: 'bg-amber-500 text-white',\n    cardBorder: 'border-l-amber-500',\n  },\n  emergency: { \n    label: 'ฉุกเฉิน', \n    class: 'bg-red-500 text-white animate-pulse',\n    cardBorder: 'border-l-red-500',\n  },\n};\n\n// Patient Avatar Component\nconst PatientAvatar: FC<{ name: string; avatar?: string; size?: 'sm' | 'md' | 'lg' }> = ({ \n  name, \n  avatar,\n  size = 'md' \n}) => {\n  const initials = name\n    .split(' ')\n    .map(n => n[0])\n    .join('')\n    .substring(0, 2)\n    .toUpperCase();\n  \n  const sizeClasses = {\n    sm: 'size-8 text-xs',\n    md: 'size-10 text-sm',\n    lg: 'size-12 text-base',\n  };\n  \n  if (avatar) {\n    return (\n      <img \n        src={avatar} \n        alt={name}\n        className={`${sizeClasses[size]} rounded-full object-cover`}\n      />\n    );\n  }\n  \n  const colors = [\n    'bg-blue-500', 'bg-emerald-500', 'bg-purple-500', \n    'bg-amber-500', 'bg-cyan-500', 'bg-pink-500'\n  ];\n  const colorIndex = name.charCodeAt(0) % colors.length;\n  \n  return (\n    <div className={`${sizeClasses[size]} ${colors[colorIndex]} rounded-full flex items-center justify-center text-white font-semibold shrink-0`}>\n      {initials}\n    </div>\n  );\n};\n\n// Wait Time Display\nconst WaitTime: FC<{ minutes?: number }> = ({ minutes }) => {\n  if (minutes === undefined) return null;\n  \n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  \n  let colorClass = 'text-emerald-600 dark:text-emerald-400';\n  if (minutes > 30) colorClass = 'text-amber-600 dark:text-amber-400';\n  if (minutes > 60) colorClass = 'text-red-600 dark:text-red-400';\n  \n  return (\n    <span className={`text-xs font-medium ${colorClass}`}>\n      รอ {hours > 0 ? `${hours} ชม. ${mins} น.` : `${mins} นาที`}\n    </span>\n  );\n};\n\n// Live Indicator\nconst LiveIndicator: FC = () => (\n  <div className=\"flex items-center gap-1.5\">\n    <span className=\"relative flex size-2\">\n      <span className=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75\" />\n      <span className=\"relative inline-flex size-2 rounded-full bg-emerald-500\" />\n    </span>\n    <span className=\"text-[10px] font-medium text-emerald-600 dark:text-emerald-400 uppercase tracking-wider\">\n      Live\n    </span>\n  </div>\n);\n\n// Priority Badge\nconst PriorityBadge: FC<{ priority?: 'normal' | 'urgent' | 'emergency' }> = ({ priority }) => {\n  if (!priority || priority === 'normal') return null;\n  const config = priorityConfig[priority];\n  if (!config) return null;\n  \n  return (\n    <span className={`px-1.5 py-0.5 text-[10px] font-bold uppercase rounded ${config.class}`}>\n      {config.label}\n    </span>\n  );\n};\n\n// Status Badge\nconst StatusBadge: FC<{ status: keyof typeof statusConfig }> = ({ status }) => {\n  const config = statusConfig[status] || statusConfig.scheduled;\n  const Icon = config.icon;\n  \n  return (\n    <div className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${config.bg} ${config.color}`}>\n      <Icon size={12} className={config.animate ? 'animate-spin' : ''} />\n      <span>{config.label}</span>\n    </div>\n  );\n};\n\n// Mobile Card Component\nconst AppointmentCard: FC<{\n  appointment: HISAppointment;\n  onTap?: () => void;\n  onCall?: () => void;\n  onEdit?: () => void;\n  onDelete?: () => void;\n  isExpanded?: boolean;\n  onToggleExpand?: () => void;\n}> = ({ appointment, onTap, onCall, onEdit, onDelete, isExpanded, onToggleExpand }) => {\n  const status = statusConfig[appointment.status as keyof typeof statusConfig] || statusConfig.scheduled;\n  const priority = priorityConfig[appointment.priority || 'normal'];\n  \n  return (\n    <div \n      className={`\n        bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800\n        overflow-hidden transition-all duration-200\n        ${priority?.cardBorder ? `border-l-4 ${priority.cardBorder}` : ''}\n        ${appointment.priority === 'emergency' ? 'shadow-lg shadow-red-500/10' : 'shadow-sm'}\n      `}\n    >\n      {/* Main Content - Tappable */}\n      <div \n        className=\"p-4 cursor-pointer active:bg-slate-50 dark:active:bg-slate-800/50\"\n        onClick={onTap || onToggleExpand}\n      >\n        {/* Header: Patient + Status */}\n        <div className=\"flex items-start justify-between gap-3 mb-3\">\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <PatientAvatar name={appointment.patientName} avatar={appointment.patientAvatar} size=\"md\" />\n            <div className=\"min-w-0\">\n              <div className=\"flex items-center gap-2 flex-wrap\">\n                <h4 className=\"font-semibold text-slate-900 dark:text-white truncate\">\n                  {appointment.patientName}\n                </h4>\n                <PriorityBadge priority={appointment.priority} />\n              </div>\n              <p className=\"text-xs text-slate-500 dark:text-slate-400 font-mono\">\n                {appointment.patientId}\n              </p>\n            </div>\n          </div>\n          <StatusBadge status={appointment.status as keyof typeof statusConfig} />\n        </div>\n\n        {/* Info Grid */}\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          {/* Time */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"size-8 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center shrink-0\">\n              <Clock size={14} className=\"text-slate-500\" />\n            </div>\n            <div>\n              <p className=\"font-semibold text-slate-900 dark:text-white font-mono\">\n                {appointment.time}\n              </p>\n              {appointment.waitTime !== undefined && appointment.status === 'waiting' && (\n                <WaitTime minutes={appointment.waitTime} />\n              )}\n            </div>\n          </div>\n\n          {/* Doctor */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"size-8 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center shrink-0\">\n              <Stethoscope size={14} className=\"text-slate-500\" />\n            </div>\n            <div className=\"min-w-0\">\n              <p className=\"text-slate-700 dark:text-slate-300 truncate\">\n                {appointment.doctor}\n              </p>\n              {appointment.room && (\n                <p className=\"text-xs text-slate-400\">ห้อง {appointment.room}</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Type & Expand indicator */}\n        <div className=\"mt-3 flex items-center justify-between\">\n          <span className=\"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-lg\">\n            {appointment.type}\n          </span>\n          <button \n            onClick={(e) => {\n              e.stopPropagation();\n              onToggleExpand?.();\n            }}\n            className=\"p-1 text-slate-400 hover:text-slate-600\"\n          >\n            {isExpanded ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\n          </button>\n        </div>\n      </div>\n\n      {/* Expanded Details */}\n      {isExpanded && (\n        <div className=\"px-4 pb-4 pt-0 border-t border-slate-100 dark:border-slate-800\">\n          <div className=\"pt-3 space-y-3\">\n            {/* Additional Info */}\n            <div className=\"grid grid-cols-2 gap-3 text-sm\">\n              {appointment.patientPhone && (\n                <div className=\"flex items-center gap-2\">\n                  <Phone size={14} className=\"text-slate-400\" />\n                  <span className=\"text-slate-600 dark:text-slate-400\">{appointment.patientPhone}</span>\n                </div>\n              )}\n              {appointment.insurance && (\n                <div className=\"flex items-center gap-2\">\n                  <CreditCard size={14} className=\"text-slate-400\" />\n                  <span className=\"text-slate-600 dark:text-slate-400\">{appointment.insurance}</span>\n                </div>\n              )}\n            </div>\n            \n            {appointment.notes && (\n              <div className=\"flex items-start gap-2 text-sm\">\n                <FileText size={14} className=\"text-slate-400 mt-0.5 shrink-0\" />\n                <span className=\"text-slate-600 dark:text-slate-400\">{appointment.notes}</span>\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-2 pt-2\">\n              {onCall && appointment.patientPhone && (\n                <button\n                  onClick={(e) => { e.stopPropagation(); onCall(); }}\n                  className=\"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-sm font-medium transition-colors\"\n                >\n                  <Phone size={16} />\n                  โทร\n                </button>\n              )}\n              {onEdit && (\n                <button\n                  onClick={(e) => { e.stopPropagation(); onEdit(); }}\n                  className=\"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors\"\n                >\n                  <Edit size={16} />\n                  แก้ไข\n                </button>\n              )}\n              {onDelete && (\n                <button\n                  onClick={(e) => { e.stopPropagation(); onDelete(); }}\n                  className=\"flex items-center justify-center px-3 py-2.5 bg-red-50 dark:bg-red-500/10 hover:bg-red-100 dark:hover:bg-red-500/20 text-red-600 dark:text-red-400 rounded-xl transition-colors\"\n                >\n                  <Trash2 size={16} />\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Desktop Table Row\nconst TableRow: FC<{\n  appointment: HISAppointment;\n  isExpanded?: boolean;\n  onToggleExpand?: () => void;\n  onRowClick?: () => void;\n  onEdit?: () => void;\n  onDelete?: () => void;\n}> = ({ appointment, isExpanded, onToggleExpand, onRowClick, onEdit, onDelete }) => {\n  const status = statusConfig[appointment.status as keyof typeof statusConfig] || statusConfig.scheduled;\n  const StatusIcon = status.icon;\n  const [showActions, setShowActions] = useState(false);\n\n  return (\n    <>\n      <tr\n        onClick={() => onRowClick?.() || onToggleExpand?.()}\n        className={`\n          hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer transition-colors\n          ${appointment.priority === 'emergency' ? 'bg-red-50/50 dark:bg-red-500/5' : ''}\n          ${appointment.priority === 'urgent' ? 'bg-amber-50/50 dark:bg-amber-500/5' : ''}\n        `}\n      >\n        {/* Patient */}\n        <td className=\"px-5 py-4\">\n          <div className=\"flex items-center gap-3\">\n            <PatientAvatar name={appointment.patientName} avatar={appointment.patientAvatar} />\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <p className=\"text-sm font-semibold text-slate-900 dark:text-white\">\n                  {appointment.patientName}\n                </p>\n                <PriorityBadge priority={appointment.priority} />\n              </div>\n              <p className=\"text-xs text-slate-500 font-mono\">{appointment.patientId}</p>\n            </div>\n          </div>\n        </td>\n\n        {/* Time */}\n        <td className=\"px-5 py-4\">\n          <div className=\"flex flex-col\">\n            <span className=\"text-sm font-semibold text-slate-900 dark:text-white font-mono\">\n              {appointment.time}\n            </span>\n            {appointment.waitTime !== undefined && appointment.status === 'waiting' && (\n              <WaitTime minutes={appointment.waitTime} />\n            )}\n          </div>\n        </td>\n\n        {/* Type */}\n        <td className=\"px-5 py-4\">\n          <span className=\"text-sm text-slate-600 dark:text-slate-300\">\n            {appointment.type}\n          </span>\n          {appointment.room && (\n            <p className=\"text-xs text-slate-400 mt-0.5\">ห้อง {appointment.room}</p>\n          )}\n        </td>\n\n        {/* Doctor */}\n        <td className=\"px-5 py-4\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"size-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center\">\n              <Stethoscope size={12} className=\"text-slate-500\" />\n            </div>\n            <span className=\"text-sm text-slate-600 dark:text-slate-300\">\n              {appointment.doctor}\n            </span>\n          </div>\n        </td>\n\n        {/* Status */}\n        <td className=\"px-5 py-4\">\n          <div className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium ${status.bg} ${status.color}`}>\n            <StatusIcon size={12} className={status.animate ? 'animate-spin' : ''} />\n            {status.label}\n          </div>\n        </td>\n\n        {/* Actions */}\n        <td className=\"px-5 py-4 text-right\">\n          <div className=\"relative inline-block\">\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setShowActions(!showActions);\n              }}\n              className=\"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\"\n            >\n              <MoreHorizontal size={16} className=\"text-slate-400\" />\n            </button>\n            \n            {showActions && (\n              <>\n                <div \n                  className=\"fixed inset-0 z-40\" \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setShowActions(false);\n                  }} \n                />\n                <div className=\"absolute right-0 top-full mt-1 w-40 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-1 z-50\">\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      onRowClick?.();\n                      setShowActions(false);\n                    }}\n                    className=\"flex items-center gap-2 w-full px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800\"\n                  >\n                    <Eye size={14} /> ดูรายละเอียด\n                  </button>\n                  {onEdit && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onEdit();\n                        setShowActions(false);\n                      }}\n                      className=\"flex items-center gap-2 w-full px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800\"\n                    >\n                      <Edit size={14} /> แก้ไข\n                    </button>\n                  )}\n                  {onDelete && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onDelete();\n                        setShowActions(false);\n                      }}\n                      className=\"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10\"\n                    >\n                      <Trash2 size={14} /> ยกเลิก\n                    </button>\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n        </td>\n      </tr>\n\n      {/* Expanded Row */}\n      {isExpanded && (\n        <tr>\n          <td colSpan={6} className=\"px-5 py-4 bg-slate-50 dark:bg-slate-800/30\">\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n              {appointment.patientPhone && (\n                <div>\n                  <p className=\"text-xs text-slate-400 mb-1\">โทรศัพท์</p>\n                  <a href={`tel:${appointment.patientPhone}`} className=\"flex items-center gap-1.5 text-primary-600 hover:underline\">\n                    <Phone size={12} />\n                    {appointment.patientPhone}\n                  </a>\n                </div>\n              )}\n              {appointment.insurance && (\n                <div>\n                  <p className=\"text-xs text-slate-400 mb-1\">สิทธิการรักษา</p>\n                  <p className=\"text-slate-700 dark:text-slate-300\">{appointment.insurance}</p>\n                </div>\n              )}\n              {appointment.room && (\n                <div>\n                  <p className=\"text-xs text-slate-400 mb-1\">ห้องตรวจ</p>\n                  <p className=\"text-slate-700 dark:text-slate-300\">{appointment.room}</p>\n                </div>\n              )}\n              {appointment.notes && (\n                <div className=\"col-span-2 md:col-span-4\">\n                  <p className=\"text-xs text-slate-400 mb-1\">หมายเหตุ</p>\n                  <p className=\"text-slate-700 dark:text-slate-300\">{appointment.notes}</p>\n                </div>\n              )}\n            </div>\n          </td>\n        </tr>\n      )}\n    </>\n  );\n};\n\n// Main Component\nexport const AppointmentsTableModern: FC<AppointmentsTableProps> = ({ \n  appointments,\n  title = \"นัดหมายวันนี้\",\n  isLoading = false,\n  isLive = false,\n  onRefresh,\n  onViewAll,\n  onRowClick,\n  onEdit,\n  onDelete,\n  onCall,\n  showSearch = true,\n  showFilters = true,\n  maxRows,\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  // Filter appointments\n  const filteredAppointments = useMemo(() => {\n    let filtered = appointments;\n    \n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(apt => \n        apt.patientName.toLowerCase().includes(query) ||\n        apt.patientId.toLowerCase().includes(query) ||\n        apt.doctor.toLowerCase().includes(query)\n      );\n    }\n    \n    if (statusFilter !== 'all') {\n      filtered = filtered.filter(apt => apt.status === statusFilter);\n    }\n    \n    if (maxRows) {\n      filtered = filtered.slice(0, maxRows);\n    }\n    \n    return filtered;\n  }, [appointments, searchQuery, statusFilter, maxRows]);\n\n  // Status counts\n  const statusCounts = useMemo(() => {\n    const counts: Record<string, number> = { all: appointments.length };\n    appointments.forEach(apt => {\n      counts[apt.status] = (counts[apt.status] || 0) + 1;\n    });\n    return counts;\n  }, [appointments]);\n\n  const handleRefresh = async () => {\n    if (onRefresh) {\n      setIsRefreshing(true);\n      await onRefresh();\n      setTimeout(() => setIsRefreshing(false), 500);\n    }\n  };\n\n  const filterButtons = [\n    { key: 'all', label: 'ทั้งหมด' },\n    { key: 'waiting', label: 'รอตรวจ' },\n    { key: 'in-progress', label: 'กำลังตรวจ' },\n    { key: 'completed', label: 'เสร็จสิ้น' },\n  ];\n\n  return (\n    <div className=\"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden\">\n      {/* Header */}\n      <div className=\"px-4 py-4 lg:px-5 border-b border-slate-100 dark:border-slate-800\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2 lg:gap-3\">\n            <h3 className=\"font-semibold text-slate-900 dark:text-white text-sm lg:text-base\">\n              {title}\n            </h3>\n            {isLive && <LiveIndicator />}\n            <span className=\"hidden sm:inline-flex px-2 py-0.5 text-xs font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 rounded-full\">\n              {appointments.length} รายการ\n            </span>\n          </div>\n          \n          <div className=\"flex items-center gap-1 lg:gap-2\">\n            {onRefresh && (\n              <button\n                onClick={handleRefresh}\n                className=\"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-400 hover:text-slate-600\"\n              >\n                <RefreshCw size={16} className={isRefreshing ? 'animate-spin' : ''} />\n              </button>\n            )}\n            <button className=\"hidden sm:flex p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-slate-400 hover:text-slate-600\">\n              <Download size={16} />\n            </button>\n            {onViewAll && (\n              <button \n                onClick={onViewAll}\n                className=\"text-xs lg:text-sm text-primary-600 dark:text-primary-400 font-medium hover:underline flex items-center gap-1\"\n              >\n                ดูทั้งหมด\n                <ChevronRight size={14} />\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Search & Filters */}\n        {(showSearch || showFilters) && (\n          <div className=\"space-y-3\">\n            {showSearch && (\n              <div className=\"relative\">\n                <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"ค้นหาผู้ป่วย, HN, แพทย์...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-9 pr-4 py-2.5 text-sm bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500\"\n                />\n              </div>\n            )}\n            \n            {showFilters && (\n              <div className=\"flex gap-1.5 overflow-x-auto pb-1 -mx-4 px-4 lg:mx-0 lg:px-0 scrollbar-hide\">\n                {filterButtons.map(({ key, label }) => (\n                  <button\n                    key={key}\n                    onClick={() => setStatusFilter(key)}\n                    className={`\n                      px-3 py-1.5 text-xs font-medium rounded-lg whitespace-nowrap transition-all shrink-0\n                      ${statusFilter === key\n                        ? 'bg-primary-500 text-white'\n                        : 'bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700'\n                      }\n                    `}\n                  >\n                    {label}\n                    <span className={`ml-1.5 ${statusFilter === key ? 'text-white/80' : 'text-slate-400'}`}>\n                      ({statusCounts[key] || 0})\n                    </span>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Content */}\n      {isLoading ? (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 size={24} className=\"animate-spin text-primary-500\" />\n        </div>\n      ) : filteredAppointments.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center py-12 text-slate-400\">\n          <Calendar size={40} strokeWidth={1.5} />\n          <p className=\"mt-2 text-sm\">ไม่พบข้อมูลนัดหมาย</p>\n        </div>\n      ) : (\n        <>\n          {/* Mobile: Card Layout */}\n          <div className=\"lg:hidden p-4 space-y-3\">\n            {filteredAppointments.map((apt) => (\n              <AppointmentCard\n                key={apt.id}\n                appointment={apt}\n                onTap={() => onRowClick?.(apt)}\n                onCall={() => onCall?.(apt)}\n                onEdit={() => onEdit?.(apt)}\n                onDelete={() => onDelete?.(apt)}\n                isExpanded={expandedId === apt.id}\n                onToggleExpand={() => setExpandedId(expandedId === apt.id ? null : apt.id)}\n              />\n            ))}\n          </div>\n\n          {/* Desktop: Table Layout */}\n          <div className=\"hidden lg:block overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-slate-50 dark:bg-slate-800/50\">\n                <tr>\n                  <th className=\"px-5 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider\">\n                    ผู้ป่วย\n                  </th>\n                  <th className=\"px-5 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider\">\n                    เวลา\n                  </th>\n                  <th className=\"px-5 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider\">\n                    ประเภท\n                  </th>\n                  <th className=\"px-5 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider\">\n                    แพทย์\n                  </th>\n                  <th className=\"px-5 py-3 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider\">\n                    สถานะ\n                  </th>\n                  <th className=\"px-5 py-3 w-16\"></th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-slate-100 dark:divide-slate-800\">\n                {filteredAppointments.map((apt) => (\n                  <TableRow\n                    key={apt.id}\n                    appointment={apt}\n                    isExpanded={expandedId === apt.id}\n                    onToggleExpand={() => setExpandedId(expandedId === apt.id ? null : apt.id)}\n                    onRowClick={() => onRowClick?.(apt)}\n                    onEdit={() => onEdit?.(apt)}\n                    onDelete={() => onDelete?.(apt)}\n                  />\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport { AppointmentsTableModern as AppointmentsTable };"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6900, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/dashboard/index.ts"],"sourcesContent":["export * from './StatCard';\nexport * from './QuickActions';\nexport * from './AppointmentsTable';\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 6914, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/config/dashboard.ts"],"sourcesContent":["import { StatCard, Appointment, QuickAction } from '@/types';\n\nexport const statsConfig: StatCard[] = [\n  {\n    id: 'patients',\n    label: 'Total Patients',\n    value: '1,234',\n    change: 12.5,\n    changeLabel: 'vs last month',\n    icon: 'users',\n    color: 'primary',\n  },\n  {\n    id: 'appointments',\n    label: 'Appointments',\n    value: 48,\n    change: -3.2,\n    changeLabel: 'vs yesterday',\n    icon: 'calendar',\n    color: 'success',\n  },\n  {\n    id: 'inpatients',\n    label: 'Inpatients',\n    value: 132,\n    change: 8.1,\n    changeLabel: 'vs last week',\n    icon: 'bed',\n    color: 'warning',\n  },\n  {\n    id: 'emergency',\n    label: 'Emergency',\n    value: 7,\n    change: 25,\n    changeLabel: 'vs yesterday',\n    icon: 'emergency',\n    color: 'critical',\n  },\n];\n\nexport const appointmentsConfig: Appointment[] = [\n  {\n    id: '1',\n    patientName: 'Sarah Johnson',\n    patientId: 'P-10234',\n    time: '09:00 AM',\n    type: 'Checkup',\n    doctor: 'Dr. Smith',\n    status: 'completed',\n  },\n  {\n    id: '2',\n    patientName: 'Michael Chen',\n    patientId: 'P-10235',\n    time: '09:30 AM',\n    type: 'Follow-up',\n    doctor: 'Dr. Williams',\n    status: 'in-progress',\n  },\n  {\n    id: '3',\n    patientName: 'Emily Davis',\n    patientId: 'P-10236',\n    time: '10:00 AM',\n    type: 'Consultation',\n    doctor: 'Dr. Johnson',\n    status: 'scheduled',\n  },\n  {\n    id: '4',\n    patientName: 'Robert Wilson',\n    patientId: 'P-10237',\n    time: '10:30 AM',\n    type: 'Lab Results',\n    doctor: 'Dr. Lee',\n    status: 'scheduled',\n  },\n  {\n    id: '5',\n    patientName: 'Jennifer Brown',\n    patientId: 'P-10238',\n    time: '11:00 AM',\n    type: 'Checkup',\n    doctor: 'Dr. Smith',\n    status: 'scheduled',\n  },\n];\n\nexport const quickActionsConfig: QuickAction[] = [\n  { id: 'register', label: 'Register', icon: 'userPlus', color: 'primary' },\n  { id: 'appointment', label: 'Appointment', icon: 'calendar', color: 'success' },\n  { id: 'lab', label: 'Lab Order', icon: 'flask', color: 'warning' },\n  { id: 'prescribe', label: 'Prescribe', icon: 'pill', color: 'purple' },\n  { id: 'emergency', label: 'Emergency', icon: 'emergency', color: 'critical' },\n  { id: 'admit', label: 'Admit', icon: 'bed', color: 'cyan' },\n];\n\nexport const bedOccupancyConfig = [\n  { id: 'general', name: 'General Ward', occupied: 42, total: 50 },\n  { id: 'icu', name: 'ICU', occupied: 18, total: 20 },\n  { id: 'pediatrics', name: 'Pediatrics', occupied: 22, total: 30 },\n  { id: 'maternity', name: 'Maternity', occupied: 15, total: 25 },\n  { id: 'surgery', name: 'Surgery', occupied: 35, total: 40 },\n];\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,cAA0B;IACrC;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ,CAAC;QACT,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,aAAa;QACb,MAAM;QACN,OAAO;IACT;CACD;AAEM,MAAM,qBAAoC;IAC/C;QACE,IAAI;QACJ,aAAa;QACb,WAAW;QACX,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,aAAa;QACb,WAAW;QACX,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,aAAa;QACb,WAAW;QACX,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,aAAa;QACb,WAAW;QACX,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,aAAa;QACb,WAAW;QACX,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;CACD;AAEM,MAAM,qBAAoC;IAC/C;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM;QAAY,OAAO;IAAU;IACxE;QAAE,IAAI;QAAe,OAAO;QAAe,MAAM;QAAY,OAAO;IAAU;IAC9E;QAAE,IAAI;QAAO,OAAO;QAAa,MAAM;QAAS,OAAO;IAAU;IACjE;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM;QAAQ,OAAO;IAAS;IACrE;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM;QAAa,OAAO;IAAW;IAC5E;QAAE,IAAI;QAAS,OAAO;QAAS,MAAM;QAAO,OAAO;IAAO;CAC3D;AAEM,MAAM,qBAAqB;IAChC;QAAE,IAAI;QAAW,MAAM;QAAgB,UAAU;QAAI,OAAO;IAAG;IAC/D;QAAE,IAAI;QAAO,MAAM;QAAO,UAAU;QAAI,OAAO;IAAG;IAClD;QAAE,IAAI;QAAc,MAAM;QAAc,UAAU;QAAI,OAAO;IAAG;IAChE;QAAE,IAAI;QAAa,MAAM;QAAa,UAAU;QAAI,OAAO;IAAG;IAC9D;QAAE,IAAI;QAAW,MAAM;QAAW,UAAU;QAAI,OAAO;IAAG;CAC3D"}},
    {"offset": {"line": 7086, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/components/providers/index.ts"],"sourcesContent":["export * from './ThemeProvider';\nexport * from './LayoutProvider';\nexport * from './AuthProvider';\nexport * from './MenuProvider';"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 7102, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { AdminLayout } from '@/components/layout';\nimport { StatCard, QuickActions, AppointmentsTable } from '@/components/dashboard';\nimport { statsConfig, quickActionsConfig, appointmentsConfig } from '@/config/dashboard';\nimport { useAuth } from '@/components/providers';\n\nexport default function DashboardPage() {\n  const { isAuthenticated, isLoading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [isAuthenticated, isLoading, router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center\">\n        <div className=\"w-10 h-10 border-4 border-primary-500 border-t-transparent rounded-full animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <AdminLayout>\n      {/* Page Header */}\n      <div className=\"mb-6 lg:mb-8\">\n        <h1 className=\"text-xl lg:text-2xl font-bold text-slate-900 dark:text-white\">\n          Dashboard\n        </h1>\n        <p className=\"text-sm text-slate-500 dark:text-slate-400 mt-1\">\n          Welcome back! Here&apos;s what&apos;s happening today.\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6 mb-6\">\n        {statsConfig.map((stat, index) => (\n          <StatCard key={stat.id} stat={stat} delay={index * 50} />\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"mb-6\">\n        <QuickActions actions={quickActionsConfig} />\n      </div>\n\n      {/* Appointments Table */}\n      <div>\n        <AppointmentsTable appointments={appointmentsConfig} />\n      </div>\n    </AdminLayout>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,2KAAO;IAC9C,MAAM,SAAS,IAAA,gKAAS;IAExB,IAAA,wLAAS;mCAAC;YACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAClC,OAAO,IAAI,CAAC;YACd;QACF;kCAAG;QAAC;QAAiB;QAAW;KAAO;IAEvC,IAAI,WAAW;QACb,qBACE,2MAAC;YAAI,WAAU;sBACb,cAAA,2MAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBACE,2MAAC,2KAAW;;0BAEV,2MAAC;gBAAI,WAAU;;kCACb,2MAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAG7E,2MAAC;wBAAE,WAAU;kCAAkD;;;;;;;;;;;;0BAMjE,2MAAC;gBAAI,WAAU;0BACZ,0JAAW,CAAC,GAAG,CAAC,CAAC,MAAM,sBACtB,2MAAC,wKAAQ;wBAAe,MAAM;wBAAM,OAAO,QAAQ;uBAApC,KAAK,EAAE;;;;;;;;;;0BAK1B,2MAAC;gBAAI,WAAU;0BACb,cAAA,2MAAC,gLAAY;oBAAC,SAAS,iKAAkB;;;;;;;;;;;0BAI3C,2MAAC;0BACC,cAAA,2MAAC,0LAAiB;oBAAC,cAAc,iKAAkB;;;;;;;;;;;;;;;;;AAI3D;GApDwB;;QACiB,2KAAO;QAC/B,gKAAS;;;KAFF"}}]
}