{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/src/components/providers/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\n\ntype Theme = 'light' | 'dark';\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n  setTheme: (theme: Theme) => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | null>(null);\n\ninterface ThemeProviderProps {\n  children: ReactNode;\n}\n\nexport function ThemeProvider({ children }: ThemeProviderProps) {\n  const [theme, setThemeState] = useState<Theme>('light');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // Check localStorage and system preference\n    const stored = localStorage.getItem('theme') as Theme | null;\n    const systemPreference = window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light';\n    \n    const initialTheme = stored || systemPreference;\n    setThemeState(initialTheme);\n    \n    // Apply theme to document\n    if (initialTheme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n    \n    setMounted(true);\n  }, []);\n\n  const setTheme = (newTheme: Theme) => {\n    setThemeState(newTheme);\n    localStorage.setItem('theme', newTheme);\n    \n    // Apply theme to document\n    if (newTheme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  const value: ThemeContextType = {\n    theme,\n    toggleTheme,\n    setTheme,\n  };\n\n  // Always provide context\n  return (\n    <ThemeContext.Provider value={value}>\n      {mounted ? children : (\n        <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\n          <div className=\"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n        </div>\n      )}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === null) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAYA,MAAM,6BAAe,IAAA,sNAAa,EAA0B;AAMrD,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,MAAM,CAAC,OAAO,cAAc,GAAG,IAAA,iNAAQ,EAAQ;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,2CAA2C;QAC3C,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,MAAM,mBAAmB,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAC9E,SACA;QAEJ,MAAM,eAAe,UAAU;QAC/B,cAAc;QAEd,0BAA0B;QAC1B,IAAI,iBAAiB,QAAQ;YAC3B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;QAEA,WAAW;IACb,GAAG,EAAE;IAEL,MAAM,WAAW,CAAC;QAChB,cAAc;QACd,aAAa,OAAO,CAAC,SAAS;QAE9B,0BAA0B;QAC1B,IAAI,aAAa,QAAQ;YACvB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF;IAEA,MAAM,cAAc;QAClB,SAAS,UAAU,SAAS,UAAU;IACxC;IAEA,MAAM,QAA0B;QAC9B;QACA;QACA;IACF;IAEA,yBAAyB;IACzB,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;kBAC3B,UAAU,yBACT,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;;;;;;AAKzB;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,MAAM;QACpB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/src/components/providers/LayoutProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { LayoutMode } from '@/types';\n\ninterface LayoutContextType {\n  mode: LayoutMode;\n  setMode: (mode: LayoutMode) => void;\n  toggleMode: () => void;\n  sidebarCollapsed: boolean;\n  setSidebarCollapsed: (collapsed: boolean) => void;\n  toggleSidebar: () => void;\n  mobileMenuOpen: boolean;\n  setMobileMenuOpen: (open: boolean) => void;\n  openMobileMenu: () => void;\n  closeMobileMenu: () => void;\n  isMobile: boolean;\n}\n\nconst LayoutContext = createContext<LayoutContextType | null>(null);\n\ninterface LayoutProviderProps {\n  children: ReactNode;\n}\n\nexport function LayoutProvider({ children }: LayoutProviderProps) {\n  const [mode, setModeState] = useState<LayoutMode>('sidebar');\n  const [sidebarCollapsed, setSidebarCollapsedState] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpenState] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    \n    // Check localStorage for saved preferences\n    const storedMode = localStorage.getItem('layoutMode') as LayoutMode | null;\n    const storedCollapsed = localStorage.getItem('sidebarCollapsed');\n    \n    if (storedMode) setModeState(storedMode);\n    if (storedCollapsed) setSidebarCollapsedState(storedCollapsed === 'true');\n\n    // Check if mobile\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 1024);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  const setMode = (newMode: LayoutMode) => {\n    setModeState(newMode);\n    localStorage.setItem('layoutMode', newMode);\n  };\n\n  const toggleMode = () => {\n    setMode(mode === 'sidebar' ? 'horizontal' : 'sidebar');\n  };\n\n  const setSidebarCollapsed = (collapsed: boolean) => {\n    setSidebarCollapsedState(collapsed);\n    localStorage.setItem('sidebarCollapsed', String(collapsed));\n  };\n\n  const toggleSidebar = () => {\n    setSidebarCollapsed(!sidebarCollapsed);\n  };\n\n  const openMobileMenu = () => {\n    setMobileMenuOpenState(true);\n    document.body.style.overflow = 'hidden';\n  };\n\n  const closeMobileMenu = () => {\n    setMobileMenuOpenState(false);\n    document.body.style.overflow = '';\n  };\n\n  const value: LayoutContextType = {\n    mode,\n    setMode,\n    toggleMode,\n    sidebarCollapsed,\n    setSidebarCollapsed,\n    toggleSidebar,\n    mobileMenuOpen,\n    setMobileMenuOpen: setMobileMenuOpenState,\n    openMobileMenu,\n    closeMobileMenu,\n    isMobile,\n  };\n\n  // Always provide context, but show loading state if not mounted\n  return (\n    <LayoutContext.Provider value={value}>\n      {mounted ? children : (\n        <div className=\"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center\">\n          <div className=\"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin\" />\n        </div>\n      )}\n    </LayoutContext.Provider>\n  );\n}\n\nexport function useLayout() {\n  const context = useContext(LayoutContext);\n  if (context === null) {\n    throw new Error('useLayout must be used within a LayoutProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAmBA,MAAM,8BAAgB,IAAA,sNAAa,EAA2B;AAMvD,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAa;IAClD,MAAM,CAAC,kBAAkB,yBAAyB,GAAG,IAAA,iNAAQ,EAAC;IAC9D,MAAM,CAAC,gBAAgB,uBAAuB,GAAG,IAAA,iNAAQ,EAAC;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QAEX,2CAA2C;QAC3C,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,kBAAkB,aAAa,OAAO,CAAC;QAE7C,IAAI,YAAY,aAAa;QAC7B,IAAI,iBAAiB,yBAAyB,oBAAoB;QAElE,kBAAkB;QAClB,MAAM,cAAc;YAClB,YAAY,OAAO,UAAU,GAAG;QAClC;QAEA;QACA,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,aAAa;QACb,aAAa,OAAO,CAAC,cAAc;IACrC;IAEA,MAAM,aAAa;QACjB,QAAQ,SAAS,YAAY,eAAe;IAC9C;IAEA,MAAM,sBAAsB,CAAC;QAC3B,yBAAyB;QACzB,aAAa,OAAO,CAAC,oBAAoB,OAAO;IAClD;IAEA,MAAM,gBAAgB;QACpB,oBAAoB,CAAC;IACvB;IAEA,MAAM,iBAAiB;QACrB,uBAAuB;QACvB,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;IACjC;IAEA,MAAM,kBAAkB;QACtB,uBAAuB;QACvB,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;IACjC;IAEA,MAAM,QAA2B;QAC/B;QACA;QACA;QACA;QACA;QACA;QACA;QACA,mBAAmB;QACnB;QACA;QACA;IACF;IAEA,gEAAgE;IAChE,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;kBAC5B,UAAU,yBACT,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;;;;;;AAKzB;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,MAAM;QACpB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/src/lib/api.ts"],"sourcesContent":["import { ApiResponse, MenuItem, Role, RoleMenuAccess, Group, Permission } from '@/types';\nimport { \n  PatientListItem, \n  PatientDetail, \n  PatientFormData, \n  PatientSearchParams, \n  PatientListResponse, \n  PatientStats \n} from '@/types/patient.types';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3333/api/v1';\n\ninterface RequestOptions {\n  method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n  body?: unknown;\n  headers?: Record<string, string>;\n  token?: string;\n}\n\ninterface ApiError {\n  message: string;\n  status: number;\n}\n\nclass ApiClient {\n  private baseUrl: string;\n  private authToken: string | null = null;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  setToken(token: string | null) {\n    this.authToken = token;\n  }\n\n  private getToken(): string | null {\n    if (this.authToken) {\n      return this.authToken;\n    }\n    if (typeof window !== 'undefined') {\n      const storedToken = localStorage.getItem('token');\n      if (storedToken) {\n        this.authToken = storedToken;\n        return storedToken;\n      }\n    }\n    return null;\n  }\n\n  clearToken() {\n    this.authToken = null;\n  }\n\n  async request<T>(endpoint: string, options: RequestOptions = {}): Promise<T> {\n    const { method = 'GET', body, headers = {}, token } = options;\n\n    const authToken = token || this.getToken();\n\n    const config: RequestInit = {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(authToken && { Authorization: `Bearer ${authToken}` }),\n        ...headers,\n      },\n    };\n\n    if (body) {\n      config.body = JSON.stringify(body);\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}${endpoint}`, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        const error: ApiError = {\n          message: data.message || 'An error occurred',\n          status: response.status,\n        };\n\n        if (response.status === 401) {\n          this.clearToken();\n          if (typeof window !== 'undefined') {\n            localStorage.removeItem('token');\n            localStorage.removeItem('user');\n            if (!window.location.pathname.includes('/login')) {\n              window.location.href = '/login';\n            }\n          }\n        }\n\n        throw error;\n      }\n\n      return data as T;\n    } catch (error) {\n      if ((error as ApiError).status) {\n        throw error;\n      }\n      throw {\n        message: 'Network error. Please check your connection.',\n        status: 0,\n      } as ApiError;\n    }\n  }\n\n  get<T>(endpoint: string, options?: Omit<RequestOptions, 'method' | 'body'>) {\n    return this.request<T>(endpoint, { ...options, method: 'GET' });\n  }\n\n  post<T>(endpoint: string, body?: unknown, options?: Omit<RequestOptions, 'method' | 'body'>) {\n    return this.request<T>(endpoint, { ...options, method: 'POST', body });\n  }\n\n  put<T>(endpoint: string, body?: unknown, options?: Omit<RequestOptions, 'method' | 'body'>) {\n    return this.request<T>(endpoint, { ...options, method: 'PUT', body });\n  }\n\n  patch<T>(endpoint: string, body?: unknown, options?: Omit<RequestOptions, 'method' | 'body'>) {\n    return this.request<T>(endpoint, { ...options, method: 'PATCH', body });\n  }\n\n  delete<T>(endpoint: string, options?: Omit<RequestOptions, 'method' | 'body'>) {\n    return this.request<T>(endpoint, { ...options, method: 'DELETE' });\n  }\n}\n\nexport const api = new ApiClient(API_BASE_URL);\n\n// ============================================\n// Auth API\n// ============================================\nexport const authApi = {\n  login: (username: string, password: string) =>\n    api.post<{\n      success: boolean;\n      data: {\n        token: string;\n        expiresIn: number;\n        user: {\n          officerId: number;\n          username: string;\n          name: string;\n          role: string;\n          department: string | null;\n          permissions: string[];\n        };\n        loginInfo: {\n          clientIP: string;\n          serverIP: string;\n          serverMAC: string;\n          serverHostname: string;\n          loginTime: string;\n        };\n      };\n    }>('/auth/login', { username, password }),\n\n  logout: () => {\n    api.clearToken();\n    return api.post('/auth/logout');\n  },\n\n  refreshToken: () => api.post<{ token: string }>('/auth/refresh'),\n\n  me: () => api.get<{ success: boolean; data: { user: unknown } }>('/auth/me'),\n};\n\n// ============================================\n// Lookup Item Interface\n// ============================================\nexport interface LookupItem {\n  code: string;\n  name: string;\n}\n\nexport interface PnameLookup extends LookupItem {\n  ename?: string;\n  sex?: string;\n}\n\nexport interface PttypeLookup extends LookupItem {\n  is_active: boolean;\n  pcode?: string;\n  nhso_code?: string;\n}\n\nexport interface SubdistrictLookup extends LookupItem {\n  pocode?: string;\n  full_name?: string;\n}\n\nexport interface OvstistLookup extends LookupItem {\n  ovstist: string;\n  name: string;\n}\n\nexport interface AddressSearchResult {\n  code: string;\n  name: string;\n  full_name: string;\n  chwpart: string;\n  amppart: string;\n  tmbpart: string;\n  pocode: string;\n}\n\n// ============================================\n// Lookup API\n// ============================================\nexport const lookupApi = {\n  // คำนำหน้าชื่อ\n  getPnames: (sex?: 'M' | 'F') =>\n    api.get<{ success: boolean; data: PnameLookup[] }>(\n      `/lookups/pnames${sex ? `?sex=${sex}` : ''}`\n    ),\n\n  // อาชีพ\n  getOccupations: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/occupations'),\n\n  // เชื้อชาติ/สัญชาติ\n  getNationalities: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/nationalities'),\n\n  // ศาสนา\n  getReligions: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/religions'),\n\n  // สถานะสมรส\n  getMarryStatuses: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/marry-statuses'),\n\n  // การศึกษา\n  getEducations: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/educations'),\n\n  // สิทธิการรักษา\n  getPttypes: (activeOnly = true) =>\n    api.get<{ success: boolean; data: PttypeLookup[] }>(\n      `/lookups/pttypes?active=${activeOnly}`\n    ),\n\n  // ความสัมพันธ์\n  getRelationTypes: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/relation-types'),\n\n  // จังหวัด\n  getProvinces: () =>\n    api.get<{ success: boolean; data: LookupItem[] }>('/lookups/provinces'),\n\n  // อำเภอ\n  getDistricts: (chwpart: string) =>\n    api.get<{ success: boolean; data: LookupItem[] }>(\n      `/lookups/districts?chwpart=${chwpart}`\n    ),\n\n  // ตำบล\n  getSubdistricts: (chwpart: string, amppart: string) =>\n    api.get<{ success: boolean; data: SubdistrictLookup[] }>(\n      `/lookups/subdistricts?chwpart=${chwpart}&amppart=${amppart}`\n    ),\n\n  // ค้นหาที่อยู่\n  searchAddress: (q: string, limit = 20) =>\n    api.get<{ success: boolean; data: AddressSearchResult[] }>(\n      `/lookups/search-address?q=${encodeURIComponent(q)}&limit=${limit}`\n    ),\n\n   // ประเภทการมา\n   getOvstists: () =>\n    api.get<{ success: boolean; data: OvstistLookup[] }>('/lookups/ovstists'),\n\n};\n\n// ============================================\n// Patient API Response Types\n// ============================================\ninterface PatientApiListResponse {\n  success: boolean;\n  data: Array<{\n    hn: string;\n    cid: string | null;\n    full_name: string;\n    sex: 'M' | 'F' | null;\n    age: number | null;\n    birthday: string | null;\n    phone: string | null;\n    pttype: string | null;\n    pttype_name?: string;\n    bloodgrp: string | null;\n    has_allergy: boolean;\n    last_visit: string | null;\n    is_dead: boolean;\n  }>;\n  meta: {\n    total: number;\n    per_page: number;\n    current_page: number;\n    last_page: number;\n  };\n}\n\ninterface PatientApiDetailResponse {\n  success: boolean;\n  data: Record<string, unknown> & {\n    lookups?: {\n      pname_name?: string;\n      pttype_name?: string;\n      occupation_name?: string;\n      nationality_name?: string;\n      religion_name?: string;\n      education_name?: string;\n      marrystatus_name?: string;\n      chwpart_name?: string;\n      amppart_name?: string;\n      tmbpart_name?: string;\n    };\n  };\n}\n\ninterface PatientApiSearchResponse {\n  success: boolean;\n  data: Array<{\n    hn: string;\n    cid: string | null;\n    full_name: string;\n    sex: 'M' | 'F' | null;\n    age: number | null;\n    birthday: string | null;\n    pttype: string | null;\n    death?: string | null; \n  }>;\n}\n\ninterface PatientApiStatsResponse {\n  success: boolean;\n  data: PatientStats;\n}\n\n// ============================================\n// Transform Functions\n// ============================================\nconst transformPatientListItem = (item: PatientApiListResponse['data'][0]): PatientListItem => ({\n  hn: item.hn,\n  fullName: item.full_name,\n  cid: item.cid,\n  sex: item.sex,\n  age: item.age,\n  birthday: item.birthday,\n  phone: item.phone,\n  pttype: item.pttype,\n  pttypeName: item.pttype_name,\n  bloodgrp: item.bloodgrp,\n  hasAllergy: item.has_allergy,\n  lastVisit: item.last_visit,\n  isDead: item.is_dead,\n});\n\nconst transformPatientDetail = (data: PatientApiDetailResponse['data']): PatientDetail => {\n  const lookups = data.lookups || {};\n  \n  return {\n    hn: data.hn as string,\n    pname: data.pname as string | null,\n    fname: data.fname as string | null,\n    lname: data.lname as string | null,\n    midname: data.midname as string | null,\n    sex: data.sex as 'M' | 'F' | '1' | '2' | null,\n    birthday: data.birthday as string | null,\n    cid: data.cid as string | null,\n    mobilePhone: data.mobile_phone_number as string | null,\n    hometel: data.hometel as string | null,\n    email: data.email as string | null,\n    addrpart: data.addrpart as string | null,\n    moopart: data.moopart as string | null,\n    road: data.road as string | null,\n    tmbpart: data.tmbpart as string | null,\n    amppart: data.amppart as string | null,\n    chwpart: data.chwpart as string | null,\n    poCode: data.po_code as string | null,\n    bloodgrp: data.bloodgrp as string | null,\n    bloodgroupRh: data.bloodgroup_rh as string | null,\n    drugallergy: data.drugallergy as string | null,\n    g6pd: data.g6pd as 'Y' | 'N' | null,\n    pttype: data.pttype as string | null,\n    lastVisit: data.last_visit as string | null,\n    firstday: data.firstday as string | null,\n    death: data.death as 'Y' | 'N' | null,\n    deathday: data.deathday as string | null,\n    fathername: data.fathername as string | null,\n    mathername: data.mathername as string | null,\n    spsname: data.spsname as string | null,\n    marrystatus: data.marrystatus as string | null,\n    informname: data.informname as string | null,\n    informtel: data.informtel as string | null,\n    informrelation: data.informrelation as string | null,\n    nationality: data.nationality as string | null,\n    religion: data.religion as string | null,\n    occupation: data.occupation as string | null,\n    passportNo: data.passport_no as string | null,\n    lastUpdate: data.last_update as string | null,\n    // Computed fields\n    fullName: [data.pname, data.fname, data.lname].filter(Boolean).join(' '),\n    age: data.age as number | null,\n    ageText: data.age_text as string || '',\n    fullAddress: data.full_address as string || '',\n    // Joined data from lookups\n    pttypeName: lookups.pttype_name,\n    tmbName: lookups.tmbpart_name,\n    ampName: lookups.amppart_name,\n    chwName: lookups.chwpart_name,\n    nationalityName: lookups.nationality_name,\n    religionName: lookups.religion_name,\n    occupationName: lookups.occupation_name,\n    // Related data\n    allergies: data.drugallergy ? (data.drugallergy as string).split(',').map(s => s.trim()).filter(Boolean) : [],\n    photo: data.photo as string | null,\n    isDead: data.death === 'Y',\n  };\n};\n\n// ============================================\n// Patient API\n// ============================================\nexport const patientApi = {\n  // Get patient list with pagination\n  getList: async (params: {\n    page?: number;\n    limit?: number;\n    search?: string;\n    pttype?: string;\n    chwpart?: string;\n    amppart?: string;\n    isActive?: boolean;\n  } = {}): Promise<PatientListResponse> => {\n    const queryParams = new URLSearchParams();\n    if (params.page) queryParams.append('page', String(params.page));\n    if (params.limit) queryParams.append('limit', String(params.limit));\n    if (params.search) queryParams.append('search', params.search);\n    if (params.pttype) queryParams.append('pttype', params.pttype);\n    if (params.chwpart) queryParams.append('chwpart', params.chwpart);\n    if (params.amppart) queryParams.append('amppart', params.amppart);\n    if (params.isActive !== undefined) queryParams.append('is_active', String(params.isActive));\n\n    const response = await api.get<PatientApiListResponse>(\n      `/patients?${queryParams.toString()}`\n    );\n\n    return {\n      data: response.data.map(transformPatientListItem),\n      pagination: {\n        page: response.meta.current_page,\n        limit: response.meta.per_page,\n        total: response.meta.total,\n        totalPages: response.meta.last_page,\n      },\n    };\n  },\n\n  // Get patient detail by HN\n  getByHn: async (hn: string): Promise<{ success: boolean; data: PatientDetail }> => {\n    const response = await api.get<PatientApiDetailResponse>(`/patients/${hn}`);\n    return {\n      success: response.success,\n      data: transformPatientDetail(response.data),\n    };\n  },\n  // Get patient detail by CID\n  getByCid: async (cid: string): Promise<{ success: boolean; data: PatientDetail }> => {\n    const response = await api.get<PatientApiDetailResponse>(`/patients/cid/${cid}`);\n    return {\n      success: response.success,\n      data: transformPatientDetail(response.data),\n    };\n  },\n\n  // Quick search patients\n  search: async (q: string, limit = 10): Promise<PatientListItem[]> => {\n    if (!q || q.length < 2) return [];\n    \n    const response = await api.get<PatientApiSearchResponse>(\n      `/patients/search?q=${encodeURIComponent(q)}&limit=${limit}`\n    );\n\n    return response.data.map((item) => ({\n      hn: item.hn,\n      fullName: item.full_name,\n      cid: item.cid,\n      sex: item.sex,\n      age: item.age,\n      birthday: item.birthday,\n      phone: null,\n      pttype: item.pttype,\n      bloodgrp: null,\n      hasAllergy: false,\n      lastVisit: null,\n      isDead: item.death === 'Y',\n    }));\n  },\n\n  // Create new patient\n  create: async (data: PatientFormData): Promise<ApiResponse<{ hn: string }>> => {\n    return api.post<ApiResponse<{ hn: string }>>('/patients', {\n      pname: data.pname,\n      fname: data.fname,\n      lname: data.lname,\n      sex: data.sex,\n      birthday: data.birthday,\n      cid: data.cid,\n      mobile_phone_number: data.mobilePhone,\n      hometel: data.hometel,\n      email: data.email,\n      addrpart: data.addrpart,\n      moopart: data.moopart,\n      road: data.road,\n      tmbpart: data.tmbpart,\n      amppart: data.amppart,\n      chwpart: data.chwpart,\n      po_code: data.poCode,\n      bloodgrp: data.bloodgrp,\n      bloodgroup_rh: data.bloodgroupRh,\n      drugallergy: data.drugallergy,\n      g6pd: data.g6pd,\n      pttype: data.pttype,\n      nationality: data.nationality,\n      religion: data.religion,\n      occupation: data.occupation,\n      marrystatus: data.marrystatus,\n      fathername: data.fathername,\n      mathername: data.mathername,\n      spsname: data.spsname,\n      informname: data.informname,\n      informtel: data.informtel,\n      informrelation: data.informrelation,\n    });\n  },\n\n  // Update patient\n  update: async (hn: string, data: Partial<PatientFormData>): Promise<ApiResponse<void>> => {\n    const payload: Record<string, unknown> = {};\n    \n    if (data.pname !== undefined) payload.pname = data.pname;\n    if (data.fname !== undefined) payload.fname = data.fname;\n    if (data.lname !== undefined) payload.lname = data.lname;\n    if (data.sex !== undefined) payload.sex = data.sex;\n    if (data.birthday !== undefined) payload.birthday = data.birthday;\n    if (data.cid !== undefined) payload.cid = data.cid;\n    if (data.mobilePhone !== undefined) payload.mobile_phone_number = data.mobilePhone;\n    if (data.hometel !== undefined) payload.hometel = data.hometel;\n    if (data.email !== undefined) payload.email = data.email;\n    if (data.addrpart !== undefined) payload.addrpart = data.addrpart;\n    if (data.moopart !== undefined) payload.moopart = data.moopart;\n    if (data.road !== undefined) payload.road = data.road;\n    if (data.tmbpart !== undefined) payload.tmbpart = data.tmbpart;\n    if (data.amppart !== undefined) payload.amppart = data.amppart;\n    if (data.chwpart !== undefined) payload.chwpart = data.chwpart;\n    if (data.poCode !== undefined) payload.po_code = data.poCode;\n    if (data.bloodgrp !== undefined) payload.bloodgrp = data.bloodgrp;\n    if (data.bloodgroupRh !== undefined) payload.bloodgroup_rh = data.bloodgroupRh;\n    if (data.drugallergy !== undefined) payload.drugallergy = data.drugallergy;\n    if (data.g6pd !== undefined) payload.g6pd = data.g6pd;\n    if (data.pttype !== undefined) payload.pttype = data.pttype;\n    if (data.nationality !== undefined) payload.nationality = data.nationality;\n    if (data.religion !== undefined) payload.religion = data.religion;\n    if (data.occupation !== undefined) payload.occupation = data.occupation;\n    if (data.marrystatus !== undefined) payload.marrystatus = data.marrystatus;\n    if (data.fathername !== undefined) payload.fathername = data.fathername;\n    if (data.mathername !== undefined) payload.mathername = data.mathername;\n    if (data.spsname !== undefined) payload.spsname = data.spsname;\n    if (data.informname !== undefined) payload.informname = data.informname;\n    if (data.informtel !== undefined) payload.informtel = data.informtel;\n    if (data.informrelation !== undefined) payload.informrelation = data.informrelation;\n\n    return api.put<ApiResponse<void>>(`/patients/${hn}`, payload);\n  },\n\n  // Delete patient\n  delete: async (hn: string): Promise<ApiResponse<void>> => {\n    return api.delete<ApiResponse<void>>(`/patients/${hn}`);\n  },\n\n  // Get patient statistics\n  getStats: async (): Promise<PatientStats> => {\n    const response = await api.get<PatientApiStatsResponse>('/patients/stats');\n    return response.data;\n  },\n};\n\n// ============================================\n// Patient Image Types\n// ============================================\ninterface PatientImageItem {\n  hn: string;\n  imageName: string;\n  width: number | null;\n  height: number | null;\n  captureDate: string | null;\n}\n\ninterface PatientImageDetail extends PatientImageItem {\n  image: string; // Base64 encoded\n}\n\ninterface PatientImagesResponse {\n  success: boolean;\n  data: Array<{\n    hn: string;\n    image_name: string;\n    width: number | null;\n    height: number | null;\n    capture_date: string | null;\n  }>;\n}\n\ninterface PatientImageApiResponse {\n  success: boolean;\n  data: {\n    hn: string;\n    image_name: string;\n    image: string;\n    width: number | null;\n    height: number | null;\n    capture_date: string | null;\n  };\n}\n\n// ============================================\n// Patient Image API\n// ============================================\nexport const patientImageApi = {\n  // Get all images for a patient\n  getByHn: async (hn: string): Promise<PatientImageItem[]> => {\n    const response = await api.get<PatientImagesResponse>(`/patients/${hn}/images`);\n    return response.data.map(item => ({\n      hn: item.hn,\n      imageName: item.image_name,\n      width: item.width,\n      height: item.height,\n      captureDate: item.capture_date,\n    }));\n  },\n\n  // Get profile image (primary image)\n  getProfileImage: async (hn: string): Promise<PatientImageDetail | null> => {\n    try {\n      const response = await api.get<PatientImageApiResponse>(`/patients/${hn}/image`);\n      return {\n        hn: response.data.hn,\n        imageName: response.data.image_name,\n        image: response.data.image,\n        width: response.data.width,\n        height: response.data.height,\n        captureDate: response.data.capture_date,\n      };\n    } catch {\n      return null;\n    }\n  },\n\n  // Get raw image URL for img src\n  getProfileImageUrl: (hn: string): string => {\n    const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3333/api/v1';\n    return `${baseUrl}/patients/${hn}/image/raw`;\n  },\n\n  // Upload profile image\n  upload: async (\n    hn: string,\n    imageData: string,\n    width?: number,\n    height?: number\n  ): Promise<{ success: boolean; message: string }> => {\n    const response = await api.post<{ success: boolean; message: string }>(`/patients/${hn}/image`, {\n      image: imageData,\n      width,\n      height,\n    });\n    return response;\n  },\n\n  // Delete profile image\n  delete: async (hn: string): Promise<void> => {\n    await api.delete(`/patients/${hn}/image`);\n  },\n};\n\n// ============================================\n// Helper: Transform menu from API response (camelCase) to snake_case\n// ============================================\nconst transformMenuFromApi = (menu: Record<string, unknown>): MenuItem => ({\n  id: menu.id as number,\n  menu_code: (menu.menuCode || menu.menu_code) as string,\n  menu_name: (menu.menuName || menu.menu_name) as string,\n  menu_name_th: (menu.menuNameTh || menu.menu_name_th) as string | null,\n  parent_id: (menu.parentId ?? menu.parent_id ?? null) as number | null,\n  icon: (menu.icon || null) as string | null,\n  route_path: (menu.routePath || menu.route_path) as string | null,\n  sort_order: (menu.sortOrder ?? menu.sort_order ?? 0) as number,\n  is_active: Boolean(menu.isActive ?? menu.is_active),\n});\n\n// ============================================\n// Menu API\n// ============================================\nexport const menuApi = {\n  // =========================================\n  // Public Menu Operations\n  // =========================================\n\n  // Get all menus (with transform from camelCase to snake_case)\n  getAll: async (): Promise<ApiResponse<MenuItem[]>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>[]>>('/settings/menus');\n    return {\n      ...response,\n      data: response.data.map(transformMenuFromApi),\n    };\n  },\n\n  // Get active menus only\n  getActive: async (): Promise<ApiResponse<MenuItem[]>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>[]>>('/settings/menus/active');\n    return {\n      ...response,\n      data: response.data.map(transformMenuFromApi),\n    };\n  },\n\n  // Get menu tree (active only)\n  getTree: async (): Promise<ApiResponse<MenuItem[]>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>[]>>('/settings/menus/tree');\n    return {\n      ...response,\n      data: response.data.map(transformMenuFromApi),\n    };\n  },\n\n  // Get full menu tree (including inactive)\n  getFullTree: async (): Promise<ApiResponse<MenuItem[]>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>[]>>('/settings/menus/tree/full');\n    return {\n      ...response,\n      data: response.data.map(transformMenuFromApi),\n    };\n  },\n\n  // Get menu by ID\n  getById: async (id: number): Promise<ApiResponse<MenuItem>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>>>(`/settings/menus/${id}`);\n    return {\n      ...response,\n      data: transformMenuFromApi(response.data),\n    };\n  },\n\n  // Get menu by code\n  getByCode: async (code: string): Promise<ApiResponse<MenuItem>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>>>(`/settings/menus/code/${code}`);\n    return {\n      ...response,\n      data: transformMenuFromApi(response.data),\n    };\n  },\n\n  // Get menus by parent ID (use null for root)\n  getByParentId: async (parentId: number | null): Promise<ApiResponse<MenuItem[]>> => {\n    const response = await api.get<ApiResponse<Record<string, unknown>[]>>(\n      `/settings/menus/parent/${parentId === null ? 'null' : parentId}`\n    );\n    return {\n      ...response,\n      data: response.data.map(transformMenuFromApi),\n    };\n  },\n\n  // =========================================\n  // CRUD Operations\n  // =========================================\n\n  // Create menu\n  create: (data: {\n    menu_code: string;\n    menu_name: string;\n    menu_name_th?: string;\n    parent_id?: number | null;\n    icon?: string;\n    route_path?: string;\n    sort_order?: number;\n    is_active?: number;\n  }) => api.post<ApiResponse<MenuItem>>('/settings/menus', data),\n\n  // Update menu\n  update: (id: number, data: Partial<MenuItem>) =>\n    api.put<ApiResponse<MenuItem>>(`/settings/menus/${id}`, data),\n\n  // Delete menu\n  delete: (id: number) => api.delete<ApiResponse<void>>(`/settings/menus/${id}`),\n\n  // =========================================\n  // Bulk Operations\n  // =========================================\n\n  // Reorder menus\n  reorder: (items: { id: number; sort_order: number }[]) =>\n    api.post<ApiResponse<void>>('/settings/menus/reorder', { items }),\n\n  // Move menu to new parent\n  move: (id: number, parentId: number | null) =>\n    api.put<ApiResponse<MenuItem>>(`/settings/menus/${id}/move`, { parent_id: parentId }),\n\n  // =========================================\n  // User Menu Access (by user ID)\n  // =========================================\n\n  // Get user menu access\n  getUserAccess: (userId: number) =>\n    api.get<ApiResponse<MenuItem[]>>(`/settings/menus/user/${userId}/access`),\n\n  // Get user menu tree\n  getUserTree: (userId: number) =>\n    api.get<ApiResponse<MenuItem[]>>(`/settings/menus/user/${userId}/tree`),\n\n  // Check user menu access\n  checkUserAccess: (userId: number, menuCode: string) =>\n    api.get<ApiResponse<{\n      has_access: boolean;\n      can_view: boolean;\n      can_create: boolean;\n      can_edit: boolean;\n      can_delete: boolean;\n      can_export: boolean;\n      can_print: boolean;\n    }>>(`/settings/menus/user/${userId}/check/${menuCode}`),\n\n  // =========================================\n  // Current User Menu Access (my)\n  // =========================================\n\n  // Get my menu access (current logged in user)\n  getMyAccess: () => api.get<ApiResponse<MenuItem[]>>('/settings/menus/my/access'),\n\n  // Get my menu tree (current logged in user)\n  getMyTree: () => api.get<ApiResponse<MenuItem[]>>('/settings/menus/my/tree'),\n\n  // Check my menu access (current logged in user)\n  checkMyAccess: (menuCode: string) =>\n    api.get<ApiResponse<{\n      has_access: boolean;\n      can_view: boolean;\n      can_create: boolean;\n      can_edit: boolean;\n      can_delete: boolean;\n      can_export: boolean;\n      can_print: boolean;\n    }>>(`/settings/menus/my/check/${menuCode}`),\n\n  // =========================================\n  // Alias for backward compatibility\n  // =========================================\n  getUserMenus: () => api.get<ApiResponse<MenuItem[]>>('/settings/menus/my/tree'),\n};\n\n// ============================================\n// Role API (Legacy - use settingsApi.roles instead)\n// ============================================\nexport const roleApi = {\n  // Get all roles\n  getAll: () => api.get<ApiResponse<Role[]>>('/roles'),\n\n  // Get role by ID\n  getById: (id: number) => api.get<ApiResponse<Role>>(`/roles/${id}`),\n\n  // Create role\n  create: (data: Partial<Role>) => api.post<ApiResponse<Role>>('/roles', data),\n\n  // Update role\n  update: (id: number, data: Partial<Role>) =>\n    api.put<ApiResponse<Role>>(`/roles/${id}`, data),\n\n  // Delete role\n  delete: (id: number) => api.delete<ApiResponse<void>>(`/roles/${id}`),\n\n  // Get role menu access\n  getMenuAccess: (roleId: number) =>\n    api.get<ApiResponse<RoleMenuAccess[]>>(`/roles/${roleId}/menus`),\n\n  // Update role menu access\n  updateMenuAccess: (roleId: number, menuAccess: RoleMenuAccess[]) =>\n    api.put<ApiResponse<void>>(`/roles/${roleId}/menus`, { menuAccess }),\n};\n\n// ============================================\n// Group API (Legacy - use settingsApi.groups instead)\n// ============================================\nexport const groupApi = {\n  // Get all groups\n  getAll: () => api.get<ApiResponse<Group[]>>('/groups'),\n\n  // Get group by ID\n  getById: (id: number) => api.get<ApiResponse<Group>>(`/groups/${id}`),\n\n  // Create group\n  create: (data: Partial<Group>) => api.post<ApiResponse<Group>>('/groups', data),\n\n  // Update group\n  update: (id: number, data: Partial<Group>) =>\n    api.put<ApiResponse<Group>>(`/groups/${id}`, data),\n\n  // Delete group\n  delete: (id: number) => api.delete<ApiResponse<void>>(`/groups/${id}`),\n\n  // Get group roles\n  getRoles: (groupId: number) => api.get<ApiResponse<Role[]>>(`/groups/${groupId}/roles`),\n\n  // Assign roles to group\n  assignRoles: (groupId: number, roleIds: number[]) =>\n    api.put<ApiResponse<void>>(`/groups/${groupId}/roles`, { roleIds }),\n};\n\n// ============================================\n// Permission API (Legacy - use settingsApi.permissions instead)\n// ============================================\nexport const permissionApi = {\n  // Get all permissions\n  getAll: () => api.get<ApiResponse<Permission[]>>('/permissions'),\n\n  // Get permission by ID\n  getById: (id: number) => api.get<ApiResponse<Permission>>(`/permissions/${id}`),\n\n  // Create permission\n  create: (data: Partial<Permission>) =>\n    api.post<ApiResponse<Permission>>('/permissions', data),\n\n  // Update permission\n  update: (id: number, data: Partial<Permission>) =>\n    api.put<ApiResponse<Permission>>(`/permissions/${id}`, data),\n\n  // Delete permission\n  delete: (id: number) => api.delete<ApiResponse<void>>(`/permissions/${id}`),\n};\n\n// ============================================\n// User API\n// ============================================\nexport const userApi = {\n  // Get all users\n  getAll: (params?: { page?: number; limit?: number; search?: string }) => {\n    const query = new URLSearchParams();\n    if (params?.page) query.set('page', String(params.page));\n    if (params?.limit) query.set('limit', String(params.limit));\n    if (params?.search) query.set('search', params.search);\n    const queryString = query.toString();\n    return api.get<ApiResponse<unknown[]>>(`/users${queryString ? `?${queryString}` : ''}`);\n  },\n\n  // Get user by ID\n  getById: (id: number) => api.get<ApiResponse<unknown>>(`/users/${id}`),\n\n  // Create user\n  create: (data: unknown) => api.post<ApiResponse<unknown>>('/users', data),\n\n  // Update user\n  update: (id: number, data: unknown) => api.put<ApiResponse<unknown>>(`/users/${id}`, data),\n\n  // Delete user\n  delete: (id: number) => api.delete<ApiResponse<void>>(`/users/${id}`),\n\n  // Get user roles\n  getRoles: (userId: number) => api.get<ApiResponse<Role[]>>(`/users/${userId}/roles`),\n\n  // Assign roles to user\n  assignRoles: (userId: number, roleIds: number[]) =>\n    api.put<ApiResponse<void>>(`/users/${userId}/roles`, { roleIds }),\n\n  // Get user groups\n  getGroups: (userId: number) => api.get<ApiResponse<Group[]>>(`/users/${userId}/groups`),\n\n  // Assign groups to user\n  assignGroups: (userId: number, groupIds: number[]) =>\n    api.put<ApiResponse<void>>(`/users/${userId}/groups`, { groupIds }),\n};\n\n// ============================================\n// Settings API (New - matches backend routes)\n// ============================================\nexport const settingsApi = {\n  // =========================================\n  // Roles\n  // =========================================\n  roles: {\n    getAll: () => api.get<ApiResponse<Role[]>>('/settings/roles'),\n    \n    getActive: () => api.get<ApiResponse<Role[]>>('/settings/roles/active'),\n    \n    getById: (id: number) => api.get<ApiResponse<Role>>(`/settings/roles/${id}`),\n    \n    getWithDetails: (id: number) => api.get<ApiResponse<Role>>(`/settings/roles/${id}/details`),\n    \n    getMenuAccess: (id: number) => api.get<ApiResponse<RoleMenuAccess[]>>(`/settings/roles/${id}/menus`),\n    \n    getPermissions: (id: number) => api.get<ApiResponse<Permission[]>>(`/settings/roles/${id}/permissions`),\n    \n    create: (data: {\n      role_code: string;\n      role_name: string;\n      description?: string;\n      is_active?: number;\n    }) => api.post<ApiResponse<Role>>('/settings/roles', data),\n    \n    update: (id: number, data: {\n      role_code?: string;\n      role_name?: string;\n      description?: string;\n      is_active?: number;\n    }) => api.put<ApiResponse<Role>>(`/settings/roles/${id}`, data),\n    \n    delete: (id: number) => api.delete<ApiResponse<void>>(`/settings/roles/${id}`),\n    \n    setMenuAccess: (roleId: number, menuId: number, access: {\n      can_view?: number;\n      can_create?: number;\n      can_edit?: number;\n      can_delete?: number;\n      can_export?: number;\n      can_print?: number;\n    }) => api.post<ApiResponse<void>>(`/settings/roles/${roleId}/menus/${menuId}`, access),\n    \n    removeMenuAccess: (roleId: number, menuId: number) => \n      api.delete<ApiResponse<void>>(`/settings/roles/${roleId}/menus/${menuId}`),\n    \n    addPermission: (roleId: number, permissionId: number) => \n      api.post<ApiResponse<void>>(`/settings/roles/${roleId}/permissions/${permissionId}`),\n    \n    removePermission: (roleId: number, permissionId: number) => \n      api.delete<ApiResponse<void>>(`/settings/roles/${roleId}/permissions/${permissionId}`),\n  },\n\n  // =========================================\n  // Groups\n  // =========================================\n  groups: {\n    getAll: () => api.get<ApiResponse<Group[]>>('/settings/groups'),\n    \n    getActive: () => api.get<ApiResponse<Group[]>>('/settings/groups/active'),\n    \n    getTree: () => api.get<ApiResponse<Group[]>>('/settings/groups/tree'),\n    \n    getById: (id: number) => api.get<ApiResponse<Group>>(`/settings/groups/${id}`),\n    \n    getWithRoles: (id: number) => api.get<ApiResponse<Group>>(`/settings/groups/${id}/roles`),\n    \n    create: (data: {\n      group_code: string;\n      group_name: string;\n      description?: string;\n      parent_id?: number;\n      is_active?: number;\n    }) => api.post<ApiResponse<Group>>('/settings/groups', data),\n    \n    update: (id: number, data: {\n      group_code?: string;\n      group_name?: string;\n      description?: string;\n      parent_id?: number | null;\n      is_active?: number;\n    }) => api.put<ApiResponse<Group>>(`/settings/groups/${id}`, data),\n    \n    delete: (id: number) => api.delete<ApiResponse<void>>(`/settings/groups/${id}`),\n    \n    addRole: (groupId: number, roleId: number) => \n      api.post<ApiResponse<void>>(`/settings/groups/${groupId}/roles/${roleId}`),\n    \n    removeRole: (groupId: number, roleId: number) => \n      api.delete<ApiResponse<void>>(`/settings/groups/${groupId}/roles/${roleId}`),\n  },\n\n  // =========================================\n  // Menu Items (use menuApi for full functionality)\n  // =========================================\n  menus: {\n    // Basic CRUD - for full menu operations, use menuApi instead\n    getAll: () => menuApi.getAll(),\n    getTree: () => menuApi.getTree(),\n    getById: (id: number) => menuApi.getById(id),\n    create: (data: {\n      menu_code: string;\n      menu_name: string;\n      menu_name_th?: string;\n      parent_id?: number;\n      icon?: string;\n      route_path?: string;\n      sort_order?: number;\n      is_active?: number;\n    }) => menuApi.create(data),\n    update: (id: number, data: Partial<MenuItem>) => menuApi.update(id, data),\n    delete: (id: number) => menuApi.delete(id),\n  },\n\n  // =========================================\n  // Permissions\n  // =========================================\n  permissions: {\n    getAll: () => api.get<ApiResponse<Permission[]>>('/settings/permissions'),\n    \n    getById: (id: number) => api.get<ApiResponse<Permission>>(`/settings/permissions/${id}`),\n    \n    create: (data: {\n      permission_code: string;\n      permission_name: string;\n      description?: string;\n    }) => api.post<ApiResponse<Permission>>('/settings/permissions', data),\n    \n    update: (id: number, data: {\n      permission_code?: string;\n      permission_name?: string;\n      description?: string;\n    }) => api.put<ApiResponse<Permission>>(`/settings/permissions/${id}`, data),\n    \n    delete: (id: number) => api.delete<ApiResponse<void>>(`/settings/permissions/${id}`),\n  },\n\n  // =========================================\n  // User Settings\n  // =========================================\n  users: {\n    getGroups: (userId: number) => api.get<ApiResponse<Group[]>>(`/settings/users/${userId}/groups`),\n    \n    getRoles: (userId: number) => api.get<ApiResponse<Role[]>>(`/settings/users/${userId}/roles`),\n    \n    getEffectiveRoles: (userId: number) => api.get<ApiResponse<Role[]>>(`/settings/users/${userId}/effective-roles`),\n    \n    getMenuAccess: (userId: number) => api.get<ApiResponse<MenuItem[]>>(`/settings/users/${userId}/menu-access`),\n    \n    getPermissions: (userId: number) => api.get<ApiResponse<Permission[]>>(`/settings/users/${userId}/permissions`),\n    \n    checkMenuAccess: (userId: number, menuCode: string) => \n      api.get<ApiResponse<RoleMenuAccess>>(`/settings/users/${userId}/check-menu/${menuCode}`),\n    \n    checkPermission: (userId: number, permissionCode: string) => \n      api.get<ApiResponse<{ permission_code: string; has_permission: boolean }>>(`/settings/users/${userId}/check-permission/${permissionCode}`),\n    \n    addGroup: (userId: number, groupId: number, isPrimary?: number) => \n      api.post<ApiResponse<void>>(`/settings/users/${userId}/groups/${groupId}`, { is_primary: isPrimary }),\n    \n    removeGroup: (userId: number, groupId: number) => \n      api.delete<ApiResponse<void>>(`/settings/users/${userId}/groups/${groupId}`),\n    \n    setPrimaryGroup: (userId: number, groupId: number) => \n      api.put<ApiResponse<void>>(`/settings/users/${userId}/groups/${groupId}/primary`),\n    \n    addRole: (userId: number, roleId: number) => \n      api.post<ApiResponse<void>>(`/settings/users/${userId}/roles/${roleId}`),\n    \n    removeRole: (userId: number, roleId: number) => \n      api.delete<ApiResponse<void>>(`/settings/users/${userId}/roles/${roleId}`),\n  },\n\n  // =========================================\n  // Current User Access (my)\n  // =========================================\n  my: {\n    getEffectiveRoles: () => api.get<ApiResponse<Role[]>>('/settings/my/effective-roles'),\n    \n    getMenuAccess: () => api.get<ApiResponse<MenuItem[]>>('/settings/my/menu-access'),\n    \n    getPermissions: () => api.get<ApiResponse<Permission[]>>('/settings/my/permissions'),\n    \n    checkMenuAccess: (menuCode: string) => \n      api.get<ApiResponse<RoleMenuAccess>>(`/settings/my/check-menu/${menuCode}`),\n    \n    checkPermission: (permissionCode: string) => \n      api.get<ApiResponse<{ permission_code: string; has_permission: boolean }>>(`/settings/my/check-permission/${permissionCode}`),\n  },\n};\n\nexport default api;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/src/components/providers/AuthProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { User } from '@/types';\nimport { authApi, api } from '@/lib/api';\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  login: (username: string, password: string) => Promise<void>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    // Check for existing session\n    const storedToken = localStorage.getItem('token');\n    const storedUser = localStorage.getItem('user');\n\n    if (storedToken && storedUser) {\n      setToken(storedToken);\n      setUser(JSON.parse(storedUser));\n      // Sync token with API client\n      api.setToken(storedToken);\n    }\n    setIsLoading(false);\n  }, []);\n\n  const login = async (username: string, password: string) => {\n    setIsLoading(true);\n    try {\n      const response = await authApi.login(username, password);\n\n      if (response.success) {\n        const { token: newToken, user: userData } = response.data;\n\n        // Set token in API client first\n        api.setToken(newToken);\n\n        setToken(newToken);\n        setUser(userData);\n        localStorage.setItem('token', newToken);\n        localStorage.setItem('user', JSON.stringify(userData));\n        router.push('/');\n      } else {\n        throw new Error('Login failed');\n      }\n    } catch (error: unknown) {\n      const err = error as { message?: string };\n      throw new Error(err.message || 'Login failed');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const logout = () => {\n    // Clear token from API client\n    api.clearToken();\n\n    setToken(null);\n    setUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    router.push('/login');\n  };\n\n  const value: AuthContextType = {\n    user,\n    token,\n    isAuthenticated: !!token,\n    isLoading,\n    login,\n    logout,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === null) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAgBA,MAAM,4BAAc,IAAA,sNAAa,EAAyB;AAMnD,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,6BAA6B;QAC7B,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,MAAM,aAAa,aAAa,OAAO,CAAC;QAExC,IAAI,eAAe,YAAY;YAC7B,SAAS;YACT,QAAQ,KAAK,KAAK,CAAC;YACnB,6BAA6B;YAC7B,wHAAG,CAAC,QAAQ,CAAC;QACf;QACA,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACrC,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,4HAAO,CAAC,KAAK,CAAC,UAAU;YAE/C,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM,EAAE,OAAO,QAAQ,EAAE,MAAM,QAAQ,EAAE,GAAG,SAAS,IAAI;gBAEzD,gCAAgC;gBAChC,wHAAG,CAAC,QAAQ,CAAC;gBAEb,SAAS;gBACT,QAAQ;gBACR,aAAa,OAAO,CAAC,SAAS;gBAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAC5C,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,OAAgB;YACvB,MAAM,MAAM;YACZ,MAAM,IAAI,MAAM,IAAI,OAAO,IAAI;QACjC,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,SAAS;QACb,8BAA8B;QAC9B,wHAAG,CAAC,UAAU;QAEd,SAAS;QACT,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,QAAyB;QAC7B;QACA;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,MAAM;QACpB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/src/components/providers/MenuProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, useCallback, ReactNode } from 'react';\nimport { MenuItem } from '@/types';\nimport { menuApi } from '@/lib/api';\nimport { useAuth } from './AuthProvider';\n\n// API response type (camelCase from backend)\ninterface ApiMenuItem {\n  menuId: number;\n  menuCode: string;\n  menuName: string;\n  menuNameTh: string | null;\n  parentId: number | null;\n  icon: string | null;\n  routePath: string | null;\n  sortOrder: number;\n  isActive?: boolean;\n  canView?: number;\n  canCreate?: number;\n  canEdit?: number;\n  canDelete?: number;\n  canExport?: number;\n  canPrint?: number;\n  children?: ApiMenuItem[];\n}\n\n// Convert API response (camelCase) to frontend format (snake_case)\nconst convertApiMenuItem = (item: ApiMenuItem): MenuItem => ({\n  id: item.menuId,\n  menu_code: item.menuCode,\n  menu_name: item.menuName,\n  menu_name_th: item.menuNameTh,\n  parent_id: item.parentId,\n  icon: item.icon,\n  route_path: item.routePath,\n  sort_order: item.sortOrder,\n  is_active: item.isActive ?? true,\n  can_view: item.canView === 1,\n  can_create: item.canCreate === 1,\n  can_edit: item.canEdit === 1,\n  can_delete: item.canDelete === 1,\n  can_export: item.canExport === 1,\n  can_print: item.canPrint === 1,\n  children: item.children?.map(convertApiMenuItem) ?? [],\n});\n\n// Extended MenuItem with access permissions and HIS-specific properties\nexport interface MenuAccessItem extends MenuItem {\n  // Access permissions\n  can_view?: boolean;\n  can_create?: boolean;\n  can_edit?: boolean;\n  can_delete?: boolean;\n  can_export?: boolean;\n  can_print?: boolean;\n  \n  // HIS-specific UI properties\n  badge_count?: number;        // จำนวน notification (เช่น ผู้ป่วยรอตรวจ, รอจ่ายยา)\n  badge_type?: 'default' | 'warning' | 'danger' | 'success'; // สีของ badge\n  is_new?: boolean;            // แสดง label \"New\" สำหรับเมนูใหม่\n  has_notification?: boolean;  // แสดง status dot (สำหรับ ER, เคสด่วน)\n  notification_type?: 'info' | 'warning' | 'danger'; // ประเภท notification\n  shortcut_key?: string;       // Keyboard shortcut (เช่น 'Alt+O' สำหรับ OPD)\n  \n  children?: MenuAccessItem[];\n}\n\n// Badge configuration for different menu types\nexport interface MenuBadgeConfig {\n  menu_code: string;\n  count?: number;\n  type?: 'default' | 'warning' | 'danger' | 'success';\n  has_notification?: boolean;\n  notification_type?: 'info' | 'warning' | 'danger';\n}\n\ninterface MenuContextType {\n  menus: MenuAccessItem[];\n  flatMenus: MenuAccessItem[];\n  isLoading: boolean;\n  error: string | null;\n  refetch: () => Promise<void>;\n  getMenuByCode: (code: string) => MenuAccessItem | undefined;\n  getMenuByPath: (path: string) => MenuAccessItem | undefined;\n  hasAccess: (menuCode: string, action?: 'view' | 'create' | 'edit' | 'delete' | 'export' | 'print') => boolean;\n  checkAccess: (menuCode: string) => Promise<{\n    has_access: boolean;\n    can_view: boolean;\n    can_create: boolean;\n    can_edit: boolean;\n    can_delete: boolean;\n    can_export: boolean;\n    can_print: boolean;\n  } | null>;\n  // New methods for HIS badge management\n  updateMenuBadge: (menuCode: string, config: Partial<MenuBadgeConfig>) => void;\n  updateMenuBadges: (configs: MenuBadgeConfig[]) => void;\n  clearMenuBadge: (menuCode: string) => void;\n  clearAllBadges: () => void;\n}\n\nconst MenuContext = createContext<MenuContextType | null>(null);\n\n// Convert MenuItem to MenuAccessItem with default permissions\nconst toMenuAccessItem = (item: MenuItem): MenuAccessItem => ({\n  ...item,\n  // Access permissions\n  can_view: (item as MenuAccessItem).can_view ?? true,\n  can_create: (item as MenuAccessItem).can_create ?? false,\n  can_edit: (item as MenuAccessItem).can_edit ?? false,\n  can_delete: (item as MenuAccessItem).can_delete ?? false,\n  can_export: (item as MenuAccessItem).can_export ?? false,\n  can_print: (item as MenuAccessItem).can_print ?? false,\n  // HIS properties (preserve if exists, otherwise undefined)\n  badge_count: (item as MenuAccessItem).badge_count,\n  badge_type: (item as MenuAccessItem).badge_type,\n  is_new: (item as MenuAccessItem).is_new,\n  has_notification: (item as MenuAccessItem).has_notification,\n  notification_type: (item as MenuAccessItem).notification_type,\n  shortcut_key: (item as MenuAccessItem).shortcut_key,\n  children: item.children?.map(toMenuAccessItem) ?? [],\n});\n\n// Build tree structure from flat menu list\nconst buildMenuTree = (items: MenuAccessItem[]): MenuAccessItem[] => {\n  const menuMap = new Map<number, MenuAccessItem>();\n\n  // First pass: create all menu items with empty children arrays\n  items.forEach((item) => {\n    menuMap.set(item.id, { ...item, children: [] });\n  });\n\n  // Second pass: build the tree\n  const rootMenus: MenuAccessItem[] = [];\n\n  items.forEach((item) => {\n    const menuItem = menuMap.get(item.id)!;\n\n    if (item.parent_id === null || item.parent_id === undefined) {\n      rootMenus.push(menuItem);\n    } else {\n      const parent = menuMap.get(item.parent_id);\n      if (parent) {\n        if (!parent.children) {\n          parent.children = [];\n        }\n        parent.children.push(menuItem);\n      } else {\n        rootMenus.push(menuItem);\n      }\n    }\n  });\n\n  // Sort menus by sort_order\n  const sortMenus = (menus: MenuAccessItem[]): MenuAccessItem[] => {\n    return menus\n      .sort((a, b) => (a.sort_order || 0) - (b.sort_order || 0))\n      .map((menu) => ({\n        ...menu,\n        children: menu.children ? sortMenus(menu.children) : [],\n      }));\n  };\n\n  return sortMenus(rootMenus);\n};\n\n// Flatten tree to list\nconst flattenTree = (items: MenuAccessItem[]): MenuAccessItem[] => {\n  const result: MenuAccessItem[] = [];\n  const traverse = (menuItems: MenuAccessItem[]) => {\n    for (const item of menuItems) {\n      result.push(item);\n      if (item.children && item.children.length > 0) {\n        traverse(item.children);\n      }\n    }\n  };\n  traverse(items);\n  return result;\n};\n\n// Helper to update badge in menu tree\nconst updateBadgeInTree = (\n  menus: MenuAccessItem[],\n  menuCode: string,\n  config: Partial<MenuBadgeConfig>\n): MenuAccessItem[] => {\n  return menus.map((menu) => {\n    if (menu.menu_code === menuCode) {\n      return {\n        ...menu,\n        badge_count: config.count ?? menu.badge_count,\n        badge_type: config.type ?? menu.badge_type,\n        has_notification: config.has_notification ?? menu.has_notification,\n        notification_type: config.notification_type ?? menu.notification_type,\n      };\n    }\n    if (menu.children && menu.children.length > 0) {\n      return {\n        ...menu,\n        children: updateBadgeInTree(menu.children, menuCode, config),\n      };\n    }\n    return menu;\n  });\n};\n\n// Helper to clear badge in menu tree\nconst clearBadgeInTree = (menus: MenuAccessItem[], menuCode: string): MenuAccessItem[] => {\n  return menus.map((menu) => {\n    if (menu.menu_code === menuCode) {\n      return {\n        ...menu,\n        badge_count: undefined,\n        badge_type: undefined,\n        has_notification: false,\n        notification_type: undefined,\n      };\n    }\n    if (menu.children && menu.children.length > 0) {\n      return {\n        ...menu,\n        children: clearBadgeInTree(menu.children, menuCode),\n      };\n    }\n    return menu;\n  });\n};\n\n// Helper to clear all badges\nconst clearAllBadgesInTree = (menus: MenuAccessItem[]): MenuAccessItem[] => {\n  return menus.map((menu) => ({\n    ...menu,\n    badge_count: undefined,\n    badge_type: undefined,\n    has_notification: false,\n    notification_type: undefined,\n    children: menu.children ? clearAllBadgesInTree(menu.children) : [],\n  }));\n};\n\ninterface MenuProviderProps {\n  children: ReactNode;\n}\n\nexport function MenuProvider({ children }: MenuProviderProps) {\n  const { isAuthenticated, token } = useAuth();\n  const [menus, setMenus] = useState<MenuAccessItem[]>([]);\n  const [flatMenus, setFlatMenus] = useState<MenuAccessItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchMenus = useCallback(async () => {\n    if (!isAuthenticated || !token) {\n      setMenus([]);\n      setFlatMenus([]);\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // Try to get user's menu tree first\n      let rawData: ApiMenuItem[] = [];\n      \n      try {\n        const response = await menuApi.getMyTree();\n        if (response.success && response.data) {\n          // API returns camelCase, need to cast\n          rawData = response.data as unknown as ApiMenuItem[];\n        }\n      } catch {\n        // Fallback to all menus if my/tree fails\n        console.warn('Failed to get user menu tree, falling back to all menus');\n        const fallbackResponse = await menuApi.getAll();\n        if (fallbackResponse.success && fallbackResponse.data) {\n          rawData = fallbackResponse.data as unknown as ApiMenuItem[];\n        }\n      }\n\n      if (rawData.length > 0) {\n        // Convert API response (camelCase) to frontend format (snake_case)\n        const data = rawData.map(convertApiMenuItem);\n        \n        // Convert to MenuAccessItem with default permissions\n        const accessItems = data.map(toMenuAccessItem);\n\n        // Check if data already has nested children (is a tree)\n        const isAlreadyTree = accessItems.some(\n          (item) => item.children && Array.isArray(item.children) && item.children.length > 0\n        );\n\n        if (isAlreadyTree) {\n          setMenus(accessItems);\n          setFlatMenus(flattenTree(accessItems));\n        } else {\n          const menuTree = buildMenuTree(accessItems);\n          setMenus(menuTree);\n          setFlatMenus(accessItems);\n        }\n      } else {\n        setMenus([]);\n        setFlatMenus([]);\n      }\n    } catch (err: unknown) {\n      const error = err as { message?: string };\n      setError(error.message || 'Failed to fetch menus');\n      setMenus([]);\n      setFlatMenus([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isAuthenticated, token]);\n\n  useEffect(() => {\n    fetchMenus();\n  }, [fetchMenus]);\n\n  const getMenuByCode = useCallback(\n    (code: string): MenuAccessItem | undefined => {\n      return flatMenus.find((menu) => menu.menu_code === code);\n    },\n    [flatMenus]\n  );\n\n  const getMenuByPath = useCallback(\n    (path: string): MenuAccessItem | undefined => {\n      return flatMenus.find((menu) => menu.route_path === path);\n    },\n    [flatMenus]\n  );\n\n  const hasAccess = useCallback(\n    (\n      menuCode: string,\n      action: 'view' | 'create' | 'edit' | 'delete' | 'export' | 'print' = 'view'\n    ): boolean => {\n      const menu = getMenuByCode(menuCode);\n      if (!menu) return false;\n\n      switch (action) {\n        case 'view':\n          return menu.can_view ?? true;\n        case 'create':\n          return menu.can_create ?? false;\n        case 'edit':\n          return menu.can_edit ?? false;\n        case 'delete':\n          return menu.can_delete ?? false;\n        case 'export':\n          return menu.can_export ?? false;\n        case 'print':\n          return menu.can_print ?? false;\n        default:\n          return false;\n      }\n    },\n    [getMenuByCode]\n  );\n\n  const checkAccess = useCallback(async (menuCode: string) => {\n    try {\n      const response = await menuApi.checkMyAccess(menuCode);\n      if (response.success) {\n        return response.data;\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  }, []);\n\n  // Update single menu badge\n  const updateMenuBadge = useCallback((menuCode: string, config: Partial<MenuBadgeConfig>) => {\n    setMenus((prev) => updateBadgeInTree(prev, menuCode, config));\n    setFlatMenus((prev) =>\n      prev.map((menu) =>\n        menu.menu_code === menuCode\n          ? {\n              ...menu,\n              badge_count: config.count ?? menu.badge_count,\n              badge_type: config.type ?? menu.badge_type,\n              has_notification: config.has_notification ?? menu.has_notification,\n              notification_type: config.notification_type ?? menu.notification_type,\n            }\n          : menu\n      )\n    );\n  }, []);\n\n  // Update multiple menu badges at once\n  const updateMenuBadges = useCallback((configs: MenuBadgeConfig[]) => {\n    setMenus((prev) => {\n      let updated = prev;\n      for (const config of configs) {\n        updated = updateBadgeInTree(updated, config.menu_code, config);\n      }\n      return updated;\n    });\n    setFlatMenus((prev) =>\n      prev.map((menu) => {\n        const config = configs.find((c) => c.menu_code === menu.menu_code);\n        if (config) {\n          return {\n            ...menu,\n            badge_count: config.count ?? menu.badge_count,\n            badge_type: config.type ?? menu.badge_type,\n            has_notification: config.has_notification ?? menu.has_notification,\n            notification_type: config.notification_type ?? menu.notification_type,\n          };\n        }\n        return menu;\n      })\n    );\n  }, []);\n\n  // Clear single menu badge\n  const clearMenuBadge = useCallback((menuCode: string) => {\n    setMenus((prev) => clearBadgeInTree(prev, menuCode));\n    setFlatMenus((prev) =>\n      prev.map((menu) =>\n        menu.menu_code === menuCode\n          ? {\n              ...menu,\n              badge_count: undefined,\n              badge_type: undefined,\n              has_notification: false,\n              notification_type: undefined,\n            }\n          : menu\n      )\n    );\n  }, []);\n\n  // Clear all badges\n  const clearAllBadges = useCallback(() => {\n    setMenus((prev) => clearAllBadgesInTree(prev));\n    setFlatMenus((prev) =>\n      prev.map((menu) => ({\n        ...menu,\n        badge_count: undefined,\n        badge_type: undefined,\n        has_notification: false,\n        notification_type: undefined,\n      }))\n    );\n  }, []);\n\n  const value: MenuContextType = {\n    menus,\n    flatMenus,\n    isLoading,\n    error,\n    refetch: fetchMenus,\n    getMenuByCode,\n    getMenuByPath,\n    hasAccess,\n    checkAccess,\n    updateMenuBadge,\n    updateMenuBadges,\n    clearMenuBadge,\n    clearAllBadges,\n  };\n\n  return <MenuContext.Provider value={value}>{children}</MenuContext.Provider>;\n}\n\nexport function useMenuContext() {\n  const context = useContext(MenuContext);\n  if (context === null) {\n    throw new Error('useMenuContext must be used within a MenuProvider');\n  }\n  return context;\n}\n\n// =============================================================================\n// Custom hook for HIS badge updates (ใช้ร่วมกับ WebSocket หรือ polling)\n// =============================================================================\nexport function useMenuBadgeUpdater() {\n  const { updateMenuBadge, updateMenuBadges, clearMenuBadge, clearAllBadges } = useMenuContext();\n\n  // ตัวอย่างการอัปเดต badge สำหรับ OPD queue\n  const updateOPDQueue = useCallback(\n    (count: number) => {\n      updateMenuBadge('OPD', {\n        count,\n        type: count > 20 ? 'danger' : count > 10 ? 'warning' : 'default',\n        has_notification: count > 0,\n      });\n    },\n    [updateMenuBadge]\n  );\n\n  // ตัวอย่างการอัปเดต badge สำหรับ IPD\n  const updateIPDPatients = useCallback(\n    (count: number) => {\n      updateMenuBadge('IPD', {\n        count,\n        type: 'default',\n      });\n    },\n    [updateMenuBadge]\n  );\n\n  // ตัวอย่างการแจ้งเตือน ER ด่วน\n  const setERAlert = useCallback(\n    (hasAlert: boolean) => {\n      updateMenuBadge('ER', {\n        has_notification: hasAlert,\n        notification_type: 'danger',\n      });\n    },\n    [updateMenuBadge]\n  );\n\n  // ตัวอย่างการอัปเดตหลายเมนูพร้อมกัน\n  const updateAllCounts = useCallback(\n    (data: { opd?: number; ipd?: number; pharmacy?: number; er?: boolean }) => {\n      const configs: MenuBadgeConfig[] = [];\n\n      if (data.opd !== undefined) {\n        configs.push({\n          menu_code: 'OPD',\n          count: data.opd,\n          type: data.opd > 20 ? 'danger' : data.opd > 10 ? 'warning' : 'default',\n          has_notification: data.opd > 0,\n        });\n      }\n\n      if (data.ipd !== undefined) {\n        configs.push({\n          menu_code: 'IPD',\n          count: data.ipd,\n          type: 'default',\n        });\n      }\n\n      if (data.pharmacy !== undefined) {\n        configs.push({\n          menu_code: 'PHARMACY',\n          count: data.pharmacy,\n          type: data.pharmacy > 30 ? 'warning' : 'default',\n        });\n      }\n\n      if (data.er !== undefined) {\n        configs.push({\n          menu_code: 'ER',\n          has_notification: data.er,\n          notification_type: 'danger',\n        });\n      }\n\n      if (configs.length > 0) {\n        updateMenuBadges(configs);\n      }\n    },\n    [updateMenuBadges]\n  );\n\n  return {\n    updateMenuBadge,\n    updateMenuBadges,\n    clearMenuBadge,\n    clearAllBadges,\n    // HIS-specific helpers\n    updateOPDQueue,\n    updateIPDPatients,\n    setERAlert,\n    updateAllCounts,\n  };\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1465, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 1484, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1489, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 1494, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs"],"sourcesContent":["\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n"],"names":[],"mappings":"AAEA,SAAS,yBAAyB,WAAW;IACzC,IAAI,OAAO,YAAY,YAAY,OAAO;IAE1C,IAAI,oBAAoB,IAAI;IAC5B,IAAI,mBAAmB,IAAI;IAE3B,OAAO,CAAC,2BAA2B,SAAS,WAAW;QACnD,OAAO,cAAc,mBAAmB;IAC5C,CAAC,EAAE;AACP;AACA,SAAS,0BAA0B,GAAG,EAAE,WAAW;IAC/C,IAAI,CAAC,eAAe,OAAO,IAAI,UAAU,EAAE,OAAO;IAClD,IAAI,QAAQ,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,OAAO;QAAE,SAAS;IAAI;IAEhG,IAAI,QAAQ,yBAAyB;IAErC,IAAI,SAAS,MAAM,GAAG,CAAC,MAAM,OAAO,MAAM,GAAG,CAAC;IAE9C,IAAI,SAAS;QAAE,WAAW;IAAK;IAC/B,IAAI,wBAAwB,OAAO,cAAc,IAAI,OAAO,wBAAwB;IAEpF,IAAK,IAAI,OAAO,IAAK;QACjB,IAAI,QAAQ,aAAa,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,MAAM;YACrE,IAAI,OAAO,wBAAwB,OAAO,wBAAwB,CAAC,KAAK,OAAO;YAC/E,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,GAAG,GAAG,OAAO,cAAc,CAAC,QAAQ,KAAK;iBAClE,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI;QAC/B;IACJ;IAEA,OAAO,OAAO,GAAG;IAEjB,IAAI,OAAO,MAAM,GAAG,CAAC,KAAK;IAE1B,OAAO;AACX;AACA,QAAQ,CAAC,GAAG","ignoreList":[0]}},
    {"offset": {"line": 1529, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n"],"names":["module","exports","require","vendored","AppRouterContext"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,gBAAgB","ignoreList":[0]}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n"],"names":["module","exports","require","vendored","HooksClientContext"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1539, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/shared/lib/segment.ts"],"sourcesContent":["import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\n"],"names":["DEFAULT_SEGMENT_KEY","PAGE_SEGMENT_KEY","addSearchParamsIfPageSegment","computeSelectedLayoutSegment","getSegmentValue","getSelectedLayoutSegmentPath","isGroupSegment","isParallelRouteSegment","segment","Array","isArray","endsWith","startsWith","searchParams","isPageSegment","includes","stringifiedQuery","JSON","stringify","segments","parallelRouteKey","length","rawSegment","tree","first","segmentPath","node","parallelRoutes","children","Object","values","segmentValue","push"],"mappings":";;;;;;;;;;;;;;;;;;;;IAuFaA,mBAAmB,EAAA;eAAnBA;;IADAC,gBAAgB,EAAA;eAAhBA;;IAvEGC,4BAA4B,EAAA;eAA5BA;;IAgBAC,4BAA4B,EAAA;eAA5BA;;IA7BAC,eAAe,EAAA;eAAfA;;IAiDAC,4BAA4B,EAAA;eAA5BA;;IA7CAC,cAAc,EAAA;eAAdA;;IAKAC,sBAAsB,EAAA;eAAtBA;;;AATT,SAASH,gBAAgBI,OAAgB;IAC9C,OAAOC,MAAMC,OAAO,CAACF,WAAWA,OAAO,CAAC,EAAE,GAAGA;AAC/C;AAEO,SAASF,eAAeE,OAAe;IAC5C,sCAAsC;IACtC,OAAOA,OAAO,CAAC,EAAE,KAAK,OAAOA,QAAQG,QAAQ,CAAC;AAChD;AAEO,SAASJ,uBAAuBC,OAAe;IACpD,OAAOA,QAAQI,UAAU,CAAC,QAAQJ,YAAY;AAChD;AAEO,SAASN,6BACdM,OAAgB,EAChBK,YAA2D;IAE3D,MAAMC,gBAAgBN,QAAQO,QAAQ,CAACd;IAEvC,IAAIa,eAAe;QACjB,MAAME,mBAAmBC,KAAKC,SAAS,CAACL;QACxC,OAAOG,qBAAqB,OACxBf,mBAAmB,MAAMe,mBACzBf;IACN;IAEA,OAAOO;AACT;AAEO,SAASL,6BACdgB,QAAyB,EACzBC,gBAAwB;IAExB,IAAI,CAACD,YAAYA,SAASE,MAAM,KAAK,GAAG;QACtC,OAAO;IACT;IAEA,iFAAiF;IACjF,MAAMC,aACJF,qBAAqB,aACjBD,QAAQ,CAAC,EAAE,GACXA,QAAQ,CAACA,SAASE,MAAM,GAAG,EAAE;IAEnC,sGAAsG;IACtG,oEAAoE;IACpE,OAAOC,eAAetB,sBAAsB,OAAOsB;AACrD;AAGO,SAASjB,6BACdkB,IAAuB,EACvBH,gBAAwB,EACxBI,QAAQ,IAAI,EACZC,cAAwB,EAAE;IAE1B,IAAIC;IACJ,IAAIF,OAAO;QACT,kEAAkE;QAClEE,OAAOH,IAAI,CAAC,EAAE,CAACH,iBAAiB;IAClC,OAAO;QACL,oGAAoG;QACpG,MAAMO,iBAAiBJ,IAAI,CAAC,EAAE;QAC9BG,OAAOC,eAAeC,QAAQ,IAAIC,OAAOC,MAAM,CAACH,eAAe,CAAC,EAAE;IACpE;IAEA,IAAI,CAACD,MAAM,OAAOD;IAClB,MAAMjB,UAAUkB,IAAI,CAAC,EAAE;IAEvB,IAAIK,eAAe3B,gBAAgBI;IAEnC,IAAI,CAACuB,gBAAgBA,aAAanB,UAAU,CAACX,mBAAmB;QAC9D,OAAOwB;IACT;IAEAA,YAAYO,IAAI,CAACD;IAEjB,OAAO1B,6BACLqB,MACAN,kBACA,OACAK;AAEJ;AAEO,MAAMxB,mBAAmB;AACzB,MAAMD,sBAAsB","ignoreList":[0]}},
    {"offset": {"line": 1637, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/readonly-url-search-params.ts"],"sourcesContent":["/**\n * ReadonlyURLSearchParams implementation shared between client and server.\n * This file is intentionally not marked as 'use client' or 'use server'\n * so it can be imported by both environments.\n */\n\n/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\n/**\n * A read-only version of URLSearchParams that throws errors when mutation methods are called.\n * This ensures that the URLSearchParams returned by useSearchParams() cannot be mutated.\n */\nexport class ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n"],"names":["ReadonlyURLSearchParams","ReadonlyURLSearchParamsError","Error","constructor","URLSearchParams","append","delete","set","sort"],"mappings":"AAAA;;;;CAIC,GAED,cAAc;;;+BAaDA,2BAAAA;;;eAAAA;;;AAZb,MAAMC,qCAAqCC;IACzCC,aAAc;QACZ,KAAK,CACH;IAEJ;AACF;AAMO,MAAMH,gCAAgCI;IAC3C,wKAAwK,GACxKC,SAAS;QACP,MAAM,IAAIJ;IACZ;IACA,wKAAwK,GACxKK,SAAS;QACP,MAAM,IAAIL;IACZ;IACA,wKAAwK,GACxKM,MAAM;QACJ,MAAM,IAAIN;IACZ;IACA,wKAAwK,GACxKO,OAAO;QACL,MAAM,IAAIP;IACZ;AACF","ignoreList":[0]}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n"],"names":["module","exports","require","vendored","ServerInsertedHtml"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,WAAW,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 1685, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/unrecognized-action-error.ts"],"sourcesContent":["export class UnrecognizedActionError extends Error {\n  constructor(...args: ConstructorParameters<typeof Error>) {\n    super(...args)\n    this.name = 'UnrecognizedActionError'\n  }\n}\n\n/**\n * Check whether a server action call failed because the server action was not recognized by the server.\n * This can happen if the client and the server are not from the same deployment.\n *\n * Example usage:\n * ```ts\n * try {\n *   await myServerAction();\n * } catch (err) {\n *   if (unstable_isUnrecognizedActionError(err)) {\n *     // The client is from a different deployment than the server.\n *     // Reloading the page will fix this mismatch.\n *     window.alert(\"Please refresh the page and try again\");\n *     return;\n *   }\n * }\n * ```\n * */\nexport function unstable_isUnrecognizedActionError(\n  error: unknown\n): error is UnrecognizedActionError {\n  return !!(\n    error &&\n    typeof error === 'object' &&\n    error instanceof UnrecognizedActionError\n  )\n}\n"],"names":["UnrecognizedActionError","unstable_isUnrecognizedActionError","Error","constructor","args","name","error"],"mappings":";;;;;;;;;;;;;;IAAaA,uBAAuB,EAAA;eAAvBA;;IAyBGC,kCAAkC,EAAA;eAAlCA;;;AAzBT,MAAMD,gCAAgCE;IAC3CC,YAAY,GAAGC,IAAyC,CAAE;QACxD,KAAK,IAAIA;QACT,IAAI,CAACC,IAAI,GAAG;IACd;AACF;AAoBO,SAASJ,mCACdK,KAAc;IAEd,OAAO,CAAC,CACNA,CAAAA,SACA,OAAOA,UAAU,YACjBA,iBAAiBN,uBAAsB;AAE3C","ignoreList":[0]}},
    {"offset": {"line": 1726, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/redirect-status-code.ts"],"sourcesContent":["export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n"],"names":["RedirectStatusCode"],"mappings":";;;+BAAYA,sBAAAA;;;eAAAA;;;AAAL,IAAKA,qBAAAA,WAAAA,GAAAA,SAAAA,kBAAAA;;;;WAAAA","ignoreList":[0]}},
    {"offset": {"line": 1752, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/redirect-error.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n"],"names":["REDIRECT_ERROR_CODE","RedirectType","isRedirectError","error","digest","split","errorCode","type","destination","slice","join","status","at","statusCode","Number","isNaN","RedirectStatusCode"],"mappings":";;;;;;;;;;;;;;;IAEaA,mBAAmB,EAAA;eAAnBA;;IAEDC,YAAY,EAAA;eAAZA;;IAgBIC,eAAe,EAAA;eAAfA;;;oCApBmB;AAE5B,MAAMF,sBAAsB;AAE5B,IAAKC,eAAAA,WAAAA,GAAAA,SAAAA,YAAAA;;;WAAAA;;AAgBL,SAASC,gBAAgBC,KAAc;IAC5C,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IAEA,MAAMA,SAASD,MAAMC,MAAM,CAACC,KAAK,CAAC;IAClC,MAAM,CAACC,WAAWC,KAAK,GAAGH;IAC1B,MAAMI,cAAcJ,OAAOK,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;IAC7C,MAAMC,SAASP,OAAOQ,EAAE,CAAC,CAAC;IAE1B,MAAMC,aAAaC,OAAOH;IAE1B,OACEL,cAAcN,uBACbO,CAAAA,SAAS,aAAaA,SAAS,MAAK,KACrC,OAAOC,gBAAgB,YACvB,CAACO,MAAMF,eACPA,cAAcG,oBAAAA,kBAAkB;AAEpC","ignoreList":[0]}},
    {"offset": {"line": 1806, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/redirect.ts"],"sourcesContent":["import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n"],"names":["getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","window","require","undefined","url","type","statusCode","RedirectStatusCode","TemporaryRedirect","error","Error","REDIRECT_ERROR_CODE","digest","getStore","isAction","RedirectType","push","replace","PermanentRedirect","isRedirectError","split","slice","join","Number","at"],"mappings":";;;;;;;;;;;;;;;;;;IAegBA,gBAAgB,EAAA;eAAhBA;;IA6EAC,8BAA8B,EAAA;eAA9BA;;IARAC,wBAAwB,EAAA;eAAxBA;;IARAC,uBAAuB,EAAA;eAAvBA;;IAhBAC,iBAAiB,EAAA;eAAjBA;;IAvBAC,QAAQ,EAAA;eAARA;;;oCArCmB;+BAM5B;AAEP,MAAMC,qBACJ,OAAOC,WAAW,qBAEZC,QAAQ,2KACRF,kBAAkB,GACpBG;AAEC,SAAST,iBACdU,GAAW,EACXC,IAAkB,EAClBC,aAAiCC,oBAAAA,kBAAkB,CAACC,iBAAiB;IAErE,MAAMC,QAAQ,OAAA,cAA8B,CAA9B,IAAIC,MAAMC,eAAAA,mBAAmB,GAA7B,qBAAA;eAAA;oBAAA;sBAAA;IAA6B;IAC3CF,MAAMG,MAAM,GAAG,GAAGD,eAAAA,mBAAmB,CAAC,CAAC,EAAEN,KAAK,CAAC,EAAED,IAAI,CAAC,EAAEE,WAAW,CAAC,CAAC;IACrE,OAAOG;AACT;AAcO,SAASV,SACd,2BAA2B,GAC3BK,GAAW,EACXC,IAAmB;IAEnBA,SAASL,oBAAoBa,YAAYC,WACrCC,eAAAA,YAAY,CAACC,IAAI,GACjBD,eAAAA,YAAY,CAACE,OAAO;IAExB,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACC,iBAAiB;AACxE;AAaO,SAASV,kBACd,2BAA2B,GAC3BM,GAAW,EACXC,OAAqBU,eAAAA,YAAY,CAACE,OAAO;IAEzC,MAAMvB,iBAAiBU,KAAKC,MAAME,oBAAAA,kBAAkB,CAACW,iBAAiB;AACxE;AAUO,SAASrB,wBAAwBY,KAAc;IACpD,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ,OAAO;IAEpC,wEAAwE;IACxE,kBAAkB;IAClB,OAAOA,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKC,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC;AACnD;AAEO,SAAS1B,yBAAyBa,KAAoB;IAC3D,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOD,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE;AACtC;AAEO,SAASzB,+BAA+Bc,KAAoB;IACjE,IAAI,CAACU,CAAAA,GAAAA,eAAAA,eAAe,EAACV,QAAQ;QAC3B,MAAM,OAAA,cAAiC,CAAjC,IAAIC,MAAM,yBAAV,qBAAA;mBAAA;wBAAA;0BAAA;QAAgC;IACxC;IAEA,OAAOa,OAAOd,MAAMG,MAAM,CAACQ,KAAK,CAAC,KAAKI,EAAE,CAAC,CAAC;AAC5C","ignoreList":[0]}},
    {"offset": {"line": 1899, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/http-access-fallback/http-access-fallback.ts"],"sourcesContent":["export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n"],"names":["HTTPAccessErrorStatus","HTTP_ERROR_FALLBACK_ERROR_CODE","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","error","digest","prefix","httpStatus","split","has","Number","status"],"mappings":";;;;;;;;;;;;;;;;;IAAaA,qBAAqB,EAAA;eAArBA;;IAQAC,8BAA8B,EAAA;eAA9BA;;IAuCGC,kCAAkC,EAAA;eAAlCA;;IAPAC,2BAA2B,EAAA;eAA3BA;;IAnBAC,yBAAyB,EAAA;eAAzBA;;;AArBT,MAAMJ,wBAAwB;IACnCK,WAAW;IACXC,WAAW;IACXC,cAAc;AAChB;AAEA,MAAMC,gBAAgB,IAAIC,IAAIC,OAAOC,MAAM,CAACX;AAErC,MAAMC,iCAAiC;AAavC,SAASG,0BACdQ,KAAc;IAEd,IACE,OAAOA,UAAU,YACjBA,UAAU,QACV,CAAE,CAAA,YAAYA,KAAI,KAClB,OAAOA,MAAMC,MAAM,KAAK,UACxB;QACA,OAAO;IACT;IACA,MAAM,CAACC,QAAQC,WAAW,GAAGH,MAAMC,MAAM,CAACG,KAAK,CAAC;IAEhD,OACEF,WAAWb,kCACXO,cAAcS,GAAG,CAACC,OAAOH;AAE7B;AAEO,SAASZ,4BACdS,KAA8B;IAE9B,MAAMG,aAAaH,MAAMC,MAAM,CAACG,KAAK,CAAC,IAAI,CAAC,EAAE;IAC7C,OAAOE,OAAOH;AAChB;AAEO,SAASb,mCACdiB,MAAc;IAEd,OAAQA;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE;IACJ;AACF","ignoreList":[0]}},
    {"offset": {"line": 1973, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/not-found.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n"],"names":["notFound","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","error","Error","digest"],"mappings":";;;+BAsBgBA,YAAAA;;;eAAAA;;;oCAnBT;AAEP;;;;;;;;;;;;;CAaC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,MAAMG,QAAQ,OAAA,cAAiB,CAAjB,IAAIC,MAAMH,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BE,MAAkCE,MAAM,GAAGJ;IAE7C,MAAME;AACR","ignoreList":[0]}},
    {"offset": {"line": 2017, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/forbidden.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["forbidden","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAqBgBA,aAAAA;;;eAAAA;;;oCAlBT;AAEP,6BAA6B;AAC7B;;;;;;;;;;;CAWC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 2067, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/unauthorized.ts"],"sourcesContent":["import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n"],"names":["unauthorized","DIGEST","HTTP_ERROR_FALLBACK_ERROR_CODE","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","Error","error","digest"],"mappings":";;;+BAsBgBA,gBAAAA;;;eAAAA;;;oCAnBT;AAEP,gCAAgC;AAChC;;;;;;;;;;;;CAYC,GAED,MAAMC,SAAS,GAAGC,oBAAAA,8BAA8B,CAAC,IAAI,CAAC;AAE/C,SAASF;IACd,IAAI,CAACG,QAAQC,GAAG,CAACC,uBAAqC,YAAF;QAClD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,+GAA+G,CAAC,GAD7G,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,MAAMC,QAAQ,OAAA,cAAiB,CAAjB,IAAID,MAAML,SAAV,qBAAA;eAAA;oBAAA;sBAAA;IAAgB;IAC5BM,MAAkCC,MAAM,GAAGP;IAC7C,MAAMM;AACR","ignoreList":[0]}},
    {"offset": {"line": 2118, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/dynamic-rendering-utils.ts"],"sourcesContent":["import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n"],"names":["isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","err","digest","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","Error","constructor","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","get","push","listeners","set","addEventListener","i","length","once","catch","ignoreReject","underlying","requestStore","stage","stagedRendering","delayUntilStage","undefined","resolve","setTimeout"],"mappings":";;;;;;;;;;;;;;;IAGgBA,8BAA8B,EAAA;eAA9BA;;IA2EAC,0BAA0B,EAAA;eAA1BA;;IAxCAC,kBAAkB,EAAA;eAAlBA;;;AAnCT,SAASF,+BACdG,GAAY;IAEZ,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAIC,MAAM,KAAKC;AACxB;AAEA,MAAMA,4BAA4B;AAElC,MAAMC,qCAAqCC;IAGzCC,YACkBC,KAAa,EACbC,UAAkB,CAClC;QACA,KAAK,CACH,CAAC,qBAAqB,EAAEA,WAAW,qGAAqG,EAAEA,WAAW,8KAA8K,EAAED,MAAM,EAAE,CAAC,GAAA,IAAA,CAJhUA,KAAAA,GAAAA,OAAAA,IAAAA,CACAC,UAAAA,GAAAA,YAAAA,IAAAA,CAJFN,MAAAA,GAASC;IASzB;AACF;AAGA,MAAMM,yBAAyB,IAAIC;AAS5B,SAASV,mBACdW,MAAmB,EACnBJ,KAAa,EACbC,UAAkB;IAElB,IAAIG,OAAOC,OAAO,EAAE;QAClB,OAAOC,QAAQC,MAAM,CAAC,IAAIV,6BAA6BG,OAAOC;IAChE,OAAO;QACL,MAAMO,iBAAiB,IAAIF,QAAW,CAACG,GAAGF;YACxC,MAAMG,iBAAiBH,OAAOI,IAAI,CAChC,MACA,IAAId,6BAA6BG,OAAOC;YAE1C,IAAIW,mBAAmBV,uBAAuBW,GAAG,CAACT;YAClD,IAAIQ,kBAAkB;gBACpBA,iBAAiBE,IAAI,CAACJ;YACxB,OAAO;gBACL,MAAMK,YAAY;oBAACL;iBAAe;gBAClCR,uBAAuBc,GAAG,CAACZ,QAAQW;gBACnCX,OAAOa,gBAAgB,CACrB,SACA;oBACE,IAAK,IAAIC,IAAI,GAAGA,IAAIH,UAAUI,MAAM,EAAED,IAAK;wBACzCH,SAAS,CAACG,EAAE;oBACd;gBACF,GACA;oBAAEE,MAAM;gBAAK;YAEjB;QACF;QACA,2GAA2G;QAC3G,6GAA6G;QAC7G,yFAAyF;QACzFZ,eAAea,KAAK,CAACC;QACrB,OAAOd;IACT;AACF;AAEA,SAASc,gBAAgB;AAElB,SAAS9B,2BACd+B,UAAa,EACbC,YAA0B,EAC1BC,KAA2B;IAE3B,IAAID,aAAaE,eAAe,EAAE;QAChC,iFAAiF;QACjF,OAAOF,aAAaE,eAAe,CAACC,eAAe,CACjDF,OACAG,WACAL;IAEJ;IACA,kEAAkE;IAClE,2EAA2E;IAC3E,OAAO,IAAIjB,QAAW,CAACuB;QACrB,sFAAsF;QACtFC,WAAW;YACTD,QAAQN;QACV,GAAG;IACL;AACF","ignoreList":[0]}},
    {"offset": {"line": 2205, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/lib/router-utils/is-postpone.ts"],"sourcesContent":["const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n"],"names":["isPostpone","REACT_POSTPONE_TYPE","Symbol","for","error","$$typeof"],"mappings":";;;+BAEgBA,cAAAA;;;eAAAA;;;AAFhB,MAAMC,sBAA8BC,OAAOC,GAAG,CAAC;AAExC,SAASH,WAAWI,KAAU;IACnC,OACE,OAAOA,UAAU,YACjBA,UAAU,QACVA,MAAMC,QAAQ,KAAKJ;AAEvB","ignoreList":[0]}},
    {"offset": {"line": 2222, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts"],"sourcesContent":["// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n"],"names":["BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","Error","constructor","reason","digest","err"],"mappings":"AAAA,+GAA+G;;;;;;;;;;;;;;;IAIlGA,iBAAiB,EAAA;eAAjBA;;IASGC,mBAAmB,EAAA;eAAnBA;;;AAZhB,MAAMC,iBAAiB;AAGhB,MAAMF,0BAA0BG;IAGrCC,YAA4BC,MAAc,CAAE;QAC1C,KAAK,CAAC,CAAC,mCAAmC,EAAEA,QAAQ,GAAA,IAAA,CAD1BA,MAAAA,GAAAA,QAAAA,IAAAA,CAFZC,MAAAA,GAASJ;IAIzB;AACF;AAGO,SAASD,oBAAoBM,GAAY;IAC9C,IAAI,OAAOA,QAAQ,YAAYA,QAAQ,QAAQ,CAAE,CAAA,YAAYA,GAAE,GAAI;QACjE,OAAO;IACT;IAEA,OAAOA,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2260, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/is-next-router-error.ts"],"sourcesContent":["import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n"],"names":["isNextRouterError","error","isRedirectError","isHTTPAccessFallbackError"],"mappings":";;;+BAWgBA,qBAAAA;;;eAAAA;;;oCART;+BAC6C;AAO7C,SAASA,kBACdC,KAAc;IAEd,OAAOC,CAAAA,GAAAA,eAAAA,eAAe,EAACD,UAAUE,CAAAA,GAAAA,oBAAAA,yBAAyB,EAACF;AAC7D","ignoreList":[0]}},
    {"offset": {"line": 2285, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/hooks-server-context.ts"],"sourcesContent":["const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n"],"names":["DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","Error","constructor","description","digest","err"],"mappings":";;;;;;;;;;;;;;IAEaA,kBAAkB,EAAA;eAAlBA;;IAQGC,oBAAoB,EAAA;eAApBA;;;AAVhB,MAAMC,qBAAqB;AAEpB,MAAMF,2BAA2BG;IAGtCC,YAA4BC,WAAmB,CAAE;QAC/C,KAAK,CAAC,CAAC,sBAAsB,EAAEA,aAAa,GAAA,IAAA,CADlBA,WAAAA,GAAAA,aAAAA,IAAAA,CAF5BC,MAAAA,GAAoCJ;IAIpC;AACF;AAEO,SAASD,qBAAqBM,GAAY;IAC/C,IACE,OAAOA,QAAQ,YACfA,QAAQ,QACR,CAAE,CAAA,YAAYA,GAAE,KAChB,OAAOA,IAAID,MAAM,KAAK,UACtB;QACA,OAAO;IACT;IAEA,OAAOC,IAAID,MAAM,KAAKJ;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2329, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/static-generation-bailout.ts"],"sourcesContent":["const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n"],"names":["StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","Error","code","error"],"mappings":";;;;;;;;;;;;;;IAEaA,qBAAqB,EAAA;eAArBA;;IAIGC,uBAAuB,EAAA;eAAvBA;;;AANhB,MAAMC,0BAA0B;AAEzB,MAAMF,8BAA8BG;;QAApC,KAAA,IAAA,OAAA,IAAA,CACWC,IAAAA,GAAOF;;AACzB;AAEO,SAASD,wBACdI,KAAc;IAEd,IAAI,OAAOA,UAAU,YAAYA,UAAU,QAAQ,CAAE,CAAA,UAAUA,KAAI,GAAI;QACrE,OAAO;IACT;IAEA,OAAOA,MAAMD,IAAI,KAAKF;AACxB","ignoreList":[0]}},
    {"offset": {"line": 2373, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/lib/framework/boundary-constants.tsx"],"sourcesContent":["export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n"],"names":["METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME"],"mappings":";;;;;;;;;;;;;;;;IAAaA,sBAAsB,EAAA;eAAtBA;;IAEAC,oBAAoB,EAAA;eAApBA;;IACAC,yBAAyB,EAAA;eAAzBA;;IAFAC,sBAAsB,EAAA;eAAtBA;;;AADN,MAAMH,yBAAyB;AAC/B,MAAMG,yBAAyB;AAC/B,MAAMF,uBAAuB;AAC7B,MAAMC,4BAA4B","ignoreList":[0]}},
    {"offset": {"line": 2410, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/lib/scheduler.ts"],"sourcesContent":["export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n"],"names":["atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","Promise","resolve","then","process","env","NEXT_RUNTIME","setTimeout","nextTick","setImmediate","r"],"mappings":";;;;;;;;;;;;;;;;IA4CgBA,cAAc,EAAA;eAAdA;;IAbHC,iBAAiB,EAAA;eAAjBA;;IAtBAC,kBAAkB,EAAA;eAAlBA;;IAgDGC,6BAA6B,EAAA;eAA7BA;;;AAhDT,MAAMD,qBAAqB,CAACE;IACjC,6EAA6E;IAC7E,4EAA4E;IAC5E,uCAAuC;IACvC,EAAE;IACF,kLAAkL;IAClL,EAAE;IACFC,QAAQC,OAAO,GAAGC,IAAI,CAAC;QACrB,IAAIC,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;aAElC;YACLF,QAAQI,QAAQ,CAACR;QACnB;IACF;AACF;AAQO,MAAMH,oBAAoB,CAACG;IAChC,IAAII,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACLG,aAAaT;IACf;AACF;AAOO,SAASJ;IACd,OAAO,IAAIK,QAAc,CAACC,UAAYL,kBAAkBK;AAC1D;AAWO,SAASH;IACd,IAAIK,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;SAElC;QACL,OAAO,IAAIL,QAAQ,CAACS,IAAMD,aAAaC;IACzC;AACF","ignoreList":[0]}},
    {"offset": {"line": 2475, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/shared/lib/invariant-error.ts"],"sourcesContent":["export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n"],"names":["InvariantError","Error","constructor","message","options","endsWith","name"],"mappings":";;;+BAAaA,kBAAAA;;;eAAAA;;;AAAN,MAAMA,uBAAuBC;IAClCC,YAAYC,OAAe,EAAEC,OAAsB,CAAE;QACnD,KAAK,CACH,CAAC,WAAW,EAAED,QAAQE,QAAQ,CAAC,OAAOF,UAAUA,UAAU,IAAI,0BAA0B,CAAC,EACzFC;QAEF,IAAI,CAACE,IAAI,GAAG;IACd;AACF","ignoreList":[0]}},
    {"offset": {"line": 2494, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/shared/lib/promise-with-resolvers.ts"],"sourcesContent":["export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n"],"names":["createPromiseWithResolvers","resolve","reject","promise","Promise","res","rej"],"mappings":";;;+BAAgBA,8BAAAA;;;eAAAA;;;AAAT,SAASA;IACd,iDAAiD;IACjD,IAAIC;IACJ,IAAIC;IACJ,MAAMC,UAAU,IAAIC,QAAW,CAACC,KAAKC;QACnCL,UAAUI;QACVH,SAASI;IACX;IACA,OAAO;QAAEL,SAASA;QAAUC,QAAQA;QAASC;IAAQ;AACvD","ignoreList":[0]}},
    {"offset": {"line": 2521, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/app-render/staged-rendering.ts"],"sourcesContent":["import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Static = 1,\n  Runtime = 2,\n  Dynamic = 3,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Static\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  constructor(private abortSignal: AbortSignal | null = null) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (this.currentStage < RenderStage.Dynamic) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n    }\n  }\n\n  advanceStage(stage: NonStaticRenderStage) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (this.currentStage >= stage) {\n      return\n    }\n    this.currentStage = stage\n    // Note that we might be going directly from Static to Dynamic,\n    // so we need to resolve the runtime stage as well.\n    if (stage >= RenderStage.Runtime) {\n      this.runtimeStagePromise.resolve()\n    }\n    if (stage >= RenderStage.Dynamic) {\n      this.dynamicStagePromise.resolve()\n    }\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n"],"names":["RenderStage","StagedRenderingController","constructor","abortSignal","currentStage","runtimeStagePromise","createPromiseWithResolvers","dynamicStagePromise","addEventListener","reason","promise","catch","ignoreReject","reject","once","advanceStage","stage","resolve","getStagePromise","InvariantError","waitForStage","delayUntilStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","Promise","then","bind","undefined"],"mappings":";;;;;;;;;;;;;;IAGYA,WAAW,EAAA;eAAXA;;IAQCC,yBAAyB,EAAA;eAAzBA;;;gCAXkB;sCACY;AAEpC,IAAKD,cAAAA,WAAAA,GAAAA,SAAAA,WAAAA;;;;WAAAA;;AAQL,MAAMC;IAMXC,YAAoBC,cAAkC,IAAI,CAAE;aAAxCA,WAAAA,GAAAA;aALpBC,YAAAA,GAAAA;aAEQC,mBAAAA,GAAsBC,CAAAA,GAAAA,sBAAAA,0BAA0B;aAChDC,mBAAAA,GAAsBD,CAAAA,GAAAA,sBAAAA,0BAA0B;QAGtD,IAAIH,aAAa;YACfA,YAAYK,gBAAgB,CAC1B,SACA;gBACE,MAAM,EAAEC,MAAM,EAAE,GAAGN;gBACnB,IAAI,IAAI,CAACC,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACC,mBAAmB,CAACK,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACP,mBAAmB,CAACQ,MAAM,CAACJ;gBAClC;gBACA,IAAI,IAAI,CAACL,YAAY,GAAA,GAAwB;oBAC3C,IAAI,CAACG,mBAAmB,CAACG,OAAO,CAACC,KAAK,CAACC,cAAc,6BAA6B;;oBAClF,IAAI,CAACL,mBAAmB,CAACM,MAAM,CAACJ;gBAClC;YACF,GACA;gBAAEK,MAAM;YAAK;QAEjB;IACF;IAEAC,aAAaC,KAA2B,EAAE;QACxC,8DAA8D;QAC9D,qEAAqE;QACrE,IAAI,IAAI,CAACZ,YAAY,IAAIY,OAAO;YAC9B;QACF;QACA,IAAI,CAACZ,YAAY,GAAGY;QACpB,+DAA+D;QAC/D,mDAAmD;QACnD,IAAIA,SAAAA,GAA8B;YAChC,IAAI,CAACX,mBAAmB,CAACY,OAAO;QAClC;QACA,IAAID,SAAAA,GAA8B;YAChC,IAAI,CAACT,mBAAmB,CAACU,OAAO;QAClC;IACF;IAEQC,gBAAgBF,KAA2B,EAAiB;QAClE,OAAQA;YACN,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACX,mBAAmB,CAACK,OAAO;gBACzC;YACA,KAAA;gBAA0B;oBACxB,OAAO,IAAI,CAACH,mBAAmB,CAACG,OAAO;gBACzC;YACA;gBAAS;oBACPM;oBACA,MAAM,OAAA,cAAoD,CAApD,IAAIG,gBAAAA,cAAc,CAAC,CAAC,sBAAsB,EAAEH,OAAO,GAAnD,qBAAA;+BAAA;oCAAA;sCAAA;oBAAmD;gBAC3D;QACF;IACF;IAEAI,aAAaJ,KAA2B,EAAE;QACxC,OAAO,IAAI,CAACE,eAAe,CAACF;IAC9B;IAEAK,gBACEL,KAA2B,EAC3BM,WAA+B,EAC/BC,aAAgB,EAChB;QACA,MAAMC,mBAAmB,IAAI,CAACN,eAAe,CAACF;QAE9C,MAAMN,UAAUe,mCACdD,kBACAF,aACAC;QAGF,8FAA8F;QAC9F,uGAAuG;QACvG,sHAAsH;QACtH,IAAI,IAAI,CAACpB,WAAW,EAAE;YACpBO,QAAQC,KAAK,CAACC;QAChB;QACA,OAAOF;IACT;AACF;AAEA,SAASE,gBAAgB;AAEzB,kEAAkE;AAClE,4EAA4E;AAC5E,uCAAuC;AACvC,SAASa,mCACPC,SAAuB,EACvBJ,WAA+B,EAC/BC,aAAgB;IAEhB,yDAAyD;IACzD,iDAAiD;IACjD,8EAA8E;IAC9E,kFAAkF;IAClF,gGAAgG;IAChG,MAAMb,UAAU,IAAIiB,QAAW,CAACV,SAASJ;QACvCa,UAAUE,IAAI,CAACX,QAAQY,IAAI,CAAC,MAAMN,gBAAgBV;IACpD;IACA,IAAIS,gBAAgBQ,WAAW;QAC7B,mBAAmB;QACnBpB,QAAQY,WAAW,GAAGA;IACxB;IACA,OAAOZ;AACT","ignoreList":[0]}},
    {"offset": {"line": 2649, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/server/app-render/dynamic-rendering.ts"],"sourcesContent":["/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from './staged-rendering'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of the prerender stage\n  if (requestStore.stagedRendering) {\n    // TODO: error for sync IO in the runtime stage\n    // (which is not currently covered by the validation render in `spawnDynamicValidationInDev`)\n    requestStore.stagedRendering.advanceStage(RenderStage.Dynamic)\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n"],"names":["Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","expression","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","StaticGenBailoutError","route","dynamicTracking","revalidate","err","DynamicServerError","dynamicUsageDescription","dynamicUsageStack","stack","process","env","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","reason","error","createPrerenderInterruptedError","controller","abort","push","Error","undefined","errorWithStack","requestStore","stagedRendering","advanceStage","RenderStage","Dynamic","prerenderSignal","signal","aborted","workUnitAsyncStorage","getStore","assertPostpone","createPostponeReason","message","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","digest","length","serverDynamic","clientDynamic","filter","access","map","split","slice","line","join","AbortController","BailoutToCSRError","cacheSignal","inputReady","then","runtimeStagePromise","getRuntimeStagePromise","scheduleOnNextTick","workStore","workAsyncStorage","fallbackParams","fallbackRouteParams","size","use","makeHangingPromise","renderSignal","InvariantError","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","ROOT_LAYOUT_BOUNDARY_NAME","hasMetadataRegex","METADATA_BOUNDARY_NAME","hasViewportRegex","VIEWPORT_BOUNDARY_NAME","hasOutletRegex","OUTLET_BOUNDARY_NAME","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","name","console","dev","hasReadableErrorStacks","prelude","i","result"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3365, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/unstable-rethrow.server.ts"],"sourcesContent":["import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport {\n  isDynamicPostpone,\n  isPrerenderInterruptedError,\n} from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error) ||\n    isPrerenderInterruptedError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n"],"names":["unstable_rethrow","error","isNextRouterError","isBailoutToCSRError","isDynamicServerError","isDynamicPostpone","isPostpone","isHangingPromiseRejectionError","isPrerenderInterruptedError","Error","cause"],"mappings":";;;+BAUgBA,oBAAAA;;;eAAAA;;;uCAV+B;4BACpB;8BACS;mCACF;kCAI3B;oCAC8B;AAE9B,SAASA,iBAAiBC,KAAc;IAC7C,IACEC,CAAAA,GAAAA,mBAAAA,iBAAiB,EAACD,UAClBE,CAAAA,GAAAA,cAAAA,mBAAmB,EAACF,UACpBG,CAAAA,GAAAA,oBAAAA,oBAAoB,EAACH,UACrBI,CAAAA,GAAAA,kBAAAA,iBAAiB,EAACJ,UAClBK,CAAAA,GAAAA,YAAAA,UAAU,EAACL,UACXM,CAAAA,GAAAA,uBAAAA,8BAA8B,EAACN,UAC/BO,CAAAA,GAAAA,kBAAAA,2BAA2B,EAACP,QAC5B;QACA,MAAMA;IACR;IAEA,IAAIA,iBAAiBQ,SAAS,WAAWR,OAAO;QAC9CD,iBAAiBC,MAAMS,KAAK;IAC9B;AACF","ignoreList":[0]}},
    {"offset": {"line": 3399, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/unstable-rethrow.ts"],"sourcesContent":["/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n"],"names":["unstable_rethrow","window","require"],"mappings":"AAAA;;;;;;CAMC;;;+BACYA,oBAAAA;;;eAAAA;;;AAAN,MAAMA,mBACX,OAAOC,WAAW,qBAEZC,QAAQ,wHACRF,gBAAgB,GAEhBE,QAAQ,8BACRF,gBAAgB","ignoreList":[0]}},
    {"offset": {"line": 3426, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/navigation.react-server.ts"],"sourcesContent":["import { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nexport function unstable_isUnrecognizedActionError(): boolean {\n  throw new Error(\n    '`unstable_isUnrecognizedActionError` can only be used on the client.'\n  )\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n"],"names":["ReadonlyURLSearchParams","RedirectType","forbidden","notFound","permanentRedirect","redirect","unauthorized","unstable_isUnrecognizedActionError","unstable_rethrow","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAcSA,uBAAuB,EAAA;eAAvBA,yBAAAA,uBAAuB;;IALvBC,YAAY,EAAA;eAAZA,eAAAA,YAAY;;IAEZC,SAAS,EAAA;eAATA,WAAAA,SAAS;;IADTC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAFEC,iBAAiB,EAAA;eAAjBA,UAAAA,iBAAiB;;IAA3BC,QAAQ,EAAA;eAARA,UAAAA,QAAQ;;IAIRC,YAAY,EAAA;eAAZA,cAAAA,YAAY;;IAVLC,kCAAkC,EAAA;eAAlCA;;IAWPC,gBAAgB,EAAA;eAAhBA,iBAAAA,gBAAgB;;;yCAbe;0BAQI;+BACf;0BACJ;2BACC;8BACG;iCACI;AAX1B,SAASD;IACd,MAAM,OAAA,cAEL,CAFK,IAAIE,MACR,yEADI,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF","ignoreList":[0]}},
    {"offset": {"line": 3500, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/src/client/components/navigation.ts"],"sourcesContent":["import type { Params } from '../../server/request/params'\n\nimport React, { useContext, useMemo, use } from 'react'\nimport {\n  AppRouterContext,\n  LayoutRouterContext,\n  type AppRouterInstance,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport {\n  SearchParamsContext,\n  PathnameContext,\n  PathParamsContext,\n  NavigationPromisesContext,\n} from '../../shared/lib/hooks-client-context.shared-runtime'\nimport {\n  computeSelectedLayoutSegment,\n  getSelectedLayoutSegmentPath,\n} from '../../shared/lib/segment'\nimport { ReadonlyURLSearchParams } from './readonly-url-search-params'\n\nconst useDynamicRouteParams =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/dynamic-rendering') as typeof import('../../server/app-render/dynamic-rendering')\n      ).useDynamicRouteParams\n    : undefined\n\nconst useDynamicSearchParams =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/dynamic-rendering') as typeof import('../../server/app-render/dynamic-rendering')\n      ).useDynamicSearchParams\n    : undefined\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you *read* the current URL's search parameters.\n *\n * Learn more about [`URLSearchParams` on MDN](https://developer.mozilla.org/docs/Web/API/URLSearchParams)\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useSearchParams } from 'next/navigation'\n *\n * export default function Page() {\n *   const searchParams = useSearchParams()\n *   searchParams.get('foo') // returns 'bar' when ?foo=bar\n *   // ...\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSearchParams`](https://nextjs.org/docs/app/api-reference/functions/use-search-params)\n */\n// Client components API\nexport function useSearchParams(): ReadonlyURLSearchParams {\n  useDynamicSearchParams?.('useSearchParams()')\n\n  const searchParams = useContext(SearchParamsContext)\n\n  // In the case where this is `null`, the compat types added in\n  // `next-env.d.ts` will add a new overload that changes the return type to\n  // include `null`.\n  const readonlySearchParams = useMemo(() => {\n    if (!searchParams) {\n      // When the router is not ready in pages, we won't have the search params\n      // available.\n      return null\n    }\n\n    return new ReadonlyURLSearchParams(searchParams)\n  }, [searchParams]) as ReadonlyURLSearchParams\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.searchParams)\n    }\n  }\n\n  return readonlySearchParams\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the current URL's pathname.\n *\n * @example\n * ```ts\n * \"use client\"\n * import { usePathname } from 'next/navigation'\n *\n * export default function Page() {\n *  const pathname = usePathname() // returns \"/dashboard\" on /dashboard?foo=bar\n *  // ...\n * }\n * ```\n *\n * Read more: [Next.js Docs: `usePathname`](https://nextjs.org/docs/app/api-reference/functions/use-pathname)\n */\n// Client components API\nexport function usePathname(): string {\n  useDynamicRouteParams?.('usePathname()')\n\n  // In the case where this is `null`, the compat types added in `next-env.d.ts`\n  // will add a new overload that changes the return type to include `null`.\n  const pathname = useContext(PathnameContext) as string\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.pathname)\n    }\n  }\n\n  return pathname\n}\n\n// Client components API\nexport {\n  ServerInsertedHTMLContext,\n  useServerInsertedHTML,\n} from '../../shared/lib/server-inserted-html.shared-runtime'\n\n/**\n *\n * This hook allows you to programmatically change routes inside [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components).\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useRouter } from 'next/navigation'\n *\n * export default function Page() {\n *  const router = useRouter()\n *  // ...\n *  router.push('/dashboard') // Navigate to /dashboard\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useRouter`](https://nextjs.org/docs/app/api-reference/functions/use-router)\n */\n// Client components API\nexport function useRouter(): AppRouterInstance {\n  const router = useContext(AppRouterContext)\n  if (router === null) {\n    throw new Error('invariant expected app router to be mounted')\n  }\n\n  return router\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read a route's dynamic params filled in by the current URL.\n *\n * @example\n * ```ts\n * \"use client\"\n * import { useParams } from 'next/navigation'\n *\n * export default function Page() {\n *   // on /dashboard/[team] where pathname is /dashboard/nextjs\n *   const { team } = useParams() // team === \"nextjs\"\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useParams`](https://nextjs.org/docs/app/api-reference/functions/use-params)\n */\n// Client components API\nexport function useParams<T extends Params = Params>(): T {\n  useDynamicRouteParams?.('useParams()')\n\n  const params = useContext(PathParamsContext) as T\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      return use(navigationPromises.params) as T\n    }\n  }\n\n  return params\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the active route segments **below** the Layout it is called from.\n *\n * @example\n * ```ts\n * 'use client'\n *\n * import { useSelectedLayoutSegments } from 'next/navigation'\n *\n * export default function ExampleClientComponent() {\n *   const segments = useSelectedLayoutSegments()\n *\n *   return (\n *     <ul>\n *       {segments.map((segment, index) => (\n *         <li key={index}>{segment}</li>\n *       ))}\n *     </ul>\n *   )\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSelectedLayoutSegments`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segments)\n */\n// Client components API\nexport function useSelectedLayoutSegments(\n  parallelRouteKey: string = 'children'\n): string[] {\n  useDynamicRouteParams?.('useSelectedLayoutSegments()')\n\n  const context = useContext(LayoutRouterContext)\n  // @ts-expect-error This only happens in `pages`. Type is overwritten in navigation.d.ts\n  if (!context) return null\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (process.env.NODE_ENV !== 'production' && 'use' in React) {\n    const navigationPromises = use(NavigationPromisesContext)\n    if (navigationPromises) {\n      const promise =\n        navigationPromises.selectedLayoutSegmentsPromises?.get(parallelRouteKey)\n      if (promise) {\n        // We should always have a promise here, but if we don't, it's not worth erroring over.\n        // We just won't be able to instrument it, but can still provide the value.\n        return use(promise)\n      }\n    }\n  }\n\n  return getSelectedLayoutSegmentPath(context.parentTree, parallelRouteKey)\n}\n\n/**\n * A [Client Component](https://nextjs.org/docs/app/building-your-application/rendering/client-components) hook\n * that lets you read the active route segment **one level below** the Layout it is called from.\n *\n * @example\n * ```ts\n * 'use client'\n * import { useSelectedLayoutSegment } from 'next/navigation'\n *\n * export default function ExampleClientComponent() {\n *   const segment = useSelectedLayoutSegment()\n *\n *   return <p>Active segment: {segment}</p>\n * }\n * ```\n *\n * Read more: [Next.js Docs: `useSelectedLayoutSegment`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segment)\n */\n// Client components API\nexport function useSelectedLayoutSegment(\n  parallelRouteKey: string = 'children'\n): string | null {\n  useDynamicRouteParams?.('useSelectedLayoutSegment()')\n  const navigationPromises = useContext(NavigationPromisesContext)\n  const selectedLayoutSegments = useSelectedLayoutSegments(parallelRouteKey)\n\n  // Instrument with Suspense DevTools (dev-only)\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    navigationPromises &&\n    'use' in React\n  ) {\n    const promise =\n      navigationPromises.selectedLayoutSegmentPromises?.get(parallelRouteKey)\n    if (promise) {\n      // We should always have a promise here, but if we don't, it's not worth erroring over.\n      // We just won't be able to instrument it, but can still provide the value.\n      return use(promise)\n    }\n  }\n\n  return computeSelectedLayoutSegment(selectedLayoutSegments, parallelRouteKey)\n}\n\nexport { unstable_isUnrecognizedActionError } from './unrecognized-action-error'\n\n// Shared components APIs\nexport {\n  notFound,\n  forbidden,\n  unauthorized,\n  redirect,\n  permanentRedirect,\n  RedirectType,\n  ReadonlyURLSearchParams,\n  unstable_rethrow,\n} from './navigation.react-server'\n"],"names":["ReadonlyURLSearchParams","RedirectType","ServerInsertedHTMLContext","forbidden","notFound","permanentRedirect","redirect","unauthorized","unstable_isUnrecognizedActionError","unstable_rethrow","useParams","usePathname","useRouter","useSearchParams","useSelectedLayoutSegment","useSelectedLayoutSegments","useServerInsertedHTML","useDynamicRouteParams","window","require","undefined","useDynamicSearchParams","searchParams","useContext","SearchParamsContext","readonlySearchParams","useMemo","process","env","NODE_ENV","React","navigationPromises","use","NavigationPromisesContext","pathname","PathnameContext","router","AppRouterContext","Error","params","PathParamsContext","parallelRouteKey","context","LayoutRouterContext","promise","selectedLayoutSegmentsPromises","get","getSelectedLayoutSegmentPath","parentTree","selectedLayoutSegments","selectedLayoutSegmentPromises","computeSelectedLayoutSegment"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3698, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his-project/his-web/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}