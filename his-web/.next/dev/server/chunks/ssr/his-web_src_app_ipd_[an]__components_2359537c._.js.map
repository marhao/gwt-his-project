{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/app/ipd/%5Ban%5D/_components/PatientHeader.tsx"],"sourcesContent":["'use client';\n\nimport {\n  User, AlertTriangle, Heart, Stethoscope, Clock, Shield, Phone, Bed, ChevronDown, ChevronUp,\n} from 'lucide-react';\nimport { Patient } from '../_types';\nimport { useState } from 'react';\n\ninterface PatientHeaderProps {\n  patient: Patient;\n}\n\nexport function PatientHeader({ patient }: PatientHeaderProps) {\n  const isCritical = patient.isCritical;\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  return (\n    // Container ไม่มี border/rounded เพราะ parent มีแล้ว\n    <div className={`overflow-hidden transition-all ${\n      isCritical \n        ? 'bg-red-50 dark:bg-red-950/30' \n        : 'bg-gradient-to-r from-white to-slate-50 dark:from-slate-800 dark:to-slate-800/80'\n    }`}>\n      {/* Critical Banner - Mobile & Desktop */}\n      {isCritical && (\n        <div className=\"px-4 py-1.5 bg-gradient-to-r from-red-500 to-rose-500 flex items-center justify-center gap-2\">\n          <span className=\"relative flex h-2 w-2\">\n            <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n            <span className=\"relative inline-flex rounded-full h-2 w-2 bg-white\"></span>\n          </span>\n          <span className=\"text-white text-xs font-bold tracking-wide\">CRITICAL PATIENT - ผู้ป่วยวิกฤต</span>\n          <span className=\"relative flex h-2 w-2\">\n            <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n            <span className=\"relative inline-flex rounded-full h-2 w-2 bg-white\"></span>\n          </span>\n        </div>\n      )}\n\n      {/* Normal Patient - Subtle accent bar (at top of unified card) */}\n      {!isCritical && (\n        <div className=\"h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500\" />\n      )}\n\n      <div className=\"p-3 lg:px-4\">\n        {/* ==================== MOBILE LAYOUT (< 1024px) ==================== */}\n        <div className=\"lg:hidden\">\n          {/* Row 1: Avatar + Name + Expand Button */}\n          <div className=\"flex items-center gap-3\">\n            {/* Avatar */}\n            <div className=\"relative flex-shrink-0\">\n              <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${\n                patient.sex === 'M' \n                  ? 'from-blue-500 to-indigo-600' \n                  : 'from-pink-500 to-rose-500'\n              } flex items-center justify-center shadow-md ${\n                isCritical ? 'ring-2 ring-red-400 ring-offset-2' : ''\n              }`}>\n                <User className=\"w-6 h-6 text-white\" />\n              </div>\n              <span className=\"absolute -bottom-1 -right-1 px-1.5 py-0.5 bg-red-600 text-white text-[10px] font-bold rounded shadow\">\n                {patient.bloodType}\n              </span>\n            </div>\n\n            {/* Name + Basic Info */}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-2\">\n                <h2 className=\"text-base font-bold text-slate-800 dark:text-white truncate\">{patient.name}</h2>\n                <span className={`px-1.5 py-0.5 rounded text-[10px] font-semibold flex-shrink-0 ${\n                  patient.sex === 'M' \n                    ? 'bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400' \n                    : 'bg-pink-100 text-pink-700 dark:bg-pink-500/20 dark:text-pink-400'\n                }`}>\n                  {patient.sex === 'M' ? 'ชาย' : 'หญิง'} {patient.age}\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2 mt-0.5 text-xs text-slate-500\">\n                <span className=\"font-mono\">AN: {patient.an}</span>\n                <span>•</span>\n                <span>{patient.ward}</span>\n                <span className=\"px-1 py-0.5 bg-slate-100 dark:bg-slate-700 rounded text-[10px] font-bold\">\n                  {patient.room}-{patient.bed}\n                </span>\n              </div>\n            </div>\n\n            {/* Expand Button */}\n            <button \n              onClick={() => setIsExpanded(!isExpanded)}\n              className=\"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors\"\n            >\n              {isExpanded ? (\n                <ChevronUp className=\"w-5 h-5 text-slate-500\" />\n              ) : (\n                <ChevronDown className=\"w-5 h-5 text-slate-500\" />\n              )}\n            </button>\n          </div>\n\n          {/* Row 2: Essential Info (Always Visible on Mobile) */}\n          <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n            {/* Diagnosis */}\n            <div className={`flex items-center gap-1.5 px-2 py-1 rounded-lg ${\n              isCritical ? 'bg-red-100 dark:bg-red-500/20' : 'bg-slate-100 dark:bg-slate-700'\n            }`}>\n              <Heart className={`w-3.5 h-3.5 ${isCritical ? 'text-red-500' : 'text-rose-500'}`} />\n              <span className={`text-xs font-semibold truncate max-w-[150px] ${\n                isCritical ? 'text-red-700 dark:text-red-400' : 'text-slate-700 dark:text-slate-200'\n              }`}>\n                {patient.diagnosis}\n              </span>\n            </div>\n\n            {/* Allergy */}\n            {patient.allergies.length > 0 && (\n              <div className=\"flex items-center gap-1.5 px-2 py-1 bg-red-100 dark:bg-red-500/20 border border-red-200 dark:border-red-500/30 rounded-lg\">\n                <AlertTriangle className=\"w-3.5 h-3.5 text-red-500\" />\n                <div className=\"flex gap-1\">\n                  {patient.allergies.slice(0, 2).map((allergy, idx) => (\n                    <span key={idx} className=\"px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded\">\n                      {allergy}\n                    </span>\n                  ))}\n                  {patient.allergies.length > 2 && (\n                    <span className=\"text-[10px] text-red-600 font-semibold\">+{patient.allergies.length - 2}</span>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* LOS */}\n            <span className={`px-2 py-1 rounded-lg text-xs font-bold ${\n              patient.los >= 7 \n                ? 'bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400' \n                : 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400'\n            }`}>\n              LOS {patient.los}d\n            </span>\n\n            {/* Insurance */}\n            <span className=\"px-2 py-1 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 rounded-lg text-xs font-semibold\">\n              {patient.pttypeName}\n            </span>\n          </div>\n\n          {/* Expanded Content (Mobile) */}\n          <div className={`overflow-hidden transition-all duration-300 ${\n            isExpanded ? 'max-h-96 mt-3 pt-3 border-t border-slate-200 dark:border-slate-700' : 'max-h-0'\n          }`}>\n            <div className=\"grid grid-cols-2 gap-3 text-sm\">\n              {/* Doctor */}\n              <div className=\"flex items-center gap-2\">\n                <Stethoscope className=\"w-4 h-4 text-blue-500\" />\n                <div>\n                  <p className=\"text-[10px] text-slate-400\">แพทย์</p>\n                  <p className=\"text-xs font-medium text-slate-700 dark:text-slate-200\">{patient.admDoctor}</p>\n                </div>\n              </div>\n\n              {/* Admit Date */}\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4 text-slate-400\" />\n                <div>\n                  <p className=\"text-[10px] text-slate-400\">วันที่ Admit</p>\n                  <p className=\"text-xs font-medium text-slate-700 dark:text-slate-200\">{patient.regdate} {patient.regtime}</p>\n                </div>\n              </div>\n\n              {/* HN */}\n              <div className=\"flex items-center gap-2\">\n                <User className=\"w-4 h-4 text-slate-400\" />\n                <div>\n                  <p className=\"text-[10px] text-slate-400\">HN</p>\n                  <p className=\"text-xs font-mono font-medium text-slate-700 dark:text-slate-200\">{patient.hn}</p>\n                </div>\n              </div>\n\n              {/* Phone */}\n              <div className=\"flex items-center gap-2\">\n                <Phone className=\"w-4 h-4 text-emerald-500\" />\n                <div>\n                  <p className=\"text-[10px] text-slate-400\">ติดต่อฉุกเฉิน</p>\n                  <p className=\"text-xs font-medium text-slate-700 dark:text-slate-200\">{patient.emergencyContact}</p>\n                </div>\n              </div>\n\n              {/* U/D */}\n              <div className=\"col-span-2\">\n                <p className=\"text-[10px] text-slate-400 mb-1\">โรคประจำตัว (U/D)</p>\n                <div className=\"flex flex-wrap gap-1\">\n                  {patient.underlyingDiseases.map((disease, idx) => (\n                    <span key={idx} className=\"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs\">\n                      {disease}\n                    </span>\n                  ))}\n                  {patient.underlyingDiseases.length === 0 && (\n                    <span className=\"text-xs text-slate-400\">-</span>\n                  )}\n                </div>\n              </div>\n\n              {/* DRG/RW */}\n              <div className=\"col-span-2 flex items-center gap-4 pt-2 border-t border-slate-100 dark:border-slate-700\">\n                <span className=\"text-xs text-slate-500\">DRG: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.drg}</span></span>\n                <span className=\"text-xs text-slate-500\">RW: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.rw.toFixed(2)}</span></span>\n                <span className=\"text-xs text-slate-500\">Specialty: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.spclty}</span></span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ==================== DESKTOP LAYOUT (>= 1024px) ==================== */}\n        <div className=\"hidden lg:block\">\n          {/* Row 1: Avatar + Name + Critical + IDs + Ward + Allergy + Phone */}\n          <div className=\"flex items-center gap-4\">\n            {/* Avatar - Compact */}\n            <div className=\"relative flex-shrink-0\">\n              <div className={`w-11 h-11 rounded-xl bg-gradient-to-br ${\n                patient.sex === 'M' \n                  ? 'from-blue-500 to-indigo-600' \n                  : 'from-pink-500 to-rose-500'\n              } flex items-center justify-center shadow ${\n                isCritical ? 'ring-2 ring-red-400 ring-offset-1' : ''\n              }`}>\n                <User className=\"w-5 h-5 text-white\" />\n              </div>\n              <span className=\"absolute -bottom-0.5 -right-0.5 px-1 py-0.5 bg-red-600 text-white text-[9px] font-bold rounded\">\n                {patient.bloodType}\n              </span>\n            </div>\n\n            {/* Name + Sex/Age */}\n            <div className=\"flex items-center gap-2 min-w-0\">\n              <h2 className=\"text-base font-bold text-slate-800 dark:text-white truncate\">{patient.name}</h2>\n              <span className={`px-1.5 py-0.5 rounded text-xs font-medium flex-shrink-0 ${\n                patient.sex === 'M' \n                  ? 'bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400' \n                  : 'bg-pink-100 text-pink-700 dark:bg-pink-500/20 dark:text-pink-400'\n              }`}>\n                {patient.sex === 'M' ? 'ชาย' : 'หญิง'} {patient.age}ปี\n              </span>\n            </div>\n\n            {/* Separator */}\n            <div className=\"h-8 w-px bg-slate-200 dark:bg-slate-700 flex-shrink-0\" />\n\n            {/* IDs - Compact */}\n            <div className=\"flex items-center gap-3 text-sm flex-shrink-0\">\n              <span className=\"text-slate-400\">HN: <span className=\"font-semibold text-slate-700 dark:text-slate-200\">{patient.hn}</span></span>\n              <span className=\"text-slate-400\">AN: <span className=\"font-semibold text-slate-700 dark:text-slate-200\">{patient.an}</span></span>\n            </div>\n\n            {/* Separator */}\n            <div className=\"h-8 w-px bg-slate-200 dark:bg-slate-700 flex-shrink-0\" />\n\n            {/* Ward & Bed */}\n            <div className=\"flex items-center gap-2 text-sm flex-shrink-0\">\n              <Bed className=\"w-4 h-4 text-slate-400\" />\n              <span className=\"text-slate-600 dark:text-slate-300\">{patient.ward}</span>\n              <span className=\"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 rounded text-xs font-bold text-slate-700 dark:text-slate-300\">\n                {patient.room}-{patient.bed}\n              </span>\n            </div>\n\n            {/* Spacer */}\n            <div className=\"flex-1\" />\n\n            {/* Allergy - Right Side */}\n            {patient.allergies.length > 0 && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/30 rounded-lg flex-shrink-0\">\n                <AlertTriangle className=\"w-4 h-4 text-red-500\" />\n                <div className=\"flex gap-1\">\n                  {patient.allergies.map((allergy, idx) => (\n                    <span key={idx} className=\"px-1.5 py-0.5 bg-red-500 text-white text-xs font-bold rounded\">\n                      {allergy}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Phone */}\n            <div className=\"flex items-center gap-1.5 text-sm text-slate-500 flex-shrink-0\">\n              <Phone className=\"w-4 h-4 text-emerald-500\" />\n              <span className=\"font-medium\">{patient.emergencyContact}</span>\n            </div>\n          </div>\n\n          {/* Divider */}\n          <div className={`my-2.5 border-t ${isCritical ? 'border-red-200 dark:border-red-500/20' : 'border-slate-100 dark:border-slate-700'}`} />\n\n          {/* Row 2: Doctor + Diagnosis + Insurance + Admit + LOS + U/D + DRG/RW */}\n          <div className=\"flex items-center gap-4 text-sm\">\n            {/* Doctor */}\n            <div className=\"flex items-center gap-1.5\">\n              <Stethoscope className=\"w-4 h-4 text-blue-500\" />\n              <span className=\"text-slate-600 dark:text-slate-300\">{patient.admDoctor}</span>\n            </div>\n\n            {/* Separator */}\n            <div className=\"h-5 w-px bg-slate-200 dark:bg-slate-700\" />\n\n            {/* Diagnosis */}\n            <div className=\"flex items-center gap-1.5\">\n              <Heart className={`w-4 h-4 ${isCritical ? 'text-red-500' : 'text-rose-500'}`} />\n              <span className={`font-semibold ${isCritical ? 'text-red-600 dark:text-red-400' : 'text-slate-700 dark:text-slate-200'}`}>\n                {patient.diagnosis}\n              </span>\n            </div>\n\n            {/* Separator */}\n            <div className=\"h-5 w-px bg-slate-200 dark:bg-slate-700\" />\n\n            {/* Insurance */}\n            <div className=\"flex items-center gap-1.5\">\n              <Shield className=\"w-4 h-4 text-emerald-500\" />\n              <span className=\"px-1.5 py-0.5 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 rounded text-xs font-semibold\">\n                {patient.pttypeName}\n              </span>\n            </div>\n\n            {/* Separator */}\n            <div className=\"h-5 w-px bg-slate-200 dark:bg-slate-700\" />\n\n            {/* Admit Date */}\n            <div className=\"flex items-center gap-1.5 text-slate-500\">\n              <Clock className=\"w-4 h-4\" />\n              <span>{patient.regdate} {patient.regtime}</span>\n            </div>\n\n            {/* LOS */}\n            <span className={`px-2 py-0.5 rounded text-xs font-bold ${\n              patient.los >= 7 \n                ? 'bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400' \n                : 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400'\n            }`}>\n              LOS {patient.los}d\n            </span>\n\n            {/* Separator */}\n            <div className=\"h-5 w-px bg-slate-200 dark:bg-slate-700\" />\n\n            {/* Underlying Diseases */}\n            <div className=\"flex items-center gap-1.5\">\n              <span className=\"text-slate-400 text-xs\">U/D:</span>\n              {patient.underlyingDiseases.length > 0 ? (\n                patient.underlyingDiseases.map((disease, idx) => (\n                  <span key={idx} className=\"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs\">\n                    {disease}\n                  </span>\n                ))\n              ) : (\n                <span className=\"text-xs text-slate-400\">-</span>\n              )}\n            </div>\n\n            {/* Spacer */}\n            <div className=\"flex-1\" />\n\n            {/* DRG & RW - Right aligned */}\n            <div className=\"flex items-center gap-3 text-xs text-slate-500\">\n              <span>DRG: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.drg}</span></span>\n              <span>RW: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.rw.toFixed(2)}</span></span>\n              <span>Specialty: <span className=\"font-bold text-slate-700 dark:text-slate-300\">{patient.spclty}</span></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/app/ipd/%5Ban%5D/_components/CompactStickyHeader.tsx"],"sourcesContent":["'use client';\n\nimport { AlertTriangle, User } from 'lucide-react';\nimport { Patient } from '../_types';\n\ninterface CompactStickyHeaderProps {\n  patient: Patient;\n}\n\nexport function CompactStickyHeader({ patient }: CompactStickyHeaderProps) {\n  const isCritical = patient.isCritical;\n\n  return (\n    <div className={`w-full flex items-center justify-between gap-3 px-4 py-2 ${\n      isCritical \n        ? 'bg-red-50 dark:bg-red-950/50' \n        : 'bg-white/95 dark:bg-slate-800/95'\n    }`}>\n      {/* Left: Avatar + Name + AN */}\n      <div className=\"flex items-center gap-3 min-w-0 h-14 flex-1\">\n        {/* Mini Avatar */}\n        <div className={`relative shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-bold ${\n          patient.sex === 'M' \n            ? 'bg-gradient-to-br from-blue-500 to-indigo-600' \n            : 'bg-gradient-to-br from-pink-500 to-rose-500'\n        } ${isCritical ? 'ring-2 ring-red-400 ring-offset-1' : ''}`}>\n          {patient.name.charAt(0)}\n        </div>\n\n        {/* Name + IDs */}\n        <div className=\"min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-bold text-sm text-slate-800 dark:text-white truncate max-w-[150px] sm:max-w-none\">\n              {patient.name}\n            </span>\n            {isCritical && (\n              <span className=\"shrink-0 px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded animate-pulse\">\n                CRITICAL\n              </span>\n            )}\n          </div>\n          <div className=\"flex items-center gap-2 text-[11px] text-slate-500\">\n            <span>AN: <span className=\"font-semibold text-slate-700 dark:text-slate-300\">{patient.an}</span></span>\n            <span className=\"hidden sm:inline\">•</span>\n            <span className=\"hidden sm:inline\">HN: <span className=\"font-semibold text-slate-700 dark:text-slate-300\">{patient.hn}</span></span>\n          </div>\n        </div>\n      </div>\n\n      {/* Right: Allergy (Most Important!) */}\n      {patient.allergies.length > 0 && (\n        <div className=\"shrink-0 flex items-center gap-1.5 px-2 py-1 bg-red-100 dark:bg-red-500/20 border border-red-300 dark:border-red-500/30 rounded-lg\">\n          <AlertTriangle className=\"w-3.5 h-3.5 text-red-500\" />\n          <span className=\"hidden sm:inline text-[11px] font-semibold text-red-600 dark:text-red-400\">แพ้:</span>\n          <div className=\"flex gap-1\">\n            {patient.allergies.slice(0, 2).map((allergy, idx) => (\n              <span key={idx} className=\"px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded\">\n                {allergy}\n              </span>\n            ))}\n            {patient.allergies.length > 2 && (\n              <span className=\"text-[10px] text-red-600 dark:text-red-400 font-bold\">+{patient.allergies.length - 2}</span>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* No Allergy Badge */}\n      {patient.allergies.length === 0 && (\n        <div className=\"shrink-0 flex items-center gap-1.5 px-2 py-1 bg-emerald-100 dark:bg-emerald-500/20 rounded-lg\">\n          <span className=\"text-[11px] font-semibold text-emerald-600 dark:text-emerald-400\">NKA</span>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,oBAAoB,EAAE,OAAO,EAA4B;IACvE,MAAM,aAAa,QAAQ,UAAU;IAErC,qBACE,4PAAC;QAAI,WAAW,CAAC,yDAAyD,EACxE,aACI,iCACA,oCACJ;;0BAEA,4PAAC;gBAAI,WAAU;;kCAEb,4PAAC;wBAAI,WAAW,CAAC,mGAAmG,EAClH,QAAQ,GAAG,KAAK,MACZ,kDACA,8CACL,CAAC,EAAE,aAAa,sCAAsC,IAAI;kCACxD,QAAQ,IAAI,CAAC,MAAM,CAAC;;;;;;kCAIvB,4PAAC;wBAAI,WAAU;;0CACb,4PAAC;gCAAI,WAAU;;kDACb,4PAAC;wCAAK,WAAU;kDACb,QAAQ,IAAI;;;;;;oCAEd,4BACC,4PAAC;wCAAK,WAAU;kDAA2F;;;;;;;;;;;;0CAK/G,4PAAC;gCAAI,WAAU;;kDACb,4PAAC;;4CAAK;0DAAI,4PAAC;gDAAK,WAAU;0DAAoD,QAAQ,EAAE;;;;;;;;;;;;kDACxF,4PAAC;wCAAK,WAAU;kDAAmB;;;;;;kDACnC,4PAAC;wCAAK,WAAU;;4CAAmB;0DAAI,4PAAC;gDAAK,WAAU;0DAAoD,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAM1H,QAAQ,SAAS,CAAC,MAAM,GAAG,mBAC1B,4PAAC;gBAAI,WAAU;;kCACb,4PAAC,uPAAa;wBAAC,WAAU;;;;;;kCACzB,4PAAC;wBAAK,WAAU;kCAA4E;;;;;;kCAC5F,4PAAC;wBAAI,WAAU;;4BACZ,QAAQ,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,SAAS,oBAC3C,4PAAC;oCAAe,WAAU;8CACvB;mCADQ;;;;;4BAIZ,QAAQ,SAAS,CAAC,MAAM,GAAG,mBAC1B,4PAAC;gCAAK,WAAU;;oCAAuD;oCAAE,QAAQ,SAAS,CAAC,MAAM,GAAG;;;;;;;;;;;;;;;;;;;YAO3G,QAAQ,SAAS,CAAC,MAAM,KAAK,mBAC5B,4PAAC;gBAAI,WAAU;0BACb,cAAA,4PAAC;oBAAK,WAAU;8BAAmE;;;;;;;;;;;;;;;;;AAK7F"}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/app/ipd/%5Ban%5D/_components/XrayTab.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Image as ImageIcon, Calendar, FileText, ExternalLink, Clock, ChevronDown, ChevronRight, Monitor } from 'lucide-react';\nimport { ImagingResult } from '../_types';\n\ninterface XrayTabProps {\n  imagingResults?: ImagingResult[];\n}\n\nconst mockImagingResults: ImagingResult[] = [\n  {\n    id: 1,\n    type: 'Chest X-Ray PA',\n    date: '20/01/67 08:30',\n    status: 'completed',\n    finding: 'Cardiomegaly with mild pulmonary congestion. No pleural effusion. No active pulmonary infiltration.',\n  },\n  {\n    id: 2,\n    type: 'Echocardiogram',\n    date: '19/01/67 14:00',\n    status: 'completed',\n    finding: 'EF 45%, moderate LV dysfunction with global hypokinesia. Mild MR. No pericardial effusion. LA mildly dilated.',\n  },\n  {\n    id: 3,\n    type: 'Coronary Angiography',\n    date: '18/01/67 10:00',\n    status: 'completed',\n    finding: '90% stenosis proximal LAD, 70% stenosis mid RCA. LCx normal. PCI to LAD recommended.',\n  },\n  {\n    id: 4,\n    type: 'CT Chest with contrast',\n    date: '20/01/67 15:00',\n    status: 'pending',\n    finding: '',\n  },\n  {\n    id: 5,\n    type: 'Portable CXR',\n    date: '19/01/67 06:00',\n    status: 'completed',\n    finding: 'Stable cardiomegaly. ET tube tip 3cm above carina. NGT tip in stomach.',\n  },\n];\n\nexport function XrayTab({ imagingResults = mockImagingResults }: XrayTabProps) {\n  const [expandedItems, setExpandedItems] = useState<number[]>([1, 2, 3]);\n\n  // Extract date part (e.g., \"20/01/67\" from \"20/01/67 08:30\")\n  const getDatePart = (datetime: string) => datetime.split(' ')[0];\n  const getTimePart = (datetime: string) => datetime.split(' ')[1] || '';\n\n  // Group by date\n  const groupedByDate = imagingResults.reduce((acc, result) => {\n    const datePart = getDatePart(result.date);\n    if (!acc[datePart]) acc[datePart] = [];\n    acc[datePart].push(result);\n    return acc;\n  }, {} as Record<string, ImagingResult[]>);\n\n  // Sort dates descending\n  const sortedDates = Object.keys(groupedByDate).sort((a, b) => {\n    const [dayA, monthA, yearA] = a.split('/').map(Number);\n    const [dayB, monthB, yearB] = b.split('/').map(Number);\n    if (yearA !== yearB) return yearB - yearA;\n    if (monthA !== monthB) return monthB - monthA;\n    return dayB - dayA;\n  });\n\n  const toggleItem = (id: number) => {\n    setExpandedItems(prev => \n      prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]\n    );\n  };\n\n  const completedCount = imagingResults.filter(r => r.status === 'completed').length;\n  const pendingCount = imagingResults.filter(r => r.status === 'pending').length;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <ImageIcon className=\"w-4 h-4 text-cyan-500\" />\n            <h3 className=\"font-semibold text-sm text-slate-800 dark:text-white\">X-Ray & Imaging</h3>\n          </div>\n          <div className=\"flex items-center gap-4 text-xs\">\n            <span className=\"text-slate-500\">\n              Total: <span className=\"font-semibold text-slate-700 dark:text-slate-300\">{imagingResults.length}</span>\n            </span>\n            <span className=\"text-slate-500\">\n              Completed: <span className=\"font-semibold text-emerald-600 dark:text-emerald-400\">{completedCount}</span>\n            </span>\n            {pendingCount > 0 && (\n              <span className=\"flex items-center gap-1 px-2 py-0.5 bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400 rounded font-semibold\">\n                <Clock className=\"w-3 h-3\" />\n                Pending: {pendingCount}\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Timeline by Date */}\n      <div className=\"space-y-3\">\n        {sortedDates.map((date, dateIdx) => {\n          const results = groupedByDate[date];\n          const hasPending = results.some(r => r.status === 'pending');\n          \n          return (\n            <div key={date} className=\"relative\">\n              {/* Timeline connector */}\n              {dateIdx < sortedDates.length - 1 && (\n                <div className=\"absolute left-[15px] top-[40px] bottom-[-12px] w-px bg-slate-200 dark:bg-slate-700\" />\n              )}\n              \n              <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden\">\n                {/* Date Header */}\n                <div className=\"px-3 py-2.5 flex items-center gap-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50\">\n                  <div className={`w-[10px] h-[10px] rounded-full flex-shrink-0 ${\n                    hasPending ? 'bg-amber-500' : 'bg-emerald-500'\n                  }`} />\n                  <span className=\"font-semibold text-sm text-slate-800 dark:text-white\">{date}</span>\n                  <span className=\"text-xs text-slate-400\">({results.length} รายการ)</span>\n                </div>\n\n                {/* Results */}\n                <div>\n                  {results.map((result, idx) => {\n                    const isExpanded = expandedItems.includes(result.id);\n                    \n                    return (\n                      <div key={result.id} className={`border-b border-slate-100 dark:border-slate-700 last:border-b-0 ${\n                        result.status === 'pending' ? 'bg-amber-50/50 dark:bg-amber-500/5' : ''\n                      }`}>\n                        {/* Result Header */}\n                        <div className=\"px-4 py-3 flex items-center justify-between\">\n                          <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                            <div className={`w-8 h-8 rounded flex items-center justify-center flex-shrink-0 ${\n                              result.status === 'pending'\n                                ? 'bg-amber-100 dark:bg-amber-500/20'\n                                : 'bg-cyan-100 dark:bg-cyan-500/20'\n                            }`}>\n                              {result.status === 'pending' ? (\n                                <Clock className=\"w-4 h-4 text-amber-600 dark:text-amber-400\" />\n                              ) : (\n                                <ImageIcon className=\"w-4 h-4 text-cyan-600 dark:text-cyan-400\" />\n                              )}\n                            </div>\n                            <div className=\"min-w-0 flex-1\">\n                              <div className=\"flex items-center gap-2\">\n                                <span className=\"font-medium text-sm text-slate-800 dark:text-white\">{result.type}</span>\n                                <span className=\"text-xs text-slate-400\">{getTimePart(result.date)}</span>\n                                {result.status === 'pending' && (\n                                  <span className=\"px-1.5 py-0.5 bg-amber-500 text-white text-[10px] font-bold rounded\">\n                                    รอผล\n                                  </span>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                          \n                          <div className=\"flex items-center gap-2\">\n                            {result.status === 'completed' && (\n                              <>\n                                <button className=\"flex items-center gap-1 px-2 py-1 text-xs text-cyan-600 dark:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-500/10 rounded transition-colors\">\n                                  <Monitor className=\"w-3.5 h-3.5\" />\n                                  <span className=\"hidden sm:inline\">PACS</span>\n                                </button>\n                                <button\n                                  onClick={() => toggleItem(result.id)}\n                                  className=\"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors\"\n                                >\n                                  {isExpanded ? (\n                                    <ChevronDown className=\"w-4 h-4 text-slate-400\" />\n                                  ) : (\n                                    <ChevronRight className=\"w-4 h-4 text-slate-400\" />\n                                  )}\n                                </button>\n                              </>\n                            )}\n                          </div>\n                        </div>\n\n                        {/* Finding - Expandable */}\n                        {isExpanded && result.status === 'completed' && result.finding && (\n                          <div className=\"px-4 pb-3\">\n                            <div className=\"ml-11 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border-l-2 border-cyan-500\">\n                              <p className=\"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1 flex items-center gap-1\">\n                                <FileText className=\"w-3 h-3\" />\n                                Impression\n                              </p>\n                              <p className=\"text-sm text-slate-700 dark:text-slate-300 leading-relaxed\">\n                                {result.finding}\n                              </p>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Empty State */}\n      {imagingResults.length === 0 && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center\">\n          <ImageIcon className=\"w-10 h-10 text-slate-300 dark:text-slate-600 mx-auto mb-3\" />\n          <p className=\"text-sm text-slate-500\">ยังไม่มีผล X-Ray/Imaging</p>\n        </div>\n      )}\n\n      {/* Quick Reference */}\n      <div className=\"flex items-center gap-4 text-xs text-slate-500 px-1\">\n        <span className=\"flex items-center gap-1.5\">\n          <span className=\"w-2 h-2 rounded-full bg-emerald-500\" /> Completed\n        </span>\n        <span className=\"flex items-center gap-1.5\">\n          <span className=\"w-2 h-2 rounded-full bg-amber-500\" /> Pending\n        </span>\n        <span className=\"flex items-center gap-1.5\">\n          <Monitor className=\"w-3 h-3 text-cyan-500\" /> View in PACS\n        </span>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1893, "column": 0}, "map": {"version":3,"sources":["file:///Users/auto/programming/gwt/gwt-his/his-web/src/app/ipd/%5Ban%5D/_components/LabTab.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { TestTube, TrendingUp, TrendingDown, AlertTriangle, Clock, ChevronDown, ChevronRight } from 'lucide-react';\nimport { LabResult } from '../_types';\n\ninterface LabTabProps {\n  labResults?: LabResult[];\n}\n\nconst mockLabResults: LabResult[] = [\n  {\n    id: 1,\n    name: 'CBC',\n    date: '20/01/67',\n    time: '08:00',\n    status: 'completed',\n    items: [\n      { test: 'WBC', result: '12.5', unit: '10³/µL', refRange: '4.0-10.0', flag: 'H' },\n      { test: 'RBC', result: '4.2', unit: '10⁶/µL', refRange: '4.0-5.5' },\n      { test: 'Hb', result: '11.2', unit: 'g/dL', refRange: '12.0-16.0', flag: 'L' },\n      { test: 'Hct', result: '36', unit: '%', refRange: '36-46' },\n      { test: 'Platelet', result: '250', unit: '10³/µL', refRange: '150-400' },\n    ],\n  },\n  {\n    id: 2,\n    name: 'Cardiac Marker',\n    date: '20/01/67',\n    time: '06:00',\n    status: 'completed',\n    items: [\n      { test: 'Troponin-T', result: '0.85', unit: 'ng/mL', refRange: '<0.01', flag: 'C' },\n      { test: 'CK-MB', result: '45', unit: 'U/L', refRange: '<25', flag: 'H' },\n      { test: 'BNP', result: '850', unit: 'pg/mL', refRange: '<100', flag: 'H' },\n    ],\n  },\n  {\n    id: 3,\n    name: 'Kidney Function',\n    date: '20/01/67',\n    time: '06:00',\n    status: 'completed',\n    items: [\n      { test: 'BUN', result: '28', unit: 'mg/dL', refRange: '7-20', flag: 'H' },\n      { test: 'Cr', result: '1.4', unit: 'mg/dL', refRange: '0.7-1.3', flag: 'H' },\n      { test: 'eGFR', result: '52', unit: 'mL/min', refRange: '>60', flag: 'L' },\n    ],\n  },\n  {\n    id: 4,\n    name: 'Electrolyte',\n    date: '20/01/67',\n    time: '14:00',\n    status: 'pending',\n    items: [],\n  },\n  {\n    id: 5,\n    name: 'CBC',\n    date: '19/01/67',\n    time: '06:00',\n    status: 'completed',\n    items: [\n      { test: 'WBC', result: '14.2', unit: '10³/µL', refRange: '4.0-10.0', flag: 'H' },\n      { test: 'RBC', result: '4.0', unit: '10⁶/µL', refRange: '4.0-5.5' },\n      { test: 'Hb', result: '10.8', unit: 'g/dL', refRange: '12.0-16.0', flag: 'L' },\n      { test: 'Hct', result: '34', unit: '%', refRange: '36-46', flag: 'L' },\n      { test: 'Platelet', result: '245', unit: '10³/µL', refRange: '150-400' },\n    ],\n  },\n  {\n    id: 6,\n    name: 'Cardiac Marker',\n    date: '19/01/67',\n    time: '06:00',\n    status: 'completed',\n    items: [\n      { test: 'Troponin-T', result: '1.25', unit: 'ng/mL', refRange: '<0.01', flag: 'C' },\n      { test: 'CK-MB', result: '68', unit: 'U/L', refRange: '<25', flag: 'H' },\n    ],\n  },\n  {\n    id: 7,\n    name: 'CBC',\n    date: '18/01/67',\n    time: '14:30',\n    status: 'completed',\n    items: [\n      { test: 'WBC', result: '15.8', unit: '10³/µL', refRange: '4.0-10.0', flag: 'H' },\n      { test: 'Hb', result: '10.5', unit: 'g/dL', refRange: '12.0-16.0', flag: 'L' },\n    ],\n  },\n];\n\nexport function LabTab({ labResults = mockLabResults }: LabTabProps) {\n  const [expandedDates, setExpandedDates] = useState<string[]>([labResults[0]?.date || '']);\n  const [expandedLabs, setExpandedLabs] = useState<number[]>([1, 2]);\n\n  // Group by date\n  const groupedByDate = labResults.reduce((acc, lab) => {\n    if (!acc[lab.date]) acc[lab.date] = [];\n    acc[lab.date].push(lab);\n    return acc;\n  }, {} as Record<string, LabResult[]>);\n\n  // Sort dates descending (latest first)\n  const sortedDates = Object.keys(groupedByDate).sort((a, b) => {\n    const [dayA, monthA, yearA] = a.split('/').map(Number);\n    const [dayB, monthB, yearB] = b.split('/').map(Number);\n    if (yearA !== yearB) return yearB - yearA;\n    if (monthA !== monthB) return monthB - monthA;\n    return dayB - dayA;\n  });\n\n  const toggleDate = (date: string) => {\n    setExpandedDates(prev => \n      prev.includes(date) ? prev.filter(d => d !== date) : [...prev, date]\n    );\n  };\n\n  const toggleLab = (labId: number) => {\n    setExpandedLabs(prev => \n      prev.includes(labId) ? prev.filter(id => id !== labId) : [...prev, labId]\n    );\n  };\n\n  // Stats\n  const completedCount = labResults.filter(r => r.status === 'completed').length;\n  const pendingCount = labResults.filter(r => r.status === 'pending').length;\n  const criticalCount = labResults.reduce((count, lab) => \n    count + lab.items.filter(item => item.flag === 'C').length, 0\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header Stats */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <TestTube className=\"w-5 h-5 text-purple-500\" />\n            <h3 className=\"font-semibold text-base text-slate-800 dark:text-white\">Laboratory Results</h3>\n          </div>\n          <div className=\"flex items-center gap-4 text-sm\">\n            <span className=\"text-slate-500\">\n              Total: <span className=\"font-semibold text-slate-700 dark:text-slate-300\">{labResults.length}</span>\n            </span>\n            <span className=\"text-slate-500\">\n              Completed: <span className=\"font-semibold text-emerald-600 dark:text-emerald-400\">{completedCount}</span>\n            </span>\n            {pendingCount > 0 && (\n              <span className=\"text-slate-500\">\n                Pending: <span className=\"font-semibold text-amber-600 dark:text-amber-400\">{pendingCount}</span>\n              </span>\n            )}\n            {criticalCount > 0 && (\n              <span className=\"flex items-center gap-1 px-2.5 py-1 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 rounded font-semibold\">\n                <AlertTriangle className=\"w-4 h-4\" />\n                Critical: {criticalCount}\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Timeline by Date */}\n      <div className=\"space-y-3\">\n        {sortedDates.map((date, dateIdx) => {\n          const labs = groupedByDate[date];\n          const isExpanded = expandedDates.includes(date);\n          const hasCritical = labs.some(lab => lab.items.some(i => i.flag === 'C'));\n          const hasPending = labs.some(lab => lab.status === 'pending');\n          \n          return (\n            <div key={date} className=\"relative\">\n              {/* Timeline connector */}\n              {dateIdx < sortedDates.length - 1 && (\n                <div className=\"absolute left-[17px] top-[48px] bottom-[-12px] w-px bg-slate-200 dark:bg-slate-700\" />\n              )}\n              \n              <div className={`bg-white dark:bg-slate-800 rounded-lg border overflow-hidden ${\n                hasCritical \n                  ? 'border-l-2 border-l-red-500 border-y border-r border-y-slate-200 border-r-slate-200 dark:border-y-slate-700 dark:border-r-slate-700' \n                  : 'border-slate-200 dark:border-slate-700'\n              }`}>\n                {/* Date Header */}\n                <button\n                  onClick={() => toggleDate(date)}\n                  className=\"w-full px-4 py-3 flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors\"\n                >\n                  {/* Timeline dot */}\n                  <div className={`w-3 h-3 rounded-full flex-shrink-0 ${\n                    hasCritical \n                      ? 'bg-red-500' \n                      : hasPending \n                        ? 'bg-amber-500' \n                        : 'bg-emerald-500'\n                  }`} />\n                  \n                  <div className=\"flex-1 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-semibold text-base text-slate-800 dark:text-white\">{date}</span>\n                      <span className=\"text-sm text-slate-400\">({labs.length} รายการ)</span>\n                      {hasCritical && (\n                        <span className=\"px-2 py-0.5 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 text-xs font-bold rounded\">\n                          CRITICAL\n                        </span>\n                      )}\n                    </div>\n                    {isExpanded ? (\n                      <ChevronDown className=\"w-5 h-5 text-slate-400\" />\n                    ) : (\n                      <ChevronRight className=\"w-5 h-5 text-slate-400\" />\n                    )}\n                  </div>\n                </button>\n\n                {/* Labs for this date */}\n                {isExpanded && (\n                  <div className=\"border-t border-slate-100 dark:border-slate-700\">\n                    {labs.map(lab => {\n                      const isLabExpanded = expandedLabs.includes(lab.id);\n                      const labHasCritical = lab.items.some(i => i.flag === 'C');\n                      const labHasAbnormal = lab.items.some(i => i.flag === 'H' || i.flag === 'L');\n                      \n                      return (\n                        <div key={lab.id} className=\"border-b border-slate-100 dark:border-slate-700 last:border-b-0\">\n                          {/* Lab Header */}\n                          <button\n                            onClick={() => lab.status === 'completed' && toggleLab(lab.id)}\n                            disabled={lab.status === 'pending'}\n                            className={`w-full px-4 py-3 flex items-center justify-between text-left transition-colors ${\n                              lab.status === 'completed' ? 'hover:bg-slate-50 dark:hover:bg-slate-700/50' : ''\n                            }`}\n                          >\n                            <div className=\"flex items-center gap-3\">\n                              <div className={`w-9 h-9 rounded-lg flex items-center justify-center ${\n                                lab.status === 'pending'\n                                  ? 'bg-amber-100 dark:bg-amber-500/20'\n                                  : labHasCritical\n                                    ? 'bg-red-100 dark:bg-red-500/20'\n                                    : 'bg-purple-100 dark:bg-purple-500/20'\n                              }`}>\n                                {lab.status === 'pending' ? (\n                                  <Clock className=\"w-4 h-4 text-amber-600 dark:text-amber-400\" />\n                                ) : (\n                                  <TestTube className={`w-4 h-4 ${\n                                    labHasCritical \n                                      ? 'text-red-600 dark:text-red-400' \n                                      : 'text-purple-600 dark:text-purple-400'\n                                  }`} />\n                                )}\n                              </div>\n                              <div>\n                                <span className=\"font-medium text-base text-slate-700 dark:text-slate-200\">{lab.name}</span>\n                                <span className=\"text-sm text-slate-400 ml-2\">{lab.time}</span>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              {lab.status === 'pending' ? (\n                                <span className=\"px-2.5 py-1 bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400 text-xs font-semibold rounded\">\n                                  รอผล\n                                </span>\n                              ) : (\n                                <>\n                                  {labHasCritical && (\n                                    <AlertTriangle className=\"w-4 h-4 text-red-500\" />\n                                  )}\n                                  {labHasAbnormal && !labHasCritical && (\n                                    <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500\" />\n                                  )}\n                                  {!labHasAbnormal && (\n                                    <span className=\"w-2.5 h-2.5 rounded-full bg-emerald-500\" />\n                                  )}\n                                  {isLabExpanded ? (\n                                    <ChevronDown className=\"w-5 h-5 text-slate-400\" />\n                                  ) : (\n                                    <ChevronRight className=\"w-5 h-5 text-slate-400\" />\n                                  )}\n                                </>\n                              )}\n                            </div>\n                          </button>\n\n                          {/* Lab Items Table */}\n                          {isLabExpanded && lab.status === 'completed' && (\n                            <div className=\"px-4 pb-4\">\n                              <table className=\"w-full text-sm\">\n                                <thead>\n                                  <tr className=\"text-slate-400\">\n                                    <th className=\"text-left py-2 font-medium\">Test</th>\n                                    <th className=\"text-right py-2 font-medium\">Result</th>\n                                    <th className=\"text-left py-2 pl-3 font-medium\">Unit</th>\n                                    <th className=\"text-left py-2 font-medium\">Ref</th>\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  {lab.items.map((item, idx) => (\n                                    <tr key={idx} className={`border-t border-slate-100 dark:border-slate-700 ${\n                                      item.flag === 'C' ? 'bg-red-50 dark:bg-red-500/5' : ''\n                                    }`}>\n                                      <td className=\"py-2.5 text-slate-700 dark:text-slate-300\">{item.test}</td>\n                                      <td className=\"py-2.5 text-right\">\n                                        <span className={`inline-flex items-center gap-1.5 font-semibold ${\n                                          item.flag === 'C' \n                                            ? 'text-red-600 dark:text-red-400' \n                                            : item.flag === 'H'\n                                              ? 'text-red-600 dark:text-red-400'\n                                              : item.flag === 'L'\n                                                ? 'text-blue-600 dark:text-blue-400'\n                                                : 'text-slate-700 dark:text-slate-300'\n                                        }`}>\n                                          {item.result}\n                                          {item.flag === 'H' && <TrendingUp className=\"w-4 h-4\" />}\n                                          {item.flag === 'L' && <TrendingDown className=\"w-4 h-4\" />}\n                                          {item.flag === 'C' && <AlertTriangle className=\"w-4 h-4\" />}\n                                        </span>\n                                      </td>\n                                      <td className=\"py-2.5 pl-3 text-slate-400\">{item.unit}</td>\n                                      <td className=\"py-2.5 text-slate-400 font-mono\">{item.refRange}</td>\n                                    </tr>\n                                  ))}\n                                </tbody>\n                              </table>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Empty State */}\n      {labResults.length === 0 && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center\">\n          <TestTube className=\"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3\" />\n          <p className=\"text-base text-slate-500\">ยังไม่มีผล Lab</p>\n        </div>\n      )}\n\n      {/* Legend */}\n      <div className=\"flex items-center gap-5 text-sm text-slate-500 px-1\">\n        <span className=\"flex items-center gap-2\">\n          <TrendingUp className=\"w-4 h-4 text-red-500\" /> สูง (H)\n        </span>\n        <span className=\"flex items-center gap-2\">\n          <TrendingDown className=\"w-4 h-4 text-blue-500\" /> ต่ำ (L)\n        </span>\n        <span className=\"flex items-center gap-2\">\n          <AlertTriangle className=\"w-4 h-4 text-red-500\" /> Critical (C)\n        </span>\n        <span className=\"flex items-center gap-2\">\n          <span className=\"w-2.5 h-2.5 rounded-full bg-emerald-500\" /> ปกติ\n        </span>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}